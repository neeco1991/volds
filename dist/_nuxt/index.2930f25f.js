var gu=Object.defineProperty;var mu=(e,t,i)=>t in e?gu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var H=(e,t,i)=>(mu(e,typeof t!="symbol"?t+"":t,i),i);import{a as mn,b as at,e as Zl,r as C,o as T,c as B,w as M,f as y,h as _,u as $,i as vu,j as _u,k as R,l as qs,T as bu,m as N,t as E,p as nt,q as We,s as Gs,v as De,x as z,F as Dt,y as Lt,z as yu,A as X,B as Ae,C as po,D as rs,E as os,G as Ge,H as Ql,I as xu,J as Jl,K as Zn,L as tc,M as wu}from"./entry.2d1f2b21.js";const Du="https://api.wild-fire.eu/rest/firespread/forecast/",_e=mn("fires",{state:()=>({active:!1,loading:!1,list:[],count:0,error:null,compare:[],firesFrom:new Date,firesTo:new Date,firesArea:30}),getters:{isActive:({active:e})=>e,isLoading:({loading:e})=>e,getList:({list:e})=>e,getCompare:({compare:e})=>e,getFiresFrom:({firesFrom:e})=>e,getFiresTo:({firesTo:e})=>e,getFiresArea:({firesArea:e})=>e},actions:{async init(){const{query:e}=this.router.currentRoute.value;this.active=e.active==="true",this.firesFrom=e.firesFrom?new Date(e.firesFrom):new Date(new Date().setDate(new Date().getDate()-7)),this.firesTo=e.firesTo?new Date(e.firesTo):new Date,this.firesArea=e.firesArea?parseInt(e.firesArea):30,await this.fetchList(),e.compare,this.compare=this.list.filter(t=>(e.compare||[]).includes(t.id.toString())),this.pushOnQps()},isCompared(e){return this.compare.findIndex(t=>t.id===e)!==-1},setDates(e,t){(e!==this.firesFrom||t!==this.firesTo)&&(this.firesFrom=e,this.firesTo=t,this.pushOnQps(),this.fetchList())},setArea(e){e!==this.firesArea&&(this.firesArea=e,this.pushOnQps(),this.fetchList())},toggleActive(){this.active=!this.active,this.pushOnQps()},setActive(e){this.active=e,this.pushOnQps()},toggleCompare(e){const t=this.compare.findIndex(i=>i.id===e.id);t===-1?this.compare.push(e):this.compare.splice(t,1),this.pushOnQps()},async fetchList(){this.loading=!0;const e=this.firesFrom.toISOString().slice(0,10),t=this.firesTo.toISOString().slice(0,10),i=this.firesArea.toString(),s=`${Du}?finaldate__gte=${e}&finaldate__lte=${t}&area__gte=${i}&ordering=-initialdate`,n=await fetch(s),r=await n.json();if(!n.ok){this.error=n.statusText,this.loading=!1;return}this.error=null,this.list=r.results,this.count=r.count,this.loading=!1},async pushOnQps(){const{query:e}=await this.router.currentRoute.value;this.router.push({query:{...e,firesFrom:this.firesFrom.toISOString().slice(0,10),firesTo:this.firesTo.toISOString().slice(0,10),firesArea:this.firesArea,active:this.active.toString(),compare:this.compare.map(t=>t.id)}})}}}),xr=mn("settings",{state:()=>({active:!0}),getters:{isActive:e=>e.active},actions:{toggleActive(){this.active=!this.active}}}),as=mn("theme",{state:()=>({dark:!0}),getters:{isDark:e=>e.dark,primary:({dark:e})=>e?"grey-darken-4":"grey-lighten-4",secondary:({dark:e})=>e?"grey-darken-3":"grey-lighten-3"},actions:{toggleDark(){this.dark=!this.dark}}}),Mu={style:{position:"absolute",top:"50%",right:"20px",transform:"translateY(-50%)"}},$u=at({__name:"Topbar",setup(e){const t=as(),i=xr(),s=_e(),n=Zl(),r=[{title:"EC",href:"https://ec.europa.eu"},{title:"Copernicus",href:"https://www.copernicus.eu"},{title:"Emergencies",href:"https://emergency.copernicus.eu"},{title:"Fires",href:"https://effis.jrc.ec.europa.eu"},{title:"Decision Support System",href:"/"}],o=()=>{t.toggleDark()},a=()=>{i.toggleActive()},l=()=>{const{query:c}=n.currentRoute.value;s.toggleActive(),n.push({query:{...c,fires:s.isActive.toString()}})};return(c,h)=>{const u=C("v-icon"),d=C("v-breadcrumbs"),f=C("v-btn"),m=C("v-card");return T(),B(m,{color:$(t).primary,elevated:"","min-height":"4rem",rounded:"0",style:{position:"relative"}},{default:M(()=>[y(d,{style:{display:"flex","justify-content":"center"},items:r},{divider:M(()=>[y(u,{icon:"mdi-chevron-right"})]),_:1}),_("div",Mu,[y(f,{icon:"",border:"none",variant:"flat",color:"transparent",onClick:h[0]||(h[0]=p=>a())},{default:M(()=>[y(u,{color:$(i).isActive?"#ada6a2":void 0,icon:"mdi-cog"},null,8,["color"])]),_:1}),y(f,{icon:"",border:"none",variant:"flat",color:"transparent",onClick:h[1]||(h[1]=p=>l())},{default:M(()=>[y(u,{color:$(s).isActive?"#ff4000":void 0,icon:"mdi-fire"},null,8,["color"])]),_:1}),y(f,{icon:"",border:"none",variant:"flat",color:"transparent",onClick:h[2]||(h[2]=p=>o())},{default:M(()=>[y(u,{icon:"mdi-brightness-6"})]),_:1})])]),_:1},8,["color"])}}});function Ki(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function qt(e){if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t?t.defaultView:window}return e}function wr(e){var t=qt(e),i=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:i,scrollTop:s}}function qi(e){var t=qt(e).Element;return e instanceof t||e instanceof Element}function ae(e){var t=qt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ku(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Pu(e){return e===qt(e)||!ae(e)?wr(e):ku(e)}function be(e){return e?(e.nodeName||"").toLowerCase():null}function Ie(e){return(qi(e)?e.ownerDocument:e.document).documentElement}function ec(e){return Ki(Ie(e)).left+wr(e).scrollLeft}function ls(e){return qt(e).getComputedStyle(e)}function Dr(e){var t=ls(e),i=t.overflow,s=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+s)}function ic(e,t,i){i===void 0&&(i=!1);var s=Ie(t),n=Ki(e),r={scrollLeft:0,scrollTop:0},o={x:0,y:0};return i||((be(t)!=="body"||Dr(s))&&(r=Pu(t)),ae(t)?(o=Ki(t),o.x+=t.clientLeft,o.y+=t.clientTop):s&&(o.x=ec(s))),{x:n.left+r.scrollLeft-o.x,y:n.top+r.scrollTop-o.y,width:n.width,height:n.height}}function Mr(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function sc(e){return be(e)==="html"?e:e.assignedSlot||e.parentNode||e.host||Ie(e)}function nc(e){return["html","body","#document"].indexOf(be(e))>=0?e.ownerDocument.body:ae(e)&&Dr(e)?e:nc(sc(e))}function Yi(e,t){t===void 0&&(t=[]);var i=nc(e),s=be(i)==="body",n=qt(i),r=s?[n].concat(n.visualViewport||[],Dr(i)?i:[]):i,o=t.concat(r);return s?o:o.concat(Yi(sc(r)))}function Su(e){return["table","td","th"].indexOf(be(e))>=0}function go(e){return!ae(e)||ls(e).position==="fixed"?null:e.offsetParent}function cs(e){for(var t=qt(e),i=go(e);i&&Su(i);)i=go(i);return i&&be(i)==="body"&&ls(i).position==="static"?t:i||t}var Vt="top",Zt="bottom",Qt="right",Ut="left",$r="auto",hs=[Vt,Zt,Qt,Ut],ni="start",kr="end",Ou="clippingParents",rc="viewport",Di="popper",Tu="reference",mo=hs.reduce(function(e,t){return e.concat([t+"-"+ni,t+"-"+kr])},[]),oc=[].concat(hs,[$r]).reduce(function(e,t){return e.concat([t,t+"-"+ni,t+"-"+kr])},[]),Cu="beforeRead",Au="read",Iu="afterRead",Eu="beforeMain",Lu="main",Fu="afterMain",Yu="beforeWrite",Ru="write",zu="afterWrite",Nu=[Cu,Au,Iu,Eu,Lu,Fu,Yu,Ru,zu];function Hu(e){var t=new Map,i=new Set,s=[];e.forEach(function(r){t.set(r.name,r)});function n(r){i.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&n(l)}}),s.push(r)}return e.forEach(function(r){i.has(r.name)||n(r)}),s}function Bu(e){var t=Hu(e);return Nu.reduce(function(i,s){return i.concat(t.filter(function(n){return n.phase===s}))},[])}function ju(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function re(e){return e.split("-")[0]}function Wu(e){var t=e.reduce(function(i,s){var n=i[s.name];return i[s.name]=n?Object.assign({},n,{},s,{options:Object.assign({},n.options,{},s.options),data:Object.assign({},n.data,{},s.data)}):s,i},{});return Object.keys(t).map(function(i){return t[i]})}var vo={placement:"bottom",modifiers:[],strategy:"absolute"};function _o(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Vu(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,s=i===void 0?[]:i,n=t.defaultOptions,r=n===void 0?vo:n;return function(a,l,c){c===void 0&&(c=r);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},vo,{},r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},u=[],d=!1,f={state:h,setOptions:function(v){p(),h.options=Object.assign({},r,{},h.options,{},v),h.scrollParents={reference:qi(a)?Yi(a):a.contextElement?Yi(a.contextElement):[],popper:Yi(l)};var b=Bu(Wu([].concat(s,h.options.modifiers)));return h.orderedModifiers=b.filter(function(D){return D.enabled}),m(),f.update()},forceUpdate:function(){if(!d){var v=h.elements,b=v.reference,D=v.popper;if(!!_o(b,D)){h.rects={reference:ic(b,cs(D),h.options.strategy==="fixed"),popper:Mr(D)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(Y){return h.modifiersData[Y.name]=Object.assign({},Y.data)});for(var x=0;x<h.orderedModifiers.length;x++){if(h.reset===!0){h.reset=!1,x=-1;continue}var w=h.orderedModifiers[x],P=w.fn,k=w.options,S=k===void 0?{}:k,A=w.name;typeof P=="function"&&(h=P({state:h,options:S,name:A,instance:f})||h)}}}},update:ju(function(){return new Promise(function(g){f.forceUpdate(),g(h)})}),destroy:function(){p(),d=!0}};if(!_o(a,l))return f;f.setOptions(c).then(function(g){!d&&c.onFirstUpdate&&c.onFirstUpdate(g)});function m(){h.orderedModifiers.forEach(function(g){var v=g.name,b=g.options,D=b===void 0?{}:b,x=g.effect;if(typeof x=="function"){var w=x({state:h,name:v,instance:f,options:D}),P=function(){};u.push(w||P)}})}function p(){u.forEach(function(g){return g()}),u=[]}return f}}var vs={passive:!0};function Uu(e){var t=e.state,i=e.instance,s=e.options,n=s.scroll,r=n===void 0?!0:n,o=s.resize,a=o===void 0?!0:o,l=qt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach(function(h){h.addEventListener("scroll",i.update,vs)}),a&&l.addEventListener("resize",i.update,vs),function(){r&&c.forEach(function(h){h.removeEventListener("scroll",i.update,vs)}),a&&l.removeEventListener("resize",i.update,vs)}}const Ku={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Uu,data:{}};function Gi(e){return e.split("-")[1]}function Pr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ac(e){var t=e.reference,i=e.element,s=e.placement,n=s?re(s):null,r=s?Gi(s):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(n){case Vt:l={x:o,y:t.y-i.height};break;case Zt:l={x:o,y:t.y+t.height};break;case Qt:l={x:t.x+t.width,y:a};break;case Ut:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=n?Pr(n):null;if(c!=null){var h=c==="y"?"height":"width";switch(r){case ni:l[c]=Math.floor(l[c])-Math.floor(t[h]/2-i[h]/2);break;case kr:l[c]=Math.floor(l[c])+Math.ceil(t[h]/2-i[h]/2);break}}return l}function qu(e){var t=e.state,i=e.name;t.modifiersData[i]=ac({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Gu={name:"popperOffsets",enabled:!0,phase:"read",fn:qu,data:{}};var Xu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zu(e){var t=e.x,i=e.y,s=window,n=s.devicePixelRatio||1;return{x:Math.round(t*n)/n||0,y:Math.round(i*n)/n||0}}function bo(e){var t,i=e.popper,s=e.popperRect,n=e.placement,r=e.offsets,o=e.position,a=e.gpuAcceleration,l=e.adaptive,c=Zu(r),h=c.x,u=c.y,d=r.hasOwnProperty("x"),f=r.hasOwnProperty("y"),m=Ut,p=Vt,g=window;if(l){var v=cs(i);v===qt(i)&&(v=Ie(i)),n===Vt&&(p=Zt,u-=v.clientHeight-s.height,u*=a?1:-1),n===Ut&&(m=Qt,h-=v.clientWidth-s.width,h*=a?1:-1)}var b=Object.assign({position:o},l&&Xu);if(a){var D;return Object.assign({},b,(D={},D[p]=f?"0":"",D[m]=d?"0":"",D.transform=(g.devicePixelRatio||1)<2?"translate("+h+"px, "+u+"px)":"translate3d("+h+"px, "+u+"px, 0)",D))}return Object.assign({},b,(t={},t[p]=f?u+"px":"",t[m]=d?h+"px":"",t.transform="",t))}function Qu(e){var t=e.state,i=e.options,s=i.gpuAcceleration,n=s===void 0?!0:s,r=i.adaptive,o=r===void 0?!0:r,a={placement:re(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,{},bo(Object.assign({},a,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,{},bo(Object.assign({},a,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Ju={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qu,data:{}};function td(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var s=t.styles[i]||{},n=t.attributes[i]||{},r=t.elements[i];!ae(r)||!be(r)||(Object.assign(r.style,s),Object.keys(n).forEach(function(o){var a=n[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function ed(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(s){var n=t.elements[s],r=t.attributes[s]||{},o=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:i[s]),a=o.reduce(function(l,c){return l[c]="",l},{});!ae(n)||!be(n)||(Object.assign(n.style,a),Object.keys(r).forEach(function(l){n.removeAttribute(l)}))})}}const id={name:"applyStyles",enabled:!0,phase:"write",fn:td,effect:ed,requires:["computeStyles"]};function sd(e,t,i){var s=re(e),n=[Ut,Vt].indexOf(s)>=0?-1:1,r=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=r[0],a=r[1];return o=o||0,a=(a||0)*n,[Ut,Qt].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function nd(e){var t=e.state,i=e.options,s=e.name,n=i.offset,r=n===void 0?[0,0]:n,o=oc.reduce(function(h,u){return h[u]=sd(u,t.rects,r),h},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[s]=o}const rd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nd};var od={left:"right",right:"left",bottom:"top",top:"bottom"};function Rs(e){return e.replace(/left|right|bottom|top/g,function(t){return od[t]})}var ad={start:"end",end:"start"};function yo(e){return e.replace(/start|end/g,function(t){return ad[t]})}function ld(e){var t=qt(e),i=t.visualViewport,s=t.innerWidth,n=t.innerHeight;return i&&/iPhone|iPod|iPad/.test(navigator.platform)&&(s=i.width,n=i.height),{width:s,height:n,x:0,y:0}}function cd(e){var t=qt(e),i=wr(e),s=ic(Ie(e),t);return s.height=Math.max(s.height,t.innerHeight),s.width=Math.max(s.width,t.innerWidth),s.x=-i.scrollLeft,s.y=-i.scrollTop,s}function _s(e){return parseFloat(e)||0}function hd(e){var t=ae(e)?ls(e):{};return{top:_s(t.borderTopWidth),right:_s(t.borderRightWidth),bottom:_s(t.borderBottomWidth),left:_s(t.borderLeftWidth)}}function ud(e){var t=qt(e),i=hd(e),s=be(e)==="html",n=ec(e),r=e.clientWidth+i.right,o=e.clientHeight+i.bottom;return s&&t.innerHeight-e.clientHeight>50&&(o=t.innerHeight-i.bottom),{top:s?0:e.clientTop,right:e.clientLeft>i.left?i.right:s?t.innerWidth-r-n:e.offsetWidth-r,bottom:s?t.innerHeight-o:e.offsetHeight-o,left:s?n:e.clientLeft}}function lc(e,t){var i=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(i){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Qn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xo(e,t){return t===rc?Qn(ld(e)):ae(t)?Ki(t):Qn(cd(Ie(e)))}function dd(e){var t=Yi(e),i=["absolute","fixed"].indexOf(ls(e).position)>=0,s=i&&ae(e)?cs(e):e;return qi(s)?t.filter(function(n){return qi(n)&&lc(n,s)}):[]}function fd(e,t,i){var s=t==="clippingParents"?dd(e):[].concat(t),n=[].concat(s,[i]),r=n[0],o=n.reduce(function(a,l){var c=xo(e,l),h=ud(ae(l)?l:Ie(e));return a.top=Math.max(c.top+h.top,a.top),a.right=Math.min(c.right-h.right,a.right),a.bottom=Math.min(c.bottom-h.bottom,a.bottom),a.left=Math.max(c.left+h.left,a.left),a},xo(e,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function cc(){return{top:0,right:0,bottom:0,left:0}}function hc(e){return Object.assign({},cc(),{},e)}function uc(e,t){return t.reduce(function(i,s){return i[s]=e,i},{})}function Xi(e,t){t===void 0&&(t={});var i=t,s=i.placement,n=s===void 0?e.placement:s,r=i.boundary,o=r===void 0?Ou:r,a=i.rootBoundary,l=a===void 0?rc:a,c=i.elementContext,h=c===void 0?Di:c,u=i.altBoundary,d=u===void 0?!1:u,f=i.padding,m=f===void 0?0:f,p=hc(typeof m!="number"?m:uc(m,hs)),g=h===Di?Tu:Di,v=e.elements.reference,b=e.rects.popper,D=e.elements[d?g:h],x=fd(qi(D)?D:D.contextElement||Ie(e.elements.popper),o,l),w=Ki(v),P=ac({reference:w,element:b,strategy:"absolute",placement:n}),k=Qn(Object.assign({},b,{},P)),S=h===Di?k:w,A={top:x.top-S.top+p.top,bottom:S.bottom-x.bottom+p.bottom,left:x.left-S.left+p.left,right:S.right-x.right+p.right},Y=e.modifiersData.offset;if(h===Di&&Y){var L=Y[n];Object.keys(A).forEach(function(O){var F=[Qt,Zt].indexOf(O)>=0?1:-1,Q=[Vt,Zt].indexOf(O)>=0?"y":"x";A[O]+=L[Q]*F})}return A}function pd(e,t){t===void 0&&(t={});var i=t,s=i.placement,n=i.boundary,r=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?oc:l,h=Gi(s),u=(h?a?mo:mo.filter(function(f){return Gi(f)===h}):hs).filter(function(f){return c.indexOf(f)>=0}),d=u.reduce(function(f,m){return f[m]=Xi(e,{placement:m,boundary:n,rootBoundary:r,padding:o})[re(m)],f},{});return Object.keys(d).sort(function(f,m){return d[f]-d[m]})}function gd(e){if(re(e)===$r)return[];var t=Rs(e);return[yo(e),t,yo(t)]}function md(e){var t=e.state,i=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var n=i.mainAxis,r=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,h=i.boundary,u=i.rootBoundary,d=i.altBoundary,f=i.flipVariations,m=f===void 0?!0:f,p=i.allowedAutoPlacements,g=t.options.placement,v=re(g),b=v===g,D=l||(b||!m?[Rs(g)]:gd(g)),x=[g].concat(D).reduce(function(gt,lt){return gt.concat(re(lt)===$r?pd(t,{placement:lt,boundary:h,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:p}):lt)},[]),w=t.rects.reference,P=t.rects.popper,k=new Map,S=!0,A=x[0],Y=0;Y<x.length;Y++){var L=x[Y],O=re(L),F=Gi(L)===ni,Q=[Vt,Zt].indexOf(O)>=0,V=Q?"width":"height",q=Xi(t,{placement:L,boundary:h,rootBoundary:u,altBoundary:d,padding:c}),st=Q?F?Qt:Ut:F?Zt:Vt;w[V]>P[V]&&(st=Rs(st));var Ot=Rs(st),Mt=[];if(r&&Mt.push(q[O]<=0),a&&Mt.push(q[st]<=0,q[Ot]<=0),Mt.every(function(gt){return gt})){A=L,S=!1;break}k.set(L,Mt)}if(S)for(var Tt=m?3:1,te=function(lt){var At=x.find(function(Qe){var he=k.get(Qe);if(he)return he.slice(0,lt).every(function(Je){return Je})});if(At)return A=At,"break"},bt=Tt;bt>0;bt--){var Ct=te(bt);if(Ct==="break")break}t.placement!==A&&(t.modifiersData[s]._skip=!0,t.placement=A,t.reset=!0)}}const vd={name:"flip",enabled:!0,phase:"main",fn:md,requiresIfExists:["offset"],data:{_skip:!1}};function _d(e){return e==="x"?"y":"x"}function zs(e,t,i){return Math.max(e,Math.min(t,i))}function bd(e){var t=e.state,i=e.options,s=e.name,n=i.mainAxis,r=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,h=i.altBoundary,u=i.padding,d=i.tether,f=d===void 0?!0:d,m=i.tetherOffset,p=m===void 0?0:m,g=Xi(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:h}),v=re(t.placement),b=Gi(t.placement),D=!b,x=Pr(v),w=_d(x),P=t.modifiersData.popperOffsets,k=t.rects.reference,S=t.rects.popper,A=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,Y={x:0,y:0};if(!!P){if(r){var L=x==="y"?Vt:Ut,O=x==="y"?Zt:Qt,F=x==="y"?"height":"width",Q=P[x],V=P[x]+g[L],q=P[x]-g[O],st=f?-S[F]/2:0,Ot=b===ni?k[F]:S[F],Mt=b===ni?-S[F]:-k[F],Tt=t.elements.arrow,te=f&&Tt?Mr(Tt):{width:0,height:0},bt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:cc(),Ct=bt[L],gt=bt[O],lt=zs(0,k[F],te[F]),At=D?k[F]/2-st-lt-Ct-A:Ot-lt-Ct-A,Qe=D?-k[F]/2+st+lt+gt+A:Mt+lt+gt+A,he=t.elements.arrow&&cs(t.elements.arrow),Je=he?x==="y"?he.clientTop||0:he.clientLeft||0:0,ho=t.modifiersData.offset?t.modifiersData.offset[t.placement][x]:0,cu=P[x]+At-ho-Je,hu=P[x]+Qe-ho,uo=zs(f?Math.min(V,cu):V,Q,f?Math.max(q,hu):q);P[x]=uo,Y[x]=uo-Q}if(a){var uu=x==="x"?Vt:Ut,du=x==="x"?Zt:Qt,ms=P[w],fu=ms+g[uu],pu=ms-g[du],fo=zs(fu,ms,pu);P[w]=fo,Y[w]=fo-ms}t.modifiersData[s]=Y}}const yd={name:"preventOverflow",enabled:!0,phase:"main",fn:bd,requiresIfExists:["offset"]};function xd(e){var t,i=e.state,s=e.name,n=i.elements.arrow,r=i.modifiersData.popperOffsets,o=re(i.placement),a=Pr(o),l=[Ut,Qt].indexOf(o)>=0,c=l?"height":"width";if(!(!n||!r)){var h=i.modifiersData[s+"#persistent"].padding,u=Mr(n),d=a==="y"?Vt:Ut,f=a==="y"?Zt:Qt,m=i.rects.reference[c]+i.rects.reference[a]-r[a]-i.rects.popper[c],p=r[a]-i.rects.reference[a],g=cs(n),v=g?a==="y"?g.clientHeight||0:g.clientWidth||0:0,b=m/2-p/2,D=h[d],x=v-u[c]-h[f],w=v/2-u[c]/2+b,P=zs(D,w,x),k=a;i.modifiersData[s]=(t={},t[k]=P,t.centerOffset=P-w,t)}}function wd(e){var t=e.state,i=e.options,s=e.name,n=i.element,r=n===void 0?"[data-popper-arrow]":n,o=i.padding,a=o===void 0?0:o;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!lc(t.elements.popper,r)||(t.elements.arrow=r,t.modifiersData[s+"#persistent"]={padding:hc(typeof a!="number"?a:uc(a,hs))}))}const Dd={name:"arrow",enabled:!0,phase:"main",fn:xd,effect:wd,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wo(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Do(e){return[Vt,Qt,Zt,Ut].some(function(t){return e[t]>=0})}function Md(e){var t=e.state,i=e.name,s=t.rects.reference,n=t.rects.popper,r=t.modifiersData.preventOverflow,o=Xi(t,{elementContext:"reference"}),a=Xi(t,{altBoundary:!0}),l=wo(o,s),c=wo(a,n,r),h=Do(l),u=Do(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":u})}const $d={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Md};var kd=[Ku,Gu,Ju,id,rd,vd,yd,Dd,$d],Pd=Vu({defaultModifiers:kd}),Sd=Object.defineProperty,Od=Object.defineProperties,Td=Object.getOwnPropertyDescriptors,Xs=Object.getOwnPropertySymbols,dc=Object.prototype.hasOwnProperty,fc=Object.prototype.propertyIsEnumerable,Mo=(e,t,i)=>t in e?Sd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,I=(e,t)=>{for(var i in t||(t={}))dc.call(t,i)&&Mo(e,i,t[i]);if(Xs)for(var i of Xs(t))fc.call(t,i)&&Mo(e,i,t[i]);return e},W=(e,t)=>Od(e,Td(t)),Cd=(e,t)=>{var i={};for(var s in e)dc.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&Xs)for(var s of Xs(e))t.indexOf(s)<0&&fc.call(e,s)&&(i[s]=e[s]);return i};function oe(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function _t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ye(e){_t(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function se(e,t){_t(2,arguments);var i=ye(e),s=oe(t);return isNaN(s)?new Date(NaN):(s&&i.setDate(i.getDate()+s),i)}function Jn(e,t){_t(2,arguments);var i=ye(e),s=oe(t);if(isNaN(s))return new Date(NaN);if(!s)return i;var n=i.getDate(),r=new Date(i.getTime());r.setMonth(i.getMonth()+s+1,0);var o=r.getDate();return n>=o?r:(i.setFullYear(r.getFullYear(),r.getMonth(),n),i)}function $o(e,t){_t(2,arguments);var i=oe(t);return Jn(e,i*12)}var bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ad=typeof bs=="object"&&bs&&bs.Object===Object&&bs,pc=Ad,Id=pc,Ed=typeof self=="object"&&self&&self.Object===Object&&self,Ld=Id||Ed||Function("return this")(),le=Ld,Fd=le,Yd=Fd.Symbol,hi=Yd,ko=hi,gc=Object.prototype,Rd=gc.hasOwnProperty,zd=gc.toString,Mi=ko?ko.toStringTag:void 0;function Nd(e){var t=Rd.call(e,Mi),i=e[Mi];try{e[Mi]=void 0;var s=!0}catch{}var n=zd.call(e);return s&&(t?e[Mi]=i:delete e[Mi]),n}var Hd=Nd,Bd=Object.prototype,jd=Bd.toString;function Wd(e){return jd.call(e)}var Vd=Wd,Po=hi,Ud=Hd,Kd=Vd,qd="[object Null]",Gd="[object Undefined]",So=Po?Po.toStringTag:void 0;function Xd(e){return e==null?e===void 0?Gd:qd:So&&So in Object(e)?Ud(e):Kd(e)}var ce=Xd;function Zd(e){return e!=null&&typeof e=="object"}var Yt=Zd,Qd=ce,Jd=Yt,tf="[object Boolean]";function ef(e){return e===!0||e===!1||Jd(e)&&Qd(e)==tf}var sf=ef,nf=ce,rf=Yt,of="[object Number]";function af(e){return typeof e=="number"||rf(e)&&nf(e)==of}var Ri=af,lf=Array.isArray,Rt=lf,cf=ce,hf=Rt,uf=Yt,df="[object String]";function ff(e){return typeof e=="string"||!hf(e)&&uf(e)&&cf(e)==df}var Me=ff;function pf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gt=pf,gf=ce,mf=Gt,vf="[object AsyncFunction]",_f="[object Function]",bf="[object GeneratorFunction]",yf="[object Proxy]";function xf(e){if(!mf(e))return!1;var t=gf(e);return t==_f||t==bf||t==vf||t==yf}var me=xf,wf=9007199254740991;function Df(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wf}var Sr=Df,Mf=me,$f=Sr;function kf(e){return e!=null&&$f(e.length)&&!Mf(e)}var us=kf,Pf=us,Sf=Yt;function Of(e){return Sf(e)&&Pf(e)}var kt=Of;function Tf(e){return e===void 0}var Cf=Tf,Af=ce,If=Yt,Ef="[object Date]";function Lf(e){return If(e)&&Af(e)==Ef}var Ff=Lf;function Yf(e){return function(t){return e(t)}}var vn=Yf,ri={exports:{}};(function(e,t){var i=pc,s=t&&!t.nodeType&&t,n=s&&!0&&e&&!e.nodeType&&e,r=n&&n.exports===s,o=r&&i.process,a=function(){try{var l=n&&n.require&&n.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(ri,ri.exports);var Rf=Ff,zf=vn,Oo=ri.exports,To=Oo&&Oo.isDate,Nf=To?zf(To):Rf,Hf=Nf;function Bf(e,t,i){return e===e&&(i!==void 0&&(e=e<=i?e:i),t!==void 0&&(e=e>=t?e:t)),e}var jf=Bf,Wf=ce,Vf=Yt,Uf="[object Symbol]";function Kf(e){return typeof e=="symbol"||Vf(e)&&Wf(e)==Uf}var _n=Kf,Co=Gt,qf=_n,Ao=0/0,Gf=/^\s+|\s+$/g,Xf=/^[-+]0x[0-9a-f]+$/i,Zf=/^0b[01]+$/i,Qf=/^0o[0-7]+$/i,Jf=parseInt;function tp(e){if(typeof e=="number")return e;if(qf(e))return Ao;if(Co(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Co(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Gf,"");var i=Zf.test(e);return i||Qf.test(e)?Jf(e.slice(2),i?2:8):Xf.test(e)?Ao:+e}var ep=tp,ip=jf,An=ep;function sp(e,t,i){return i===void 0&&(i=t,t=void 0),i!==void 0&&(i=An(i),i=i===i?i:0),t!==void 0&&(t=An(t),t=t===t?t:0),ip(An(e),t,i)}var np=sp,rp=Rt,op=_n,ap=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lp=/^\w*$/;function cp(e,t){if(rp(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||op(e)?!0:lp.test(e)||!ap.test(e)||t!=null&&e in Object(t)}var Or=cp,hp=le,up=hp["__core-js_shared__"],dp=up,In=dp,Io=function(){var e=/[^.]+$/.exec(In&&In.keys&&In.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function fp(e){return!!Io&&Io in e}var pp=fp,gp=Function.prototype,mp=gp.toString;function vp(e){if(e!=null){try{return mp.call(e)}catch{}try{return e+""}catch{}}return""}var mc=vp,_p=me,bp=pp,yp=Gt,xp=mc,wp=/[\\^$.*+?()[\]{}|]/g,Dp=/^\[object .+?Constructor\]$/,Mp=Function.prototype,$p=Object.prototype,kp=Mp.toString,Pp=$p.hasOwnProperty,Sp=RegExp("^"+kp.call(Pp).replace(wp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Op(e){if(!yp(e)||bp(e))return!1;var t=_p(e)?Sp:Dp;return t.test(xp(e))}var Tp=Op;function Cp(e,t){return e==null?void 0:e[t]}var Ap=Cp,Ip=Tp,Ep=Ap;function Lp(e,t){var i=Ep(e,t);return Ip(i)?i:void 0}var Xe=Lp,Fp=Xe,Yp=Fp(Object,"create"),bn=Yp,Eo=bn;function Rp(){this.__data__=Eo?Eo(null):{},this.size=0}var zp=Rp;function Np(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Hp=Np,Bp=bn,jp="__lodash_hash_undefined__",Wp=Object.prototype,Vp=Wp.hasOwnProperty;function Up(e){var t=this.__data__;if(Bp){var i=t[e];return i===jp?void 0:i}return Vp.call(t,e)?t[e]:void 0}var Kp=Up,qp=bn,Gp=Object.prototype,Xp=Gp.hasOwnProperty;function Zp(e){var t=this.__data__;return qp?t[e]!==void 0:Xp.call(t,e)}var Qp=Zp,Jp=bn,tg="__lodash_hash_undefined__";function eg(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Jp&&t===void 0?tg:t,this}var ig=eg,sg=zp,ng=Hp,rg=Kp,og=Qp,ag=ig;function ui(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}ui.prototype.clear=sg;ui.prototype.delete=ng;ui.prototype.get=rg;ui.prototype.has=og;ui.prototype.set=ag;var lg=ui;function cg(){this.__data__=[],this.size=0}var hg=cg;function ug(e,t){return e===t||e!==e&&t!==t}var di=ug,dg=di;function fg(e,t){for(var i=e.length;i--;)if(dg(e[i][0],t))return i;return-1}var yn=fg,pg=yn,gg=Array.prototype,mg=gg.splice;function vg(e){var t=this.__data__,i=pg(t,e);if(i<0)return!1;var s=t.length-1;return i==s?t.pop():mg.call(t,i,1),--this.size,!0}var _g=vg,bg=yn;function yg(e){var t=this.__data__,i=bg(t,e);return i<0?void 0:t[i][1]}var xg=yg,wg=yn;function Dg(e){return wg(this.__data__,e)>-1}var Mg=Dg,$g=yn;function kg(e,t){var i=this.__data__,s=$g(i,e);return s<0?(++this.size,i.push([e,t])):i[s][1]=t,this}var Pg=kg,Sg=hg,Og=_g,Tg=xg,Cg=Mg,Ag=Pg;function fi(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}fi.prototype.clear=Sg;fi.prototype.delete=Og;fi.prototype.get=Tg;fi.prototype.has=Cg;fi.prototype.set=Ag;var xn=fi,Ig=Xe,Eg=le,Lg=Ig(Eg,"Map"),Tr=Lg,Lo=lg,Fg=xn,Yg=Tr;function Rg(){this.size=0,this.__data__={hash:new Lo,map:new(Yg||Fg),string:new Lo}}var zg=Rg;function Ng(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Hg=Ng,Bg=Hg;function jg(e,t){var i=e.__data__;return Bg(t)?i[typeof t=="string"?"string":"hash"]:i.map}var wn=jg,Wg=wn;function Vg(e){var t=Wg(this,e).delete(e);return this.size-=t?1:0,t}var Ug=Vg,Kg=wn;function qg(e){return Kg(this,e).get(e)}var Gg=qg,Xg=wn;function Zg(e){return Xg(this,e).has(e)}var Qg=Zg,Jg=wn;function tm(e,t){var i=Jg(this,e),s=i.size;return i.set(e,t),this.size+=i.size==s?0:1,this}var em=tm,im=zg,sm=Ug,nm=Gg,rm=Qg,om=em;function pi(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}pi.prototype.clear=im;pi.prototype.delete=sm;pi.prototype.get=nm;pi.prototype.has=rm;pi.prototype.set=om;var Cr=pi,vc=Cr,am="Expected a function";function Ar(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(am);var i=function(){var s=arguments,n=t?t.apply(this,s):s[0],r=i.cache;if(r.has(n))return r.get(n);var o=e.apply(this,s);return i.cache=r.set(n,o)||r,o};return i.cache=new(Ar.Cache||vc),i}Ar.Cache=vc;var lm=Ar,cm=lm,hm=500;function um(e){var t=cm(e,function(s){return i.size===hm&&i.clear(),s}),i=t.cache;return t}var dm=um,fm=dm,pm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gm=/\\(\\)?/g,mm=fm(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pm,function(i,s,n,r){t.push(n?r.replace(gm,"$1"):s||i)}),t}),vm=mm;function _m(e,t){for(var i=-1,s=e==null?0:e.length,n=Array(s);++i<s;)n[i]=t(e[i],i,e);return n}var Ir=_m,Fo=hi,bm=Ir,ym=Rt,xm=_n,wm=1/0,Yo=Fo?Fo.prototype:void 0,Ro=Yo?Yo.toString:void 0;function _c(e){if(typeof e=="string")return e;if(ym(e))return bm(e,_c)+"";if(xm(e))return Ro?Ro.call(e):"";var t=e+"";return t=="0"&&1/e==-wm?"-0":t}var Dm=_c,Mm=Dm;function $m(e){return e==null?"":Mm(e)}var km=$m,Pm=Rt,Sm=Or,Om=vm,Tm=km;function Cm(e,t){return Pm(e)?e:Sm(e,t)?[e]:Om(Tm(e))}var gi=Cm,Am=_n,Im=1/0;function Em(e){if(typeof e=="string"||Am(e))return e;var t=e+"";return t=="0"&&1/e==-Im?"-0":t}var mi=Em,Lm=gi,Fm=mi;function Ym(e,t){t=Lm(t,e);for(var i=0,s=t.length;e!=null&&i<s;)e=e[Fm(t[i++])];return i&&i==s?e:void 0}var Dn=Ym,Rm=Dn;function zm(e,t,i){var s=e==null?void 0:Rm(e,t);return s===void 0?i:s}var Zi=zm,Nm=Xe,Hm=function(){try{var e=Nm(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bc=Hm,zo=bc;function Bm(e,t,i){t=="__proto__"&&zo?zo(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var Mn=Bm,jm=Mn,Wm=di,Vm=Object.prototype,Um=Vm.hasOwnProperty;function Km(e,t,i){var s=e[t];(!(Um.call(e,t)&&Wm(s,i))||i===void 0&&!(t in e))&&jm(e,t,i)}var Er=Km,qm=9007199254740991,Gm=/^(?:0|[1-9]\d*)$/;function Xm(e,t){var i=typeof e;return t=t==null?qm:t,!!t&&(i=="number"||i!="symbol"&&Gm.test(e))&&e>-1&&e%1==0&&e<t}var $n=Xm,Zm=Er,Qm=gi,Jm=$n,No=Gt,tv=mi;function ev(e,t,i,s){if(!No(e))return e;t=Qm(t,e);for(var n=-1,r=t.length,o=r-1,a=e;a!=null&&++n<r;){var l=tv(t[n]),c=i;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(n!=o){var h=a[l];c=s?s(h,l,a):void 0,c===void 0&&(c=No(h)?h:Jm(t[n+1])?[]:{})}Zm(a,l,c),a=a[l]}return e}var yc=ev,iv=yc;function sv(e,t,i){return e==null?e:iv(e,t,i)}var nv=sv;function rv(e){return function(t,i,s){for(var n=-1,r=Object(t),o=s(t),a=o.length;a--;){var l=o[e?a:++n];if(i(r[l],l,r)===!1)break}return t}}var ov=rv,av=ov,lv=av(),xc=lv;function cv(e,t){for(var i=-1,s=Array(e);++i<e;)s[i]=t(i);return s}var hv=cv,uv=ce,dv=Yt,fv="[object Arguments]";function pv(e){return dv(e)&&uv(e)==fv}var gv=pv,Ho=gv,mv=Yt,wc=Object.prototype,vv=wc.hasOwnProperty,_v=wc.propertyIsEnumerable,bv=Ho(function(){return arguments}())?Ho:function(e){return mv(e)&&vv.call(e,"callee")&&!_v.call(e,"callee")},kn=bv,oi={exports:{}};function yv(){return!1}var xv=yv;(function(e,t){var i=le,s=xv,n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===n,a=o?i.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||s;e.exports=c})(oi,oi.exports);var wv=ce,Dv=Sr,Mv=Yt,$v="[object Arguments]",kv="[object Array]",Pv="[object Boolean]",Sv="[object Date]",Ov="[object Error]",Tv="[object Function]",Cv="[object Map]",Av="[object Number]",Iv="[object Object]",Ev="[object RegExp]",Lv="[object Set]",Fv="[object String]",Yv="[object WeakMap]",Rv="[object ArrayBuffer]",zv="[object DataView]",Nv="[object Float32Array]",Hv="[object Float64Array]",Bv="[object Int8Array]",jv="[object Int16Array]",Wv="[object Int32Array]",Vv="[object Uint8Array]",Uv="[object Uint8ClampedArray]",Kv="[object Uint16Array]",qv="[object Uint32Array]",et={};et[Nv]=et[Hv]=et[Bv]=et[jv]=et[Wv]=et[Vv]=et[Uv]=et[Kv]=et[qv]=!0;et[$v]=et[kv]=et[Rv]=et[Pv]=et[zv]=et[Sv]=et[Ov]=et[Tv]=et[Cv]=et[Av]=et[Iv]=et[Ev]=et[Lv]=et[Fv]=et[Yv]=!1;function Gv(e){return Mv(e)&&Dv(e.length)&&!!et[wv(e)]}var Xv=Gv,Zv=Xv,Qv=vn,Bo=ri.exports,jo=Bo&&Bo.isTypedArray,Jv=jo?Qv(jo):Zv,Lr=Jv,t_=hv,e_=kn,i_=Rt,s_=oi.exports,n_=$n,r_=Lr,o_=Object.prototype,a_=o_.hasOwnProperty;function l_(e,t){var i=i_(e),s=!i&&e_(e),n=!i&&!s&&s_(e),r=!i&&!s&&!n&&r_(e),o=i||s||n||r,a=o?t_(e.length,String):[],l=a.length;for(var c in e)(t||a_.call(e,c))&&!(o&&(c=="length"||n&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||n_(c,l)))&&a.push(c);return a}var Dc=l_,c_=Object.prototype;function h_(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||c_;return e===i}var Fr=h_;function u_(e,t){return function(i){return e(t(i))}}var Mc=u_,d_=Mc,f_=d_(Object.keys,Object),p_=f_,g_=Fr,m_=p_,v_=Object.prototype,__=v_.hasOwnProperty;function b_(e){if(!g_(e))return m_(e);var t=[];for(var i in Object(e))__.call(e,i)&&i!="constructor"&&t.push(i);return t}var y_=b_,x_=Dc,w_=y_,D_=us;function M_(e){return D_(e)?x_(e):w_(e)}var vi=M_,$_=xc,k_=vi;function P_(e,t){return e&&$_(e,t,k_)}var $c=P_,S_=xn;function O_(){this.__data__=new S_,this.size=0}var T_=O_;function C_(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var A_=C_;function I_(e){return this.__data__.get(e)}var E_=I_;function L_(e){return this.__data__.has(e)}var F_=L_,Y_=xn,R_=Tr,z_=Cr,N_=200;function H_(e,t){var i=this.__data__;if(i instanceof Y_){var s=i.__data__;if(!R_||s.length<N_-1)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new z_(s)}return i.set(e,t),this.size=i.size,this}var B_=H_,j_=xn,W_=T_,V_=A_,U_=E_,K_=F_,q_=B_;function _i(e){var t=this.__data__=new j_(e);this.size=t.size}_i.prototype.clear=W_;_i.prototype.delete=V_;_i.prototype.get=U_;_i.prototype.has=K_;_i.prototype.set=q_;var Pn=_i,G_="__lodash_hash_undefined__";function X_(e){return this.__data__.set(e,G_),this}var Z_=X_;function Q_(e){return this.__data__.has(e)}var J_=Q_,tb=Cr,eb=Z_,ib=J_;function Zs(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new tb;++t<i;)this.add(e[t])}Zs.prototype.add=Zs.prototype.push=eb;Zs.prototype.has=ib;var sb=Zs;function nb(e,t){for(var i=-1,s=e==null?0:e.length;++i<s;)if(t(e[i],i,e))return!0;return!1}var kc=nb;function rb(e,t){return e.has(t)}var ob=rb,ab=sb,lb=kc,cb=ob,hb=1,ub=2;function db(e,t,i,s,n,r){var o=i&hb,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(e),h=r.get(t);if(c&&h)return c==t&&h==e;var u=-1,d=!0,f=i&ub?new ab:void 0;for(r.set(e,t),r.set(t,e);++u<a;){var m=e[u],p=t[u];if(s)var g=o?s(p,m,u,t,e,r):s(m,p,u,e,t,r);if(g!==void 0){if(g)continue;d=!1;break}if(f){if(!lb(t,function(v,b){if(!cb(f,b)&&(m===v||n(m,v,i,s,r)))return f.push(b)})){d=!1;break}}else if(!(m===p||n(m,p,i,s,r))){d=!1;break}}return r.delete(e),r.delete(t),d}var Pc=db,fb=le,pb=fb.Uint8Array,Sc=pb;function gb(e){var t=-1,i=Array(e.size);return e.forEach(function(s,n){i[++t]=[n,s]}),i}var Oc=gb;function mb(e){var t=-1,i=Array(e.size);return e.forEach(function(s){i[++t]=s}),i}var vb=mb,Wo=hi,Vo=Sc,_b=di,bb=Pc,yb=Oc,xb=vb,wb=1,Db=2,Mb="[object Boolean]",$b="[object Date]",kb="[object Error]",Pb="[object Map]",Sb="[object Number]",Ob="[object RegExp]",Tb="[object Set]",Cb="[object String]",Ab="[object Symbol]",Ib="[object ArrayBuffer]",Eb="[object DataView]",Uo=Wo?Wo.prototype:void 0,En=Uo?Uo.valueOf:void 0;function Lb(e,t,i,s,n,r,o){switch(i){case Eb:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ib:return!(e.byteLength!=t.byteLength||!r(new Vo(e),new Vo(t)));case Mb:case $b:case Sb:return _b(+e,+t);case kb:return e.name==t.name&&e.message==t.message;case Ob:case Cb:return e==t+"";case Pb:var a=yb;case Tb:var l=s&wb;if(a||(a=xb),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;s|=Db,o.set(e,t);var h=bb(a(e),a(t),s,n,r,o);return o.delete(e),h;case Ab:if(En)return En.call(e)==En.call(t)}return!1}var Fb=Lb;function Yb(e,t){for(var i=-1,s=t.length,n=e.length;++i<s;)e[n+i]=t[i];return e}var Yr=Yb,Rb=Yr,zb=Rt;function Nb(e,t,i){var s=t(e);return zb(e)?s:Rb(s,i(e))}var Tc=Nb;function Hb(e,t){for(var i=-1,s=e==null?0:e.length,n=0,r=[];++i<s;){var o=e[i];t(o,i,e)&&(r[n++]=o)}return r}var Bb=Hb;function jb(){return[]}var Cc=jb,Wb=Bb,Vb=Cc,Ub=Object.prototype,Kb=Ub.propertyIsEnumerable,Ko=Object.getOwnPropertySymbols,qb=Ko?function(e){return e==null?[]:(e=Object(e),Wb(Ko(e),function(t){return Kb.call(e,t)}))}:Vb,Rr=qb,Gb=Tc,Xb=Rr,Zb=vi;function Qb(e){return Gb(e,Zb,Xb)}var Ac=Qb,qo=Ac,Jb=1,ty=Object.prototype,ey=ty.hasOwnProperty;function iy(e,t,i,s,n,r){var o=i&Jb,a=qo(e),l=a.length,c=qo(t),h=c.length;if(l!=h&&!o)return!1;for(var u=l;u--;){var d=a[u];if(!(o?d in t:ey.call(t,d)))return!1}var f=r.get(e),m=r.get(t);if(f&&m)return f==t&&m==e;var p=!0;r.set(e,t),r.set(t,e);for(var g=o;++u<l;){d=a[u];var v=e[d],b=t[d];if(s)var D=o?s(b,v,d,t,e,r):s(v,b,d,e,t,r);if(!(D===void 0?v===b||n(v,b,i,s,r):D)){p=!1;break}g||(g=d=="constructor")}if(p&&!g){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(p=!1)}return r.delete(e),r.delete(t),p}var sy=iy,ny=Xe,ry=le,oy=ny(ry,"DataView"),ay=oy,ly=Xe,cy=le,hy=ly(cy,"Promise"),uy=hy,dy=Xe,fy=le,py=dy(fy,"Set"),gy=py,my=Xe,vy=le,_y=my(vy,"WeakMap"),by=_y,tr=ay,er=Tr,ir=uy,sr=gy,nr=by,Ic=ce,bi=mc,Go="[object Map]",yy="[object Object]",Xo="[object Promise]",Zo="[object Set]",Qo="[object WeakMap]",Jo="[object DataView]",xy=bi(tr),wy=bi(er),Dy=bi(ir),My=bi(sr),$y=bi(nr),Ne=Ic;(tr&&Ne(new tr(new ArrayBuffer(1)))!=Jo||er&&Ne(new er)!=Go||ir&&Ne(ir.resolve())!=Xo||sr&&Ne(new sr)!=Zo||nr&&Ne(new nr)!=Qo)&&(Ne=function(e){var t=Ic(e),i=t==yy?e.constructor:void 0,s=i?bi(i):"";if(s)switch(s){case xy:return Jo;case wy:return Go;case Dy:return Xo;case My:return Zo;case $y:return Qo}return t});var ds=Ne,Ln=Pn,ky=Pc,Py=Fb,Sy=sy,ta=ds,ea=Rt,ia=oi.exports,Oy=Lr,Ty=1,sa="[object Arguments]",na="[object Array]",ys="[object Object]",Cy=Object.prototype,ra=Cy.hasOwnProperty;function Ay(e,t,i,s,n,r){var o=ea(e),a=ea(t),l=o?na:ta(e),c=a?na:ta(t);l=l==sa?ys:l,c=c==sa?ys:c;var h=l==ys,u=c==ys,d=l==c;if(d&&ia(e)){if(!ia(t))return!1;o=!0,h=!1}if(d&&!h)return r||(r=new Ln),o||Oy(e)?ky(e,t,i,s,n,r):Py(e,t,l,i,s,n,r);if(!(i&Ty)){var f=h&&ra.call(e,"__wrapped__"),m=u&&ra.call(t,"__wrapped__");if(f||m){var p=f?e.value():e,g=m?t.value():t;return r||(r=new Ln),n(p,g,i,s,r)}}return d?(r||(r=new Ln),Sy(e,t,i,s,n,r)):!1}var Iy=Ay,Ey=Iy,oa=Yt;function Ec(e,t,i,s,n){return e===t?!0:e==null||t==null||!oa(e)&&!oa(t)?e!==e&&t!==t:Ey(e,t,i,s,Ec,n)}var Lc=Ec,Ly=Pn,Fy=Lc,Yy=1,Ry=2;function zy(e,t,i,s){var n=i.length,r=n,o=!s;if(e==null)return!r;for(e=Object(e);n--;){var a=i[n];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++n<r;){a=i[n];var l=a[0],c=e[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var u=new Ly;if(s)var d=s(c,h,l,e,t,u);if(!(d===void 0?Fy(h,c,Yy|Ry,s,u):d))return!1}}return!0}var Ny=zy,Hy=Gt;function By(e){return e===e&&!Hy(e)}var Fc=By,jy=Fc,Wy=vi;function Vy(e){for(var t=Wy(e),i=t.length;i--;){var s=t[i],n=e[s];t[i]=[s,n,jy(n)]}return t}var Uy=Vy;function Ky(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}var Yc=Ky,qy=Ny,Gy=Uy,Xy=Yc;function Zy(e){var t=Gy(e);return t.length==1&&t[0][2]?Xy(t[0][0],t[0][1]):function(i){return i===e||qy(i,e,t)}}var Qy=Zy;function Jy(e,t){return e!=null&&t in Object(e)}var t0=Jy,e0=gi,i0=kn,s0=Rt,n0=$n,r0=Sr,o0=mi;function a0(e,t,i){t=e0(t,e);for(var s=-1,n=t.length,r=!1;++s<n;){var o=o0(t[s]);if(!(r=e!=null&&i(e,o)))break;e=e[o]}return r||++s!=n?r:(n=e==null?0:e.length,!!n&&r0(n)&&n0(o,n)&&(s0(e)||i0(e)))}var Rc=a0,l0=t0,c0=Rc;function h0(e,t){return e!=null&&c0(e,t,l0)}var zc=h0,u0=Lc,d0=Zi,f0=zc,p0=Or,g0=Fc,m0=Yc,v0=mi,_0=1,b0=2;function y0(e,t){return p0(e)&&g0(t)?m0(v0(e),t):function(i){var s=d0(i,e);return s===void 0&&s===t?f0(i,e):u0(t,s,_0|b0)}}var x0=y0;function w0(e){return e}var zr=w0;function D0(e){return function(t){return t==null?void 0:t[e]}}var M0=D0,$0=Dn;function k0(e){return function(t){return $0(t,e)}}var P0=k0,S0=M0,O0=P0,T0=Or,C0=mi;function A0(e){return T0(e)?S0(C0(e)):O0(e)}var I0=A0,E0=Qy,L0=x0,F0=zr,Y0=Rt,R0=I0;function z0(e){return typeof e=="function"?e:e==null?F0:typeof e=="object"?Y0(e)?L0(e[0],e[1]):E0(e):R0(e)}var Nc=z0,N0=Mn,H0=$c,B0=Nc;function j0(e,t){var i={};return t=B0(t),H0(e,function(s,n,r){N0(i,n,t(s,n,r))}),i}var W0=j0,V0=Ir;function U0(e,t){return V0(t,function(i){return[i,e[i]]})}var K0=U0;function q0(e){var t=-1,i=Array(e.size);return e.forEach(function(s){i[++t]=[s,s]}),i}var G0=q0,X0=K0,Z0=ds,Q0=Oc,J0=G0,t1="[object Map]",e1="[object Set]";function i1(e){return function(t){var i=Z0(t);return i==t1?Q0(t):i==e1?J0(t):X0(t,e(t))}}var s1=i1,n1=s1,r1=vi,o1=n1(r1),Ns=o1;function a1(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var Hc=a1,l1=Hc,aa=Math.max;function c1(e,t,i){return t=aa(t===void 0?e.length-1:t,0),function(){for(var s=arguments,n=-1,r=aa(s.length-t,0),o=Array(r);++n<r;)o[n]=s[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=s[n];return a[t]=i(o),l1(e,this,a)}}var Bc=c1;function h1(e){return function(){return e}}var u1=h1,d1=u1,la=bc,f1=zr,p1=la?function(e,t){return la(e,"toString",{configurable:!0,enumerable:!1,value:d1(t),writable:!0})}:f1,g1=p1,m1=800,v1=16,_1=Date.now;function b1(e){var t=0,i=0;return function(){var s=_1(),n=v1-(s-i);if(i=s,n>0){if(++t>=m1)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var y1=b1,x1=g1,w1=y1,D1=w1(x1),jc=D1,M1=zr,$1=Bc,k1=jc;function P1(e,t){return k1($1(e,t,M1),e+"")}var Nr=P1,S1=di,O1=us,T1=$n,C1=Gt;function A1(e,t,i){if(!C1(i))return!1;var s=typeof t;return(s=="number"?O1(i)&&T1(t,i.length):s=="string"&&t in i)?S1(i[t],e):!1}var Hr=A1;function I1(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var E1=I1,L1=Gt,F1=Fr,Y1=E1,R1=Object.prototype,z1=R1.hasOwnProperty;function N1(e){if(!L1(e))return Y1(e);var t=F1(e),i=[];for(var s in e)s=="constructor"&&(t||!z1.call(e,s))||i.push(s);return i}var H1=N1,B1=Dc,j1=H1,W1=us;function V1(e){return W1(e)?B1(e,!0):j1(e)}var yi=V1,U1=Nr,K1=di,q1=Hr,G1=yi,Wc=Object.prototype,X1=Wc.hasOwnProperty,Z1=U1(function(e,t){e=Object(e);var i=-1,s=t.length,n=s>2?t[2]:void 0;for(n&&q1(t[0],t[1],n)&&(s=1);++i<s;)for(var r=t[i],o=G1(r),a=-1,l=o.length;++a<l;){var c=o[a],h=e[c];(h===void 0||K1(h,Wc[c])&&!X1.call(e,c))&&(e[c]=r[c])}return e}),zi=Z1,Q1=Mn,J1=di;function tx(e,t,i){(i!==void 0&&!J1(e[t],i)||i===void 0&&!(t in e))&&Q1(e,t,i)}var Vc=tx,Qs={exports:{}};(function(e,t){var i=le,s=t&&!t.nodeType&&t,n=s&&!0&&e&&!e.nodeType&&e,r=n&&n.exports===s,o=r?i.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var u=c.length,d=a?a(u):new c.constructor(u);return c.copy(d),d}e.exports=l})(Qs,Qs.exports);var ca=Sc;function ex(e){var t=new e.constructor(e.byteLength);return new ca(t).set(new ca(e)),t}var Br=ex,ix=Br;function sx(e,t){var i=t?ix(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var Uc=sx;function nx(e,t){var i=-1,s=e.length;for(t||(t=Array(s));++i<s;)t[i]=e[i];return t}var Kc=nx,rx=Gt,ha=Object.create,ox=function(){function e(){}return function(t){if(!rx(t))return{};if(ha)return ha(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),ax=ox,lx=Mc,cx=lx(Object.getPrototypeOf,Object),jr=cx,hx=ax,ux=jr,dx=Fr;function fx(e){return typeof e.constructor=="function"&&!dx(e)?hx(ux(e)):{}}var qc=fx,px=ce,gx=jr,mx=Yt,vx="[object Object]",_x=Function.prototype,bx=Object.prototype,Gc=_x.toString,yx=bx.hasOwnProperty,xx=Gc.call(Object);function wx(e){if(!mx(e)||px(e)!=vx)return!1;var t=gx(e);if(t===null)return!0;var i=yx.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&Gc.call(i)==xx}var Xc=wx;function Dx(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Zc=Dx,Mx=Er,$x=Mn;function kx(e,t,i,s){var n=!i;i||(i={});for(var r=-1,o=t.length;++r<o;){var a=t[r],l=s?s(i[a],e[a],a,i,e):void 0;l===void 0&&(l=e[a]),n?$x(i,a,l):Mx(i,a,l)}return i}var xi=kx,Px=xi,Sx=yi;function Ox(e){return Px(e,Sx(e))}var Tx=Ox,ua=Vc,Cx=Qs.exports,Ax=Uc,Ix=Kc,Ex=qc,da=kn,fa=Rt,Lx=kt,Fx=oi.exports,Yx=me,Rx=Gt,zx=Xc,Nx=Lr,pa=Zc,Hx=Tx;function Bx(e,t,i,s,n,r,o){var a=pa(e,i),l=pa(t,i),c=o.get(l);if(c){ua(e,i,c);return}var h=r?r(a,l,i+"",e,t,o):void 0,u=h===void 0;if(u){var d=fa(l),f=!d&&Fx(l),m=!d&&!f&&Nx(l);h=l,d||f||m?fa(a)?h=a:Lx(a)?h=Ix(a):f?(u=!1,h=Cx(l,!0)):m?(u=!1,h=Ax(l,!0)):h=[]:zx(l)||da(l)?(h=a,da(a)?h=Hx(a):(!Rx(a)||Yx(a))&&(h=Ex(l))):u=!1}u&&(o.set(l,h),n(h,l,s,r,o),o.delete(l)),ua(e,i,h)}var jx=Bx,Wx=Pn,Vx=Vc,Ux=xc,Kx=jx,qx=Gt,Gx=yi,Xx=Zc;function Qc(e,t,i,s,n){e!==t&&Ux(t,function(r,o){if(n||(n=new Wx),qx(r))Kx(e,t,o,i,Qc,s,n);else{var a=s?s(Xx(e,o),r,o+"",e,t,n):void 0;a===void 0&&(a=r),Vx(e,o,a)}},Gx)}var Jc=Qc,Zx=Jc,ga=Gt;function th(e,t,i,s,n,r){return ga(e)&&ga(t)&&(r.set(t,e),Zx(e,t,void 0,th,r),r.delete(t)),e}var Qx=th,Jx=Nr,tw=Hr;function ew(e){return Jx(function(t,i){var s=-1,n=i.length,r=n>1?i[n-1]:void 0,o=n>2?i[2]:void 0;for(r=e.length>3&&typeof r=="function"?(n--,r):void 0,o&&tw(i[0],i[1],o)&&(r=n<3?void 0:r,n=1),t=Object(t);++s<n;){var a=i[s];a&&e(t,a,s,r)}return t})}var iw=ew,sw=Jc,nw=iw,rw=nw(function(e,t,i,s){sw(e,t,i,s)}),ow=rw,aw=Hc,lw=Nr,cw=Qx,hw=ow,uw=lw(function(e){return e.push(void 0,cw),aw(hw,void 0,e)}),Wr=uw,dw=Dn,fw=yc,pw=gi;function gw(e,t,i){for(var s=-1,n=t.length,r={};++s<n;){var o=t[s],a=dw(e,o);i(a,o)&&fw(r,pw(o,e),a)}return r}var mw=gw,vw=mw,_w=zc;function bw(e,t){return vw(e,t,function(i,s){return _w(e,s)})}var yw=bw,ma=hi,xw=kn,ww=Rt,va=ma?ma.isConcatSpreadable:void 0;function Dw(e){return ww(e)||xw(e)||!!(va&&e&&e[va])}var Mw=Dw,$w=Yr,kw=Mw;function eh(e,t,i,s,n){var r=-1,o=e.length;for(i||(i=kw),n||(n=[]);++r<o;){var a=e[r];t>0&&i(a)?t>1?eh(a,t-1,i,s,n):$w(n,a):s||(n[n.length]=a)}return n}var Pw=eh,Sw=Pw;function Ow(e){var t=e==null?0:e.length;return t?Sw(e,1):[]}var Tw=Ow,Cw=Tw,Aw=Bc,Iw=jc;function Ew(e){return Iw(Aw(e,void 0,Cw),e+"")}var ih=Ew,Lw=yw,Fw=ih,Yw=Fw(function(e,t){return e==null?{}:Lw(e,t)}),Rw=Yw;function zw(e,t){for(var i=-1,s=e==null?0:e.length;++i<s&&t(e[i],i,e)!==!1;);return e}var Nw=zw,Hw=xi,Bw=vi;function jw(e,t){return e&&Hw(t,Bw(t),e)}var Ww=jw,Vw=xi,Uw=yi;function Kw(e,t){return e&&Vw(t,Uw(t),e)}var qw=Kw,Gw=xi,Xw=Rr;function Zw(e,t){return Gw(e,Xw(e),t)}var Qw=Zw,Jw=Yr,tD=jr,eD=Rr,iD=Cc,sD=Object.getOwnPropertySymbols,nD=sD?function(e){for(var t=[];e;)Jw(t,eD(e)),e=tD(e);return t}:iD,sh=nD,rD=xi,oD=sh;function aD(e,t){return rD(e,oD(e),t)}var lD=aD,cD=Tc,hD=sh,uD=yi;function dD(e){return cD(e,uD,hD)}var nh=dD,fD=Object.prototype,pD=fD.hasOwnProperty;function gD(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&pD.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var mD=gD,vD=Br;function _D(e,t){var i=t?vD(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var bD=_D,yD=/\w*$/;function xD(e){var t=new e.constructor(e.source,yD.exec(e));return t.lastIndex=e.lastIndex,t}var wD=xD,_a=hi,ba=_a?_a.prototype:void 0,ya=ba?ba.valueOf:void 0;function DD(e){return ya?Object(ya.call(e)):{}}var MD=DD,$D=Br,kD=bD,PD=wD,SD=MD,OD=Uc,TD="[object Boolean]",CD="[object Date]",AD="[object Map]",ID="[object Number]",ED="[object RegExp]",LD="[object Set]",FD="[object String]",YD="[object Symbol]",RD="[object ArrayBuffer]",zD="[object DataView]",ND="[object Float32Array]",HD="[object Float64Array]",BD="[object Int8Array]",jD="[object Int16Array]",WD="[object Int32Array]",VD="[object Uint8Array]",UD="[object Uint8ClampedArray]",KD="[object Uint16Array]",qD="[object Uint32Array]";function GD(e,t,i){var s=e.constructor;switch(t){case RD:return $D(e);case TD:case CD:return new s(+e);case zD:return kD(e,i);case ND:case HD:case BD:case jD:case WD:case VD:case UD:case KD:case qD:return OD(e,i);case AD:return new s;case ID:case FD:return new s(e);case ED:return PD(e);case LD:return new s;case YD:return SD(e)}}var XD=GD,ZD=ds,QD=Yt,JD="[object Map]";function tM(e){return QD(e)&&ZD(e)==JD}var eM=tM,iM=eM,sM=vn,xa=ri.exports,wa=xa&&xa.isMap,nM=wa?sM(wa):iM,rM=nM,oM=ds,aM=Yt,lM="[object Set]";function cM(e){return aM(e)&&oM(e)==lM}var hM=cM,uM=hM,dM=vn,Da=ri.exports,Ma=Da&&Da.isSet,fM=Ma?dM(Ma):uM,pM=fM,gM=Pn,mM=Nw,vM=Er,_M=Ww,bM=qw,yM=Qs.exports,xM=Kc,wM=Qw,DM=lD,MM=Ac,$M=nh,kM=ds,PM=mD,SM=XD,OM=qc,TM=Rt,CM=oi.exports,AM=rM,IM=Gt,EM=pM,LM=vi,FM=yi,YM=1,RM=2,zM=4,rh="[object Arguments]",NM="[object Array]",HM="[object Boolean]",BM="[object Date]",jM="[object Error]",oh="[object Function]",WM="[object GeneratorFunction]",VM="[object Map]",UM="[object Number]",ah="[object Object]",KM="[object RegExp]",qM="[object Set]",GM="[object String]",XM="[object Symbol]",ZM="[object WeakMap]",QM="[object ArrayBuffer]",JM="[object DataView]",t$="[object Float32Array]",e$="[object Float64Array]",i$="[object Int8Array]",s$="[object Int16Array]",n$="[object Int32Array]",r$="[object Uint8Array]",o$="[object Uint8ClampedArray]",a$="[object Uint16Array]",l$="[object Uint32Array]",J={};J[rh]=J[NM]=J[QM]=J[JM]=J[HM]=J[BM]=J[t$]=J[e$]=J[i$]=J[s$]=J[n$]=J[VM]=J[UM]=J[ah]=J[KM]=J[qM]=J[GM]=J[XM]=J[r$]=J[o$]=J[a$]=J[l$]=!0;J[jM]=J[oh]=J[ZM]=!1;function Hs(e,t,i,s,n,r){var o,a=t&YM,l=t&RM,c=t&zM;if(i&&(o=n?i(e,s,n,r):i(e)),o!==void 0)return o;if(!IM(e))return e;var h=TM(e);if(h){if(o=PM(e),!a)return xM(e,o)}else{var u=kM(e),d=u==oh||u==WM;if(CM(e))return yM(e,a);if(u==ah||u==rh||d&&!n){if(o=l||d?{}:OM(e),!a)return l?DM(e,bM(o,e)):wM(e,_M(o,e))}else{if(!J[u])return n?e:{};o=SM(e,u,a)}}r||(r=new gM);var f=r.get(e);if(f)return f;r.set(e,o),EM(e)?e.forEach(function(g){o.add(Hs(g,t,i,g,e,r))}):AM(e)&&e.forEach(function(g,v){o.set(v,Hs(g,t,i,v,e,r))});var m=c?l?$M:MM:l?FM:LM,p=h?void 0:m(e);return mM(p||e,function(g,v){p&&(v=g,g=e[v]),vM(o,v,Hs(g,t,i,v,e,r))}),o}var c$=Hs;function h$(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Qi=h$;function u$(e,t,i){var s=-1,n=e.length;t<0&&(t=-t>n?0:n+t),i=i>n?n:i,i<0&&(i+=n),n=t>i?0:i-t>>>0,t>>>=0;for(var r=Array(n);++s<n;)r[s]=e[s+t];return r}var d$=u$,f$=Dn,p$=d$;function g$(e,t){return t.length<2?e:f$(e,p$(t,0,-1))}var m$=g$,v$=gi,_$=Qi,b$=m$,y$=mi;function x$(e,t){return t=v$(t,e),e=b$(e,t),e==null||delete e[y$(_$(t))]}var w$=x$,D$=Xc;function M$(e){return D$(e)?void 0:e}var $$=M$,k$=Ir,P$=c$,S$=w$,O$=gi,T$=xi,C$=$$,A$=ih,I$=nh,E$=1,L$=2,F$=4,Y$=A$(function(e,t){var i={};if(e==null)return i;var s=!1;t=k$(t,function(r){return r=O$(r,e),s||(s=r.length>1),r}),T$(e,I$(e),i),s&&(i=P$(i,E$|L$|F$,C$));for(var n=t.length;n--;)S$(i,t[n]);return i}),rr=Y$,R$=Object.prototype,z$=R$.hasOwnProperty;function N$(e,t){return e!=null&&z$.call(e,t)}var H$=N$,B$=H$,j$=Rc;function W$(e,t){return e!=null&&j$(e,t,B$)}var lh=W$,V$=us;function U$(e,t){return function(i,s){if(i==null)return i;if(!V$(i))return e(i,s);for(var n=i.length,r=t?n:-1,o=Object(i);(t?r--:++r<n)&&s(o[r],r,o)!==!1;);return i}}var K$=U$,q$=$c,G$=K$,X$=G$(q$),Z$=X$;function Q$(e){return e&&e.length?e[0]:void 0}var ch=Q$,J$=Z$;function tk(e,t){var i;return J$(e,function(s,n,r){return i=t(s,n,r),!i}),!!i}var ek=tk,ik=kc,sk=Nc,nk=ek,rk=Rt,ok=Hr;function ak(e,t,i){var s=rk(e)?ik:nk;return i&&ok(e,t,i)&&(t=void 0),s(e,sk(t))}var hh=ak;const lk=e=>Object.prototype.toString.call(e).slice(8,-1),Se=e=>Hf(e)&&!isNaN(e.getTime()),jt=e=>lk(e)==="Object",Vr=lh,or=(e,t)=>hh(t,i=>lh(e,i)),ck=hh,U=(e,t,i="0")=>{for(e=e!=null?String(e):"",t=t||2;e.length<t;)e=`${i}${e}`;return e},hk=(...e)=>{const t={};return e.forEach(i=>Object.entries(i).forEach(([s,n])=>{t[s]?kt(t[s])?t[s].push(n):t[s]=[t[s],n]:t[s]=n})),t},Ft=e=>!!(e&&e.month&&e.year),Ci=(e,t)=>!Ft(e)||!Ft(t)?!1:e.year===t.year?e.month<t.month:e.year<t.year,Ni=(e,t)=>!Ft(e)||!Ft(t)?!1:e.year===t.year?e.month>t.month:e.year>t.year,uh=(e,t,i)=>(e||!1)&&!Ci(e,t)&&!Ni(e,i),Fn=(e,t)=>!e&&t||e&&!t?!1:!e&&!t?!0:e.month===t.month&&e.year===t.year,pe=({month:e,year:t},i)=>{const s=i>0?1:-1;for(let n=0;n<Math.abs(i);n++)e+=s,e>12?(e=1,t++):e<1&&(e=12,t--);return{month:e,year:t}},uk=(e,t)=>{if(!Ft(e)||!Ft(t))return[];const i=[];for(;!Ni(e,t);)i.push(e),e=pe(e,1);return i};function Yn(e,t){const i=Se(e),s=Se(t);return!i&&!s?!0:i!==s?!1:e.getTime()===t.getTime()}const Nt=e=>kt(e)&&e.length>0,$a=(e,t,i)=>{const s=[];return i.forEach(n=>{const r=n.name||n.toString(),o=n.mixin,a=n.validate;if(Object.prototype.hasOwnProperty.call(e,r)){const l=a?a(e[r]):e[r];t[r]=o&&jt(l)?I(I({},o),l):l,s.push(r)}}),{target:t,assigned:s.length?s:null}},xt=(e,t,i,s)=>{e&&t&&i&&e.addEventListener(t,i,s)},wt=(e,t,i,s)=>{e&&t&&e.removeEventListener(t,i,s)},Hi=(e,t)=>!!e&&!!t&&(e===t||e.contains(t)),dh=(e,t)=>{(e.key===" "||e.key==="Enter")&&(t(e),e.preventDefault())},Js=()=>{function e(){return((1+Math.random())*65536|0).toString(16).substring(1)}return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`};function dk(e){let t=0,i=0,s;if(e.length===0)return t;for(i=0;i<e.length;i++)s=e.charCodeAt(i),t=(t<<5)-t+s,t|=0;return t}var wi=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i};const fk={name:"CustomTransition",emits:["before-enter","before-transition","after-enter","after-transition"],props:{name:String,appear:Boolean},computed:{name_(){return`vc-${this.name||"none"}`}},methods:{beforeEnter(e){this.$emit("before-enter",e),this.$emit("before-transition",e)},afterEnter(e){this.$emit("after-enter",e),this.$emit("after-transition",e)}}};function pk(e,t,i,s,n,r){return T(),B(bu,{name:r.name_,appear:i.appear,onBeforeEnter:r.beforeEnter,onAfterEnter:r.afterEnter},{default:M(()=>[qs(e.$slots,"default")]),_:3},8,["name","appear","onBeforeEnter","onAfterEnter"])}var fh=wi(fk,[["render",pk]]);const ar={name:"Popover",emits:["before-show","after-show","before-hide","after-hide"],render(){return R("div",{class:["vc-popover-content-wrapper",{"is-interactive":this.isInteractive}],ref:"popover"},[R(fh,{name:this.transition,appear:!0,"on-before-enter":this.beforeEnter,"on-after-enter":this.afterEnter,"on-before-leave":this.beforeLeave,"on-after-leave":this.afterLeave},{default:()=>this.isVisible?R("div",{tabindex:-1,class:["vc-popover-content",`direction-${this.direction}`,this.contentClass],style:this.contentStyle},[this.content,R("span",{class:["vc-popover-caret",`direction-${this.direction}`,`align-${this.alignment}`]})]):null})])},props:{id:{type:String,required:!0},contentClass:String},data(){return{ref:null,opts:null,data:null,transition:"slide-fade",transitionTranslate:"15px",transitionDuration:"0.15s",placement:"bottom",positionFixed:!1,modifiers:[],isInteractive:!1,isHovered:!1,isFocused:!1,showDelay:0,hideDelay:110,autoHide:!1,popperEl:null}},computed:{content(){return me(this.$slots.default)&&this.$slots.default({direction:this.direction,alignment:this.alignment,data:this.data,updateLayout:this.setupPopper,hide:e=>this.hide(e)})||this.$slots.default},contentStyle(){return{"--slide-translate":this.transitionTranslate,"--slide-duration":this.transitionDuration}},popperOptions(){return{placement:this.placement,strategy:this.positionFixed?"fixed":"absolute",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:this.onPopperUpdate},...this.modifiers||[]],onFirstUpdate:this.onPopperUpdate}},isVisible(){return!!(this.ref&&this.content)},direction(){return this.placement&&this.placement.split("-")[0]||"bottom"},alignment(){const e=this.direction==="left"||this.direction==="right";let t=this.placement.split("-");return t=t.length>1?t[1]:"",["start","top","left"].includes(t)?e?"top":"left":["end","bottom","right"].includes(t)?e?"bottom":"right":e?"middle":"center"}},watch:{opts(e,t){t&&t.callback&&t.callback(W(I({},t),{completed:!e,reason:e?"Overridden by action":null}))}},mounted(){this.popoverEl=this.$refs.popover,this.addEvents()},beforeUnmount(){this.destroyPopper(),this.removeEvents(),this.popoverEl=null},methods:{addEvents(){xt(this.popoverEl,"click",this.onClick),xt(this.popoverEl,"mouseover",this.onMouseOver),xt(this.popoverEl,"mouseleave",this.onMouseLeave),xt(this.popoverEl,"focusin",this.onFocusIn),xt(this.popoverEl,"focusout",this.onFocusOut),xt(document,"keydown",this.onDocumentKeydown),xt(document,"click",this.onDocumentClick),xt(document,"show-popover",this.onDocumentShowPopover),xt(document,"hide-popover",this.onDocumentHidePopover),xt(document,"toggle-popover",this.onDocumentTogglePopover),xt(document,"update-popover",this.onDocumentUpdatePopover)},removeEvents(){wt(this.popoverEl,"click",this.onClick),wt(this.popoverEl,"mouseover",this.onMouseOver),wt(this.popoverEl,"mouseleave",this.onMouseLeave),wt(this.popoverEl,"focusin",this.onFocusIn),wt(this.popoverEl,"focusout",this.onFocusOut),wt(document,"keydown",this.onDocumentKeydown),wt(document,"click",this.onDocumentClick),wt(document,"show-popover",this.onDocumentShowPopover),wt(document,"hide-popover",this.onDocumentHidePopover),wt(document,"toggle-popover",this.onDocumentTogglePopover),wt(document,"update-popover",this.onDocumentUpdatePopover)},onClick(e){e.stopPropagation()},onMouseOver(){this.isHovered=!0,this.isInteractive&&this.show()},onMouseLeave(){this.isHovered=!1,this.autoHide&&!this.isFocused&&(!this.ref||this.ref!==document.activeElement)&&this.hide()},onFocusIn(){this.isFocused=!0,this.isInteractive&&this.show()},onFocusOut(e){(!e.relatedTarget||!Hi(this.popoverEl,e.relatedTarget))&&(this.isFocused=!1,!this.isHovered&&this.autoHide&&this.hide())},onDocumentClick(e){!this.$refs.popover||!this.ref||Hi(this.popoverEl,e.target)||Hi(this.ref,e.target)||this.hide()},onDocumentKeydown(e){(e.key==="Esc"||e.key==="Escape")&&this.hide()},onDocumentShowPopover({detail:e}){!e.id||e.id!==this.id||this.show(e)},onDocumentHidePopover({detail:e}){!e.id||e.id!==this.id||this.hide(e)},onDocumentTogglePopover({detail:e}){!e.id||e.id!==this.id||this.toggle(e)},onDocumentUpdatePopover({detail:e}){!e.id||e.id!==this.id||this.update(e)},show(e={}){e.action="show";const t=e.ref||this.ref,i=e.showDelay>=0?e.showDelay:this.showDelay;if(!t){e.callback&&e.callback({completed:!1,reason:"Invalid reference element provided"});return}clearTimeout(this.timeout),this.opts=e;const s=()=>{Object.assign(this,rr(e,["id"])),this.setupPopper(),this.opts=null};i>0?this.timeout=setTimeout(()=>s(),i):s()},hide(e={}){e.action="hide";const t=e.ref||this.ref,i=e.hideDelay>=0?e.hideDelay:this.hideDelay;if(!this.ref||t!==this.ref){e.callback&&e.callback(W(I({},e),{completed:!1,reason:this.ref?"Invalid reference element provided":"Popover already hidden"}));return}const s=()=>{this.ref=null,this.opts=null};clearTimeout(this.timeout),this.opts=e,i>0?this.timeout=setTimeout(s,i):s()},toggle(e={}){this.isVisible&&e.ref===this.ref?this.hide(e):this.show(e)},update(e={}){Object.assign(this,rr(e,["id"])),this.setupPopper()},setupPopper(){this.$nextTick(()=>{!this.ref||!this.$refs.popover||(this.popper&&this.popper.reference!==this.ref&&this.destroyPopper(),this.popper?this.popper.update():this.popper=Pd(this.ref,this.popoverEl,this.popperOptions))})},onPopperUpdate(e){e.placement?this.placement=e.placement:e.state&&(this.placement=e.state.placement)},beforeEnter(e){this.$emit("before-show",e)},afterEnter(e){this.$emit("after-show",e)},beforeLeave(e){this.$emit("before-hide",e)},afterLeave(e){this.destroyPopper(),this.$emit("after-hide",e)},destroyPopper(){this.popper&&(this.popper.destroy(),this.popper=null)}}},gk={inject:["sharedState"],computed:{masks(){return this.sharedState.masks},theme(){return this.sharedState.theme},locale(){return this.sharedState.locale},dayPopoverId(){return this.sharedState.dayPopoverId}},methods:{format(e,t){return this.locale.format(e,t)},pageForDate(e){return this.locale.getDateParts(this.locale.normalizeDate(e))}}},mk=["base","start","end","startEnd"],vk=["class","contentClass","style","contentStyle","color","fillMode"],_k={color:"blue",isDark:!1,highlight:{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}},dot:{base:{fillMode:"solid"},start:{fillMode:"solid"},end:{fillMode:"solid"}},bar:{base:{fillMode:"solid"},start:{fillMode:"solid"},end:{fillMode:"solid"}},content:{base:{},start:{},end:{}}};class ka{constructor(t){Object.assign(this,_k,t)}normalizeAttr({config:t,type:i}){let s=this.color,n={};const r=this[i];if(t===!0||Me(t))s=Me(t)?t:s,n=I({},r);else if(jt(t))or(t,mk)?n=I({},t):n={base:I({},t),start:I({},t),end:I({},t)};else return null;return zi(n,{start:n.startEnd,end:n.startEnd},r),Ns(n).forEach(([o,a])=>{let l=s;a===!0||Me(a)?(l=Me(a)?a:l,n[o]={color:l}):jt(a)&&(or(a,vk)?n[o]=I({},a):n[o]={}),Vr(n,`${o}.color`)||nv(n,`${o}.color`,l)}),n}normalizeHighlight(t){const i=this.normalizeAttr({config:t,type:"highlight"});return Ns(i).forEach(([s,n])=>{const r=zi(n,{isDark:this.isDark,color:this.color});n.style=I(I({},this.getHighlightBgStyle(r)),n.style),n.contentStyle=I(I({},this.getHighlightContentStyle(r)),n.contentStyle)}),i}getHighlightBgStyle({fillMode:t,color:i,isDark:s}){switch(t){case"outline":case"none":return{backgroundColor:s?"var(--gray-900)":"var(--white)",border:"2px solid",borderColor:s?`var(--${i}-200)`:`var(--${i}-700)`,borderRadius:"var(--rounded-full)"};case"light":return{backgroundColor:s?`var(--${i}-800)`:`var(--${i}-200)`,opacity:s?.75:1,borderRadius:"var(--rounded-full)"};case"solid":return{backgroundColor:s?`var(--${i}-500)`:`var(--${i}-600)`,borderRadius:"var(--rounded-full)"};default:return{borderRadius:"var(--rounded-full)"}}}getHighlightContentStyle({fillMode:t,color:i,isDark:s}){switch(t){case"outline":case"none":return{fontWeight:"var(--font-bold)",color:s?`var(--${i}-100)`:`var(--${i}-900)`};case"light":return{fontWeight:"var(--font-bold)",color:s?`var(--${i}-100)`:`var(--${i}-900)`};case"solid":return{fontWeight:"var(--font-bold)",color:"var(--white)"};default:return""}}bgAccentHigh({color:t,isDark:i}){return{backgroundColor:i?`var(--${t}-500)`:`var(--${t}-600)`}}contentAccent({color:t,isDark:i}){return t?{fontWeight:"var(--font-bold)",color:i?`var(--${t}-100)`:`var(--${t}-900)`}:null}normalizeDot(t){return this.normalizeNonHighlight("dot",t,this.bgAccentHigh)}normalizeBar(t){return this.normalizeNonHighlight("bar",t,this.bgAccentHigh)}normalizeContent(t){return this.normalizeNonHighlight("content",t,this.contentAccent)}normalizeNonHighlight(t,i,s){const n=this.normalizeAttr({type:t,config:i});return Ns(n).forEach(([r,o])=>{zi(o,{isDark:this.isDark,color:this.color}),o.style=I(I({},s(o)),o.style)}),n}}var Bs=6e4;function Pa(e){return e.getTime()%Bs}function tn(e){var t=new Date(e.getTime()),i=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var s=i>0,n=s?(Bs+Pa(t))%Bs:Pa(t);return i*Bs+n}function bk(e,t){var i=Dk(t);return i.formatToParts?xk(i,e):wk(i,e)}var yk={year:0,month:1,day:2,hour:3,minute:4,second:5};function xk(e,t){for(var i=e.formatToParts(t),s=[],n=0;n<i.length;n++){var r=yk[i[n].type];r>=0&&(s[r]=parseInt(i[n].value,10))}return s}function wk(e,t){var i=e.format(t).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i);return[s[3],s[1],s[2],s[4],s[5],s[6]]}var Rn={};function Dk(e){if(!Rn[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),i=t==="06/25/2014, 00:00:00"||t==="\u200E06\u200E/\u200E25\u200E/\u200E2014\u200E \u200E00\u200E:\u200E00\u200E:\u200E00";Rn[e]=i?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Rn[e]}var Sa=36e5,Mk=6e4,xs={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/,timezoneIANA:/(UTC|(?:[a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?))$/};function Oa(e,t){var i,s;if(i=xs.timezoneZ.exec(e),i)return 0;var n;if(i=xs.timezoneHH.exec(e),i)return n=parseInt(i[2],10),Ta()?(s=n*Sa,i[1]==="+"?-s:s):NaN;if(i=xs.timezoneHHMM.exec(e),i){n=parseInt(i[2],10);var r=parseInt(i[3],10);return Ta(n,r)?(s=n*Sa+r*Mk,i[1]==="+"?-s:s):NaN}if(i=xs.timezoneIANA.exec(e),i){var o=bk(t,e),a=Date.UTC(o[0],o[1]-1,o[2],o[3],o[4],o[5]),l=t.getTime()-t.getTime()%1e3;return-(a-l)}return 0}function Ta(e,t){return!(t!=null&&(t<0||t>59))}var zn=36e5,Ca=6e4,$k=2,pt={dateTimeDelimeter:/[T ]/,plainTime:/:/,timeZoneDelimeter:/[Z ]/i,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*| UTC|(?:[a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?))$/};function Aa(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var i=t||{},s=i.additionalDigits==null?$k:oe(i.additionalDigits);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=kk(e),r=Pk(n.date,s),o=r.year,a=r.restDateString,l=Sk(a,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),h=0,u;if(n.time&&(h=Ok(n.time),isNaN(h)))return new Date(NaN);if(n.timezone||i.timeZone){if(u=Oa(n.timezone||i.timeZone,new Date(c+h)),isNaN(u))return new Date(NaN);if(u=Oa(n.timezone||i.timeZone,new Date(c+h+u)),isNaN(u))return new Date(NaN)}else u=tn(new Date(c+h)),u=tn(new Date(c+h+u));return new Date(c+h+u)}else return new Date(NaN)}function kk(e){var t={},i=e.split(pt.dateTimeDelimeter),s;if(pt.plainTime.test(i[0])?(t.date=null,s=i[0]):(t.date=i[0],s=i[1],t.timezone=i[2],pt.timeZoneDelimeter.test(t.date)&&(t.date=e.split(pt.timeZoneDelimeter)[0],s=e.substr(t.date.length,e.length))),s){var n=pt.timezone.exec(s);n?(t.time=s.replace(n[1],""),t.timezone=n[1]):t.time=s}return t}function Pk(e,t){var i=pt.YYY[t],s=pt.YYYYY[t],n;if(n=pt.YYYY.exec(e)||s.exec(e),n){var r=n[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(n=pt.YY.exec(e)||i.exec(e),n){var o=n[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function Sk(e,t){if(t===null)return null;var i,s,n,r;if(e.length===0)return s=new Date(0),s.setUTCFullYear(t),s;if(i=pt.MM.exec(e),i)return s=new Date(0),n=parseInt(i[1],10)-1,Ea(t,n)?(s.setUTCFullYear(t,n),s):new Date(NaN);if(i=pt.DDD.exec(e),i){s=new Date(0);var o=parseInt(i[1],10);return Ak(t,o)?(s.setUTCFullYear(t,0,o),s):new Date(NaN)}if(i=pt.MMDD.exec(e),i){s=new Date(0),n=parseInt(i[1],10)-1;var a=parseInt(i[2],10);return Ea(t,n,a)?(s.setUTCFullYear(t,n,a),s):new Date(NaN)}if(i=pt.Www.exec(e),i)return r=parseInt(i[1],10)-1,La(t,r)?Ia(t,r):new Date(NaN);if(i=pt.WwwD.exec(e),i){r=parseInt(i[1],10)-1;var l=parseInt(i[2],10)-1;return La(t,r,l)?Ia(t,r,l):new Date(NaN)}return null}function Ok(e){var t,i,s;if(t=pt.HH.exec(e),t)return i=parseFloat(t[1].replace(",",".")),Nn(i)?i%24*zn:NaN;if(t=pt.HHMM.exec(e),t)return i=parseInt(t[1],10),s=parseFloat(t[2].replace(",",".")),Nn(i,s)?i%24*zn+s*Ca:NaN;if(t=pt.HHMMSS.exec(e),t){i=parseInt(t[1],10),s=parseInt(t[2],10);var n=parseFloat(t[3].replace(",","."));return Nn(i,s,n)?i%24*zn+s*Ca+n*1e3:NaN}return null}function Ia(e,t,i){t=t||0,i=i||0;var s=new Date(0);s.setUTCFullYear(e,0,4);var n=s.getUTCDay()||7,r=t*7+i+1-n;return s.setUTCDate(s.getUTCDate()+r),s}var Tk=[31,28,31,30,31,30,31,31,30,31,30,31],Ck=[31,29,31,30,31,30,31,31,30,31,30,31];function ph(e){return e%400===0||e%4===0&&e%100!==0}function Ea(e,t,i){if(t<0||t>11)return!1;if(i!=null){if(i<1)return!1;var s=ph(e);if(s&&i>Ck[t]||!s&&i>Tk[t])return!1}return!0}function Ak(e,t){if(t<1)return!1;var i=ph(e);return!(i&&t>366||!i&&t>365)}function La(e,t,i){return!(t<0||t>52||i!=null&&(i<0||i>6))}function Nn(e,t,i){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||i!=null&&(i<0||i>=60))}function Ue(e,t){_t(1,arguments);var i=t||{},s=i.locale,n=s&&s.options&&s.options.weekStartsOn,r=n==null?0:oe(n),o=i.weekStartsOn==null?r:oe(i.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=ye(e),l=a.getDay(),c=(l<o?7:0)+l-o;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function en(e){return _t(1,arguments),Ue(e,{weekStartsOn:1})}function Ik(e){_t(1,arguments);var t=ye(e),i=t.getFullYear(),s=new Date(0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);var n=en(s),r=new Date(0);r.setFullYear(i,0,4),r.setHours(0,0,0,0);var o=en(r);return t.getTime()>=n.getTime()?i+1:t.getTime()>=o.getTime()?i:i-1}function Ek(e){_t(1,arguments);var t=Ik(e),i=new Date(0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);var s=en(i);return s}var Lk=6048e5;function Fk(e){_t(1,arguments);var t=ye(e),i=en(t).getTime()-Ek(t).getTime();return Math.round(i/Lk)+1}function Yk(e,t){_t(1,arguments);var i=ye(e),s=i.getFullYear(),n=t||{},r=n.locale,o=r&&r.options&&r.options.firstWeekContainsDate,a=o==null?1:oe(o),l=n.firstWeekContainsDate==null?a:oe(n.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=new Date(0);c.setFullYear(s+1,0,l),c.setHours(0,0,0,0);var h=Ue(c,t),u=new Date(0);u.setFullYear(s,0,l),u.setHours(0,0,0,0);var d=Ue(u,t);return i.getTime()>=h.getTime()?s+1:i.getTime()>=d.getTime()?s:s-1}function Rk(e,t){_t(1,arguments);var i=t||{},s=i.locale,n=s&&s.options&&s.options.firstWeekContainsDate,r=n==null?1:oe(n),o=i.firstWeekContainsDate==null?r:oe(i.firstWeekContainsDate),a=Yk(e,t),l=new Date(0);l.setFullYear(a,0,o),l.setHours(0,0,0,0);var c=Ue(l,t);return c}var zk=6048e5;function Nk(e,t){_t(1,arguments);var i=ye(e),s=Ue(i,t).getTime()-Rk(i,t).getTime();return Math.round(s/zk)+1}var Hk=6048e5;function Bk(e,t,i){_t(2,arguments);var s=Ue(e,i),n=Ue(t,i),r=s.getTime()-tn(s),o=n.getTime()-tn(n);return Math.round((r-o)/Hk)}function jk(e){_t(1,arguments);var t=ye(e),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(0,0,0,0),t}function Wk(e){_t(1,arguments);var t=ye(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Vk(e,t){return _t(1,arguments),Bk(jk(e),Wk(e),t)+1}const Uk=24*60*60*1e3;class ct{constructor(t,{order:i=0,locale:s,isFullDay:n}={}){if(this.isDateInfo=!0,this.order=i,this.locale=s instanceof sn?s:new sn(s),this.firstDayOfWeek=this.locale.firstDayOfWeek,!jt(t)){const l=this.locale.normalizeDate(t);n?t={start:l,end:l}:t={startOn:l,endOn:l}}let r=null,o=null;if(t.start?r=this.locale.normalizeDate(t.start,W(I({},this.opts),{time:"00:00:00"})):t.startOn&&(r=this.locale.normalizeDate(t.startOn,this.opts)),t.end?o=this.locale.normalizeDate(t.end,W(I({},this.opts),{time:"23:59:59"})):t.endOn&&(o=this.locale.normalizeDate(t.endOn,this.opts)),r&&o&&r>o){const l=r;r=o,o=l}else r&&t.span>=1&&(o=se(r,t.span-1));this.start=r,this.startTime=r?r.getTime():NaN,this.end=o,this.endTime=o?o.getTime():NaN,this.isDate=this.startTime&&this.startTime===this.endTime,this.isRange=!this.isDate;const a=$a(t,{},ct.patternProps);if(a.assigned&&(this.on={and:a.target}),t.on){const l=(kt(t.on)?t.on:[t.on]).map(c=>{if(me(c))return c;const h=$a(c,{},ct.patternProps);return h.assigned?h.target:null}).filter(c=>c);l.length&&(this.on=W(I({},this.on),{or:l}))}this.isComplex=!!this.on}get opts(){return{order:this.order,locale:this.locale}}toDateInfo(t){return t.isDateInfo?t:new ct(t,this.opts)}startOfWeek(t){const i=t.getDay()+1,s=i>=this.firstDayOfWeek?this.firstDayOfWeek-i:-(7-(this.firstDayOfWeek-i));return se(t,s)}diffInDays(t,i){return Math.round((i-t)/Uk)}diffInWeeks(t,i){return this.diffInDays(this.startOfWeek(t),this.startOfWeek(i))}diffInYears(t,i){return i.getUTCFullYear()-t.getUTCFullYear()}diffInMonths(t,i){return this.diffInYears(t,i)*12+(i.getMonth()-t.getMonth())}static get patterns(){return{dailyInterval:{test:(t,i,s)=>s.diffInDays(s.start||new Date,t.date)%i===0},weeklyInterval:{test:(t,i,s)=>s.diffInWeeks(s.start||new Date,t.date)%i===0},monthlyInterval:{test:(t,i,s)=>s.diffInMonths(s.start||new Date,t.date)%i===0},yearlyInterval:{test:()=>(t,i,s)=>s.diffInYears(s.start||new Date,t.date)%i===0},days:{validate:t=>kt(t)?t:[parseInt(t,10)],test:(t,i)=>i.includes(t.day)||i.includes(-t.dayFromEnd)},weekdays:{validate:t=>kt(t)?t:[parseInt(t,10)],test:(t,i)=>i.includes(t.weekday)},ordinalWeekdays:{validate:t=>Object.keys(t).reduce((i,s)=>{const n=t[s];return n&&(i[s]=kt(n)?n:[parseInt(n,10)]),i},{}),test:(t,i)=>Object.keys(i).map(s=>parseInt(s,10)).find(s=>i[s].includes(t.weekday)&&(s===t.weekdayOrdinal||s===-t.weekdayOrdinalFromEnd))},weekends:{validate:t=>t,test:t=>t.weekday===1||t.weekday===7},workweek:{validate:t=>t,test:t=>t.weekday>=2&&t.weekday<=6},weeks:{validate:t=>kt(t)?t:[parseInt(t,10)],test:(t,i)=>i.includes(t.week)||i.includes(-t.weekFromEnd)},months:{validate:t=>kt(t)?t:[parseInt(t,10)],test:(t,i)=>i.includes(t.month)},years:{validate:t=>kt(t)?t:[parseInt(t,10)],test:(t,i)=>i.includes(t.year)}}}static get patternProps(){return Object.keys(ct.patterns).map(t=>({name:t,validate:ct.patterns[t].validate}))}static testConfig(t,i,s){return me(t)?t(i):jt(t)?Object.keys(t).every(n=>ct.patterns[n].test(i,t[n],s)):null}iterateDatesInRange({start:t,end:i},s){if(!t||!i||!me(s))return null;t=this.locale.normalizeDate(t,W(I({},this.opts),{time:"00:00:00"}));const n={i:0,date:t,day:this.locale.getDateParts(t),finished:!1};let r=null;for(;!n.finished&&n.date<=i;n.i++)r=s(n),n.date=se(n.date,1),n.day=this.locale.getDateParts(n.date);return r}shallowIntersectingRange(t){return this.rangeShallowIntersectingRange(this,this.toDateInfo(t))}rangeShallowIntersectingRange(t,i){if(!this.dateShallowIntersectsDate(t,i))return null;const s=t.toRange(),n=i.toRange();let r=null,o=null;return s.start?n.start?r=s.start>n.start?s.start:n.start:r=s.start:n.start&&(r=n.start),s.end?n.end?o=s.end<n.end?s.end:n.end:o=s.end:n.end&&(o=n.end),{start:r,end:o}}intersectsDate(t){const i=this.toDateInfo(t);if(!this.shallowIntersectsDate(i))return null;if(!this.on)return this;const s=this.rangeShallowIntersectingRange(this,i);let n=!1;return this.iterateDatesInRange(s,r=>{this.matchesDay(r.day)&&(n=n||i.matchesDay(r.day),r.finished=n)}),n}shallowIntersectsDate(t){return this.dateShallowIntersectsDate(this,this.toDateInfo(t))}dateShallowIntersectsDate(t,i){return t.isDate?i.isDate?t.startTime===i.startTime:this.dateShallowIncludesDate(i,t):i.isDate?this.dateShallowIncludesDate(t,i):!(t.start&&i.end&&t.start>i.end||t.end&&i.start&&t.end<i.start)}includesDate(t){const i=this.toDateInfo(t);if(!this.shallowIncludesDate(i))return!1;if(!this.on)return!0;const s=this.rangeShallowIntersectingRange(this,i);let n=!0;return this.iterateDatesInRange(s,r=>{this.matchesDay(r.day)&&(n=n&&i.matchesDay(r.day),r.finished=!n)}),n}shallowIncludesDate(t){return this.dateShallowIncludesDate(this,t.isDate?t:new ct(t,this.opts))}dateShallowIncludesDate(t,i){return t.isDate?i.isDate?t.startTime===i.startTime:!i.startTime||!i.endTime?!1:t.startTime===i.startTime&&t.startTime===i.endTime:i.isDate?!(t.start&&i.start<t.start||t.end&&i.start>t.end):!(t.start&&(!i.start||i.start<t.start)||t.end&&(!i.end||i.end>t.end))}intersectsDay(t){return this.shallowIntersectsDate(t.range)&&this.matchesDay(t)?this:null}matchesDay(t){return this.on?!(this.on.and&&!ct.testConfig(this.on.and,t,this)||this.on.or&&!this.on.or.some(i=>ct.testConfig(i,t,this))):!0}toRange(){return new ct({start:this.start,end:this.end},this.opts)}compare(t){if(this.order!==t.order)return this.order-t.order;if(this.isDate!==t.isDate)return this.isDate?1:-1;if(this.isDate)return 0;const i=this.start-t.start;return i!==0?i:this.end-t.end}}const Kt={ar:{dow:7,L:"D/\u200FM/\u200FYYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY\u5E74M\u6708D\u65E5"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Kt.en=Kt["en-US"];Kt.es=Kt["es-ES"];Kt.no=Kt.nb;Kt.zh=Kt["zh-CN"];Ns(Kt).forEach(([e,{dow:t,L:i}])=>{Kt[e]={id:e,firstDayOfWeek:t,masks:{L:i}}});const xe={DATE_TIME:1,DATE:2,TIME:3},Kk={1:["year","month","day","hours","minutes","seconds","milliseconds"],2:["year","month","day"],3:["hours","minutes","seconds","milliseconds"]},Fa=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,we=/\d\d?/,qk=/\d{3}/,Gk=/\d{4}/,$i=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xk=/\[([^]*?)\]/gm,Ya=()=>{},Ra=e=>(t,i,s)=>{const n=s[e].indexOf(i.charAt(0).toUpperCase()+i.substring(1).toLowerCase());~n&&(t.month=n)},Zk=["L","iso"],yt=7,Qk=[31,28,31,30,31,30,31,31,30,31,30,31],Jk=[{value:0,label:"00"},{value:1,label:"01"},{value:2,label:"02"},{value:3,label:"03"},{value:4,label:"04"},{value:5,label:"05"},{value:6,label:"06"},{value:7,label:"07"},{value:8,label:"08"},{value:9,label:"09"},{value:10,label:"10"},{value:11,label:"11"},{value:12,label:"12"},{value:13,label:"13"},{value:14,label:"14"},{value:15,label:"15"},{value:16,label:"16"},{value:17,label:"17"},{value:18,label:"18"},{value:19,label:"19"},{value:20,label:"20"},{value:21,label:"21"},{value:22,label:"22"},{value:23,label:"23"}],za={D(e){return e.day},DD(e){return U(e.day)},Do(e,t){return t.DoFn(e.day)},d(e){return e.weekday-1},dd(e){return U(e.weekday-1)},W(e,t){return t.dayNamesNarrow[e.weekday-1]},WW(e,t){return t.dayNamesShorter[e.weekday-1]},WWW(e,t){return t.dayNamesShort[e.weekday-1]},WWWW(e,t){return t.dayNames[e.weekday-1]},M(e){return e.month},MM(e){return U(e.month)},MMM(e,t){return t.monthNamesShort[e.month-1]},MMMM(e,t){return t.monthNames[e.month-1]},YY(e){return String(e.year).substring(2)},YYYY(e){return U(e.year,4)},h(e){return e.hours%12||12},hh(e){return U(e.hours%12||12)},H(e){return e.hours},HH(e){return U(e.hours)},m(e){return e.minutes},mm(e){return U(e.minutes)},s(e){return e.seconds},ss(e){return U(e.seconds)},S(e){return Math.round(e.milliseconds/100)},SS(e){return U(Math.round(e.milliseconds/10),2)},SSS(e){return U(e.milliseconds,3)},a(e,t){return e.hours<12?t.amPm[0]:t.amPm[1]},A(e,t){return e.hours<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${U(Math.floor(Math.abs(t)/60),2)}`},ZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${U(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)}`},ZZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${U(Math.floor(Math.abs(t)/60),2)}:${U(Math.abs(t)%60,2)}`}},Z={D:[we,(e,t)=>{e.day=t}],Do:[new RegExp(we.source+$i.source),(e,t)=>{e.day=parseInt(t,10)}],d:[we,Ya],W:[$i,Ya],M:[we,(e,t)=>{e.month=t-1}],MMM:[$i,Ra("monthNamesShort")],MMMM:[$i,Ra("monthNames")],YY:[we,(e,t)=>{const s=+new Date().getFullYear().toString().substring(0,2);e.year=`${t>68?s-1:s}${t}`}],YYYY:[Gk,(e,t)=>{e.year=t}],S:[/\d/,(e,t)=>{e.millisecond=t*100}],SS:[/\d{2}/,(e,t)=>{e.millisecond=t*10}],SSS:[qk,(e,t)=>{e.millisecond=t}],h:[we,(e,t)=>{e.hour=t}],m:[we,(e,t)=>{e.minute=t}],s:[we,(e,t)=>{e.second=t}],a:[$i,(e,t,i)=>{const s=t.toLowerCase();s===i.amPm[0]?e.isPm=!1:s===i.amPm[1]&&(e.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(e,t)=>{t==="Z"&&(t="+00:00");const i=`${t}`.match(/([+-]|\d\d)/gi);if(i){const s=+(i[1]*60)+parseInt(i[2],10);e.timezoneOffset=i[0]==="+"?s:-s}}]};Z.DD=Z.D;Z.dd=Z.d;Z.WWWW=Z.WWW=Z.WW=Z.W;Z.MM=Z.M;Z.mm=Z.m;Z.hh=Z.H=Z.HH=Z.h;Z.ss=Z.s;Z.A=Z.a;Z.ZZZZ=Z.ZZZ=Z.ZZ=Z.Z;function tP(e,t){const i=new Intl.DateTimeFormat().resolvedOptions().locale;let s;Me(e)?s=e:Vr(e,"id")&&(s=e.id),s=(s||i).toLowerCase();const n=Object.keys(t),r=a=>n.find(l=>l.toLowerCase()===a);s=r(s)||r(s.substring(0,2))||i;const o=W(I(I({},t["en-IE"]),t[s]),{id:s});return e=jt(e)?Wr(e,o):o,e}class sn{constructor(t,{locales:i=Kt,timezone:s}={}){const{id:n,firstDayOfWeek:r,masks:o}=tP(t,i);this.id=n,this.daysInWeek=yt,this.firstDayOfWeek=np(r,1,yt),this.masks=o,this.timezone=s||void 0,this.dayNames=this.getDayNames("long"),this.dayNamesShort=this.getDayNames("short"),this.dayNamesShorter=this.dayNamesShort.map(a=>a.substring(0,2)),this.dayNamesNarrow=this.getDayNames("narrow"),this.monthNames=this.getMonthNames("long"),this.monthNamesShort=this.getMonthNames("short"),this.amPm=["am","pm"],this.monthData={},this.getMonthComps=this.getMonthComps.bind(this),this.parse=this.parse.bind(this),this.format=this.format.bind(this),this.toPage=this.toPage.bind(this)}format(t,i){if(t=this.normalizeDate(t),!t)return"";i=this.normalizeMasks(i)[0];const s=[];i=i.replace(Xk,(o,a)=>(s.push(a),"??"));const n=/Z$/.test(i)?"utc":this.timezone,r=this.getDateParts(t,n);return i=i.replace(Fa,o=>o in za?za[o](r,this):o.slice(1,o.length-1)),i.replace(/\?\?/g,()=>s.shift())}parse(t,i){return this.normalizeMasks(i).map(n=>{if(typeof n!="string")throw new Error("Invalid mask in fecha.parse");let r=t;if(r.length>1e3)return!1;let o=!0;const a={};if(n.replace(Fa,h=>{if(Z[h]){const u=Z[h],d=r.search(u[0]);~d?r.replace(u[0],f=>(u[1](a,f,this),r=r.substring(d+f.length),f)):o=!1}return Z[h]?"":h.slice(1,h.length-1)}),!o)return!1;const l=new Date;a.isPm===!0&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===!1&&+a.hour==12&&(a.hour=0);let c;return a.timezoneOffset!=null?(a.minute=+(a.minute||0)-+a.timezoneOffset,c=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):c=this.getDateFromParts({year:a.year||l.getFullYear(),month:(a.month||0)+1,day:a.day||1,hours:a.hour||0,minutes:a.minute||0,seconds:a.second||0,milliseconds:a.millisecond||0}),c}).find(n=>n)||new Date(t)}normalizeMasks(t){return(Nt(t)&&t||[Me(t)&&t||"YYYY-MM-DD"]).map(i=>Zk.reduce((s,n)=>s.replace(n,this.masks[n]||""),i))}normalizeDate(t,i={}){let s=null,{type:n,fillDate:r}=i;const{mask:o,patch:a,time:l}=i,c=n==="auto"||!n;if(Ri(t)?(n="number",s=new Date(+t)):Me(t)?(n="string",s=t?this.parse(t,o||"iso"):null):jt(t)?(n="object",s=this.getDateFromParts(t)):(n="date",s=Se(t)?new Date(t.getTime()):null),s&&a){r=r==null?new Date:this.normalizeDate(r);const h=I(I({},this.getDateParts(r)),Rw(this.getDateParts(s),Kk[a]));s=this.getDateFromParts(h)}return c&&(i.type=n),s&&!isNaN(s.getTime())?(l&&(s=this.adjustTimeForDate(s,{timeAdjust:l})),s):null}denormalizeDate(t,{type:i,mask:s}={}){switch(i){case"number":return t?t.getTime():NaN;case"string":return t?this.format(t,s||"iso"):"";default:return t?new Date(t):null}}hourIsValid(t,i,s){if(!i)return!0;if(kt(i))return i.includes(t);if(jt(i)){const n=i.min||0,r=i.max||24;return n<=t&&r>=t}return i(t,s)}getHourOptions(t,i){return Jk.filter(s=>this.hourIsValid(s.value,t,i))}getMinuteOptions(t){const i=[];t=t>0?t:1;for(let s=0;s<=59;s+=t)i.push({value:s,label:U(s,2)});return i}nearestOptionValue(t,i){if(t==null)return t;const s=i.reduce((n,r)=>{if(r.disabled)return n;if(isNaN(n))return r.value;const o=Math.abs(n-t);return Math.abs(r.value-t)<o?r.value:n},NaN);return isNaN(s)?t:s}adjustTimeForDate(t,{timeAdjust:i,validHours:s,minuteIncrement:n}){if(!i&&!s&&!n)return t;const r=this.getDateParts(t);if(i)if(i==="now"){const o=this.getDateParts(new Date);r.hours=o.hours,r.minutes=o.minutes,r.seconds=o.seconds,r.milliseconds=o.milliseconds}else{const o=new Date(`2000-01-01T${i}Z`);r.hours=o.getUTCHours(),r.minutes=o.getUTCMinutes(),r.seconds=o.getUTCSeconds(),r.milliseconds=o.getUTCMilliseconds()}if(s){const o=this.getHourOptions(s,r);r.hours=this.nearestOptionValue(r.hours,o)}if(n){const o=this.getMinuteOptions(n);r.minutes=this.nearestOptionValue(r.minutes,o)}return t=this.getDateFromParts(r),t}normalizeDates(t,i){return i=i||{},i.locale=this,(kt(t)?t:[t]).map(s=>s&&(s instanceof ct?s:new ct(s,i))).filter(s=>s)}getDateParts(t,i=this.timezone){if(!t)return null;let s=t;if(i){const D=new Date(t.toLocaleString("en-US",{timeZone:i}));D.setMilliseconds(t.getMilliseconds());const x=D.getTime()-t.getTime();s=new Date(t.getTime()+x)}const n=s.getMilliseconds(),r=s.getSeconds(),o=s.getMinutes(),a=s.getHours(),l=s.getMonth()+1,c=s.getFullYear(),h=this.getMonthComps(l,c),u=s.getDate(),d=h.days-u+1,f=s.getDay()+1,m=Math.floor((u-1)/7+1),p=Math.floor((h.days-u)/7+1),g=Math.ceil((u+Math.abs(h.firstWeekday-h.firstDayOfWeek))/7),v=h.weeks-g+1,b={milliseconds:n,seconds:r,minutes:o,hours:a,day:u,dayFromEnd:d,weekday:f,weekdayOrdinal:m,weekdayOrdinalFromEnd:p,week:g,weekFromEnd:v,month:l,year:c,date:t,isValid:!0};return b.timezoneOffset=this.getTimezoneOffset(b),b}getDateFromParts(t){if(!t)return null;const i=new Date,{year:s=i.getFullYear(),month:n=i.getMonth()+1,day:r=i.getDate(),hours:o=0,minutes:a=0,seconds:l=0,milliseconds:c=0}=t;if(this.timezone){const h=`${U(s,4)}-${U(n,2)}-${U(r,2)}T${U(o,2)}:${U(a,2)}:${U(l,2)}.${U(c,3)}`;return Aa(h,{timeZone:this.timezone})}return new Date(s,n-1,r,o,a,l,c)}getTimezoneOffset(t){const{year:i,month:s,day:n,hours:r=0,minutes:o=0,seconds:a=0,milliseconds:l=0}=t;let c;const h=new Date(Date.UTC(i,s-1,n,r,o,a,l));if(this.timezone){const u=`${U(i,4)}-${U(s,2)}-${U(n,2)}T${U(r,2)}:${U(o,2)}:${U(a,2)}.${U(l,3)}`;c=Aa(u,{timeZone:this.timezone})}else c=new Date(i,s-1,n,r,o,a,l);return(c-h)/6e4}toPage(t,i){return Ri(t)?pe(i,t):Me(t)?this.getDateParts(this.normalizeDate(t)):Se(t)?this.getDateParts(t):jt(t)?t:null}getMonthDates(t=2e3){const i=[];for(let s=0;s<12;s++)i.push(new Date(t,s,15));return i}getMonthNames(t){const i=new Intl.DateTimeFormat(this.id,{month:t,timezome:"UTC"});return this.getMonthDates().map(s=>i.format(s))}getWeekdayDates(t=this.firstDayOfWeek){const i=[],r=5+t-1;for(let o=0;o<yt;o++)i.push(this.getDateFromParts({year:2020,month:1,day:r+o,hours:12}));return i}getDayNames(t){const i=new Intl.DateTimeFormat(this.id,{weekday:t,timeZone:this.timezone});return this.getWeekdayDates(1).map(s=>i.format(s))}getMonthComps(t,i){const s=`${t}-${i}`;let n=this.monthData[s];if(!n){const r=i%4===0&&i%100!==0||i%400===0,o=new Date(i,t-1,1),a=o.getDay()+1,l=t===2&&r?29:Qk[t-1],c=this.firstDayOfWeek-1,h=Vk(o,{weekStartsOn:c}),u=[],d=[];for(let f=0;f<h;f++){const m=se(o,f*7);u.push(Nk(m,{weekStartsOn:c})),d.push(Fk(m))}n={firstDayOfWeek:this.firstDayOfWeek,inLeapYear:r,firstWeekday:a,days:l,weeks:h,month:t,year:i,weeknumbers:u,isoWeeknumbers:d},this.monthData[s]=n}return n}getThisMonthComps(){const{month:t,year:i}=this.getDateParts(new Date);return this.getMonthComps(t,i)}getPrevMonthComps(t,i){return t===1?this.getMonthComps(12,i-1):this.getMonthComps(t-1,i)}getNextMonthComps(t,i){return t===12?this.getMonthComps(1,i+1):this.getMonthComps(t+1,i)}getDayId(t){return this.format(t,"YYYY-MM-DD")}getCalendarDays({weeks:t,monthComps:i,prevMonthComps:s,nextMonthComps:n}){const r=[],{firstDayOfWeek:o,firstWeekday:a,isoWeeknumbers:l,weeknumbers:c}=i,h=a+(a<o?yt:0)-o;let u=!0,d=!1,f=!1;const m=new Intl.DateTimeFormat(this.id,{weekday:"long",year:"numeric",month:"long",day:"numeric"});let p=s.days-h+1,g=s.days-p+1,v=Math.floor((p-1)/yt+1),b=1,D=s.weeks,x=1,w=s.month,P=s.year;const k=new Date,S=k.getDate(),A=k.getMonth()+1,Y=k.getFullYear(),L=(O,F,Q)=>(V,q,st,Ot)=>this.normalizeDate({year:O,month:F,day:Q,hours:V,minutes:q,seconds:st,milliseconds:Ot});for(let O=1;O<=t;O++){for(let F=1,Q=o;F<=yt;F++,Q+=Q===yt?1-yt:1){u&&Q===a&&(p=1,g=i.days,v=Math.floor((p-1)/yt+1),b=Math.floor((i.days-p)/yt+1),D=1,x=i.weeks,w=i.month,P=i.year,u=!1,d=!0);const V=L(P,w,p),q={start:V(0,0,0),end:V(23,59,59,999)},st=q.start,Ot=`${U(P,4)}-${U(w,2)}-${U(p,2)}`,Mt=F,Tt=yt-F,te=c[O-1],bt=l[O-1],Ct=p===S&&w===A&&P===Y,gt=d&&p===1,lt=d&&p===i.days,At=O===1,Qe=O===t,he=F===1,Je=F===yt;r.push({id:Ot,label:p.toString(),ariaLabel:m.format(new Date(P,w-1,p)),day:p,dayFromEnd:g,weekday:Q,weekdayPosition:Mt,weekdayPositionFromEnd:Tt,weekdayOrdinal:v,weekdayOrdinalFromEnd:b,week:D,weekFromEnd:x,weeknumber:te,isoWeeknumber:bt,month:w,year:P,dateFromTime:V,date:st,range:q,isToday:Ct,isFirstDay:gt,isLastDay:lt,inMonth:d,inPrevMonth:u,inNextMonth:f,onTop:At,onBottom:Qe,onLeft:he,onRight:Je,classes:[`id-${Ot}`,`day-${p}`,`day-from-end-${g}`,`weekday-${Q}`,`weekday-position-${Mt}`,`weekday-ordinal-${v}`,`weekday-ordinal-from-end-${b}`,`week-${D}`,`week-from-end-${x}`,{"is-today":Ct,"is-first-day":gt,"is-last-day":lt,"in-month":d,"in-prev-month":u,"in-next-month":f,"on-top":At,"on-bottom":Qe,"on-left":he,"on-right":Je}]}),d&&lt?(d=!1,f=!0,p=1,g=n.days,v=1,b=Math.floor((n.days-p)/yt+1),D=1,x=n.weeks,w=n.month,P=n.year):(p++,g--,v=Math.floor((p-1)/yt+1),b=Math.floor((i.days-p)/yt+1))}D++,x--}return r}}class gh{constructor({key:t,hashcode:i,highlight:s,content:n,dot:r,bar:o,popover:a,dates:l,excludeDates:c,excludeMode:h,customData:u,order:d,pinPage:f},m,p){this.key=Cf(t)?Js():t,this.hashcode=i,this.customData=u,this.order=d||0,this.dateOpts={order:d,locale:p},this.pinPage=f,s&&(this.highlight=m.normalizeHighlight(s)),n&&(this.content=m.normalizeContent(n)),r&&(this.dot=m.normalizeDot(r)),o&&(this.bar=m.normalizeBar(o)),a&&(this.popover=a),this.dates=p.normalizeDates(l,this.dateOpts),this.hasDates=!!Nt(this.dates),this.excludeDates=p.normalizeDates(c,this.dateOpts),this.hasExcludeDates=!!Nt(this.excludeDates),this.excludeMode=h||"intersects",this.hasExcludeDates&&!this.hasDates&&(this.dates.push(new ct({},this.dateOpts)),this.hasDates=!0),this.isComplex=ck(this.dates,g=>g.isComplex)}intersectsDate(t){return t=t instanceof ct?t:new ct(t,this.dateOpts),!this.excludesDate(t)&&(this.dates.find(i=>i.intersectsDate(t))||!1)}includesDate(t){return t=t instanceof ct?t:new ct(t,this.dateOpts),!this.excludesDate(t)&&(this.dates.find(i=>i.includesDate(t))||!1)}excludesDate(t){return t=t instanceof ct?t:new ct(t,this.dateOpts),this.hasExcludeDates&&this.excludeDates.find(i=>this.excludeMode==="intersects"&&i.intersectsDate(t)||this.excludeMode==="includes"&&i.includesDate(t))}intersectsDay(t){return!this.excludesDay(t)&&(this.dates.find(i=>i.intersectsDay(t))||!1)}excludesDay(t){return this.hasExcludeDates&&this.excludeDates.find(i=>i.intersectsDay(t))}}const eP=300,iP=60,sP=80;var nP={maxSwipeTime:eP,minHorizontalSwipeDistance:iP,maxVerticalSwipeDistance:sP};const rP="MMMM YYYY",oP="W",aP="MMM",lP=["L","YYYY-MM-DD","YYYY/MM/DD"],cP=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],hP=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],uP=["h:mm A"],dP=["HH:mm"],fP="WWW, MMM D, YYYY",pP=["L","YYYY-MM-DD","YYYY/MM/DD"],gP="iso",mP="YYYY-MM-DDTHH:mm:ss.SSSZ";var vP={title:rP,weekdays:oP,navMonths:aP,input:lP,inputDateTime:cP,inputDateTime24hr:hP,inputTime:uP,inputTime24hr:dP,dayPopover:fP,data:pP,model:gP,iso:mP};const _P="640px",bP="768px",yP="1024px",xP="1280px";var wP={sm:_P,md:bP,lg:yP,xl:xP};const DP={componentPrefix:"v",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:nP,masks:vP,screens:wP,locales:Kt,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",keepVisibleOnInput:!1,isInteractive:!0}}},lr=vu(DP),MP=_u(()=>W0(lr.locales,e=>(e.masks=Wr(e.masks,lr.masks),e))),Oe=e=>window&&Vr(window.__vcalendar__,e)?Zi(window.__vcalendar__,e):Zi(lr,e),$P={props:{color:{type:String,default:()=>Oe("color")},isDark:{type:Boolean,default:()=>Oe("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,minDateExact:null,maxDateExact:null,disabledDates:null,availableDates:null,theme:null},computed:{$theme(){return this.theme instanceof ka?this.theme:new ka({color:this.color,isDark:this.isDark})},$locale(){if(this.locale instanceof sn)return this.locale;const e=jt(this.locale)?this.locale:{id:this.locale,firstDayOfWeek:this.firstDayOfWeek,masks:this.masks};return new sn(e,{locales:MP.value,timezone:this.timezone})},disabledDates_(){const e=this.normalizeDates(this.disabledDates),{minDate:t,minDateExact:i,maxDate:s,maxDateExact:n}=this;if(i||t){const r=i?this.normalizeDate(i):this.normalizeDate(t,{time:"00:00:00"});e.push({start:null,end:new Date(r.getTime()-1e3)})}if(n||s){const r=n?this.normalizeDate(n):this.normalizeDate(s,{time:"23:59:59"});e.push({start:new Date(r.getTime()+1e3),end:null})}return e},availableDates_(){return this.normalizeDates(this.availableDates)},disabledAttribute(){return new gh({key:"disabled",dates:this.disabledDates_,excludeDates:this.availableDates_,excludeMode:"includes",order:100},this.$theme,this.$locale)}},methods:{formatDate(e,t){return this.$locale?this.$locale.format(e,t):""},parseDate(e,t){if(!this.$locale)return null;const i=this.$locale.parse(e,t);return Se(i)?i:null},normalizeDate(e,t){return this.$locale?this.$locale.normalizeDate(e,t):e},normalizeDates(e){return this.$locale.normalizeDates(e,{isFullDay:!0})},pageForDate(e){return this.$locale.getDateParts(this.normalizeDate(e))},pageForThisMonth(){return this.pageForDate(new Date)}}},kP={methods:{safeSlot(e,t,i=null){return me(this.$slots[e])?this.$slots[e](t):i}}},Sn=gk,mh=$P,Ur=kP,PP={name:"PopoverRow",mixins:[Sn],props:{attribute:Object},computed:{indicator(){const{highlight:e,dot:t,bar:i,popover:s}=this.attribute;if(s&&s.hideIndicator)return null;if(e){const{color:n,isDark:r}=e.start;return{style:W(I({},this.theme.bgAccentHigh({color:n,isDark:!r})),{width:"10px",height:"5px",borderRadius:"3px"})}}if(t){const{color:n,isDark:r}=t.start;return{style:W(I({},this.theme.bgAccentHigh({color:n,isDark:!r})),{width:"5px",height:"5px",borderRadius:"50%"})}}if(i){const{color:n,isDark:r}=i.start;return{style:W(I({},this.theme.bgAccentHigh({color:n,isDark:!r})),{width:"10px",height:"3px"})}}return null}}},SP={class:"vc-day-popover-row"},OP={key:0,class:"vc-day-popover-row-indicator"},TP={class:"vc-day-popover-row-content"};function CP(e,t,i,s,n,r){return T(),N("div",SP,[r.indicator?(T(),N("div",OP,[_("span",{style:De(r.indicator.style),class:We(r.indicator.class)},null,6)])):nt("",!0),_("div",TP,[qs(e.$slots,"default",{},()=>[z(E(i.attribute.popover?i.attribute.popover.label:"No content provided"),1)])])])}var AP=wi(PP,[["render",CP]]);const ws="26px",IP="0 0 32 32",EP={"left-arrow":{viewBox:"0 -1 16 34",path:"M11.196 10c0 0.143-0.071 0.304-0.179 0.411l-7.018 7.018 7.018 7.018c0.107 0.107 0.179 0.268 0.179 0.411s-0.071 0.304-0.179 0.411l-0.893 0.893c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-8.321-8.321c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l8.321-8.321c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l0.893 0.893c0.107 0.107 0.179 0.25 0.179 0.411z"},"right-arrow":{viewBox:"-5 -1 16 34",path:"M10.625 17.429c0 0.143-0.071 0.304-0.179 0.411l-8.321 8.321c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-0.893-0.893c-0.107-0.107-0.179-0.25-0.179-0.411 0-0.143 0.071-0.304 0.179-0.411l7.018-7.018-7.018-7.018c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l0.893-0.893c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l8.321 8.321c0.107 0.107 0.179 0.268 0.179 0.411z"}},LP={props:["name"],data(){return{width:ws,height:ws,viewBox:IP,path:"",isBaseline:!1}},mounted(){this.updateIcon()},watch:{name(){this.updateIcon()}},methods:{updateIcon(){const e=EP[this.name];e&&(this.width=e.width||ws,this.height=e.height||ws,this.viewBox=e.viewBox,this.path=e.path)}}},FP=["width","height","viewBox"],YP=["d"];function RP(e,t,i,s,n,r){return T(),N("svg",{class:"vc-svg-icon",width:n.width,height:n.height,viewBox:n.viewBox},[_("path",{d:n.path},null,8,YP)],8,FP)}var vh=wi(LP,[["render",RP]]);const Hn=12,zP={name:"CalendarNav",emits:["input"],components:{SvgIcon:vh},mixins:[Sn],props:{value:{type:Object,default:()=>({month:0,year:0})},validator:{type:Function,default:()=>()=>!0}},data(){return{monthMode:!0,yearIndex:0,yearGroupIndex:0,onSpaceOrEnter:dh}},computed:{month(){return this.value&&this.value.month||0},year(){return this.value&&this.value.year||0},title(){return this.monthMode?this.yearIndex:`${this.firstYear} - ${this.lastYear}`},monthItems(){return this.getMonthItems(this.yearIndex)},yearItems(){return this.getYearItems(this.yearGroupIndex)},prevItemsEnabled(){return this.monthMode?this.prevMonthItemsEnabled:this.prevYearItemsEnabled},nextItemsEnabled(){return this.monthMode?this.nextMonthItemsEnabled:this.nextYearItemsEnabled},prevMonthItemsEnabled(){return this.getMonthItems(this.yearIndex-1).some(e=>!e.isDisabled)},nextMonthItemsEnabled(){return this.getMonthItems(this.yearIndex+1).some(e=>!e.isDisabled)},prevYearItemsEnabled(){return this.getYearItems(this.yearGroupIndex-1).some(e=>!e.isDisabled)},nextYearItemsEnabled(){return this.getYearItems(this.yearGroupIndex+1).some(e=>!e.isDisabled)},activeItems(){return this.monthMode?this.monthItems:this.yearItems},firstYear(){return ch(this.yearItems.map(e=>e.year))},lastYear(){return Qi(this.yearItems.map(e=>e.year))}},watch:{year(){this.yearIndex=this.year},yearIndex(e){this.yearGroupIndex=this.getYearGroupIndex(e)},value(){this.focusFirstItem()}},created(){this.yearIndex=this.year},mounted(){this.focusFirstItem()},methods:{focusFirstItem(){this.$nextTick(()=>{const e=this.$refs.navContainer.querySelector(".vc-nav-item:not(.is-disabled)");e&&e.focus()})},getItemClasses({isActive:e,isCurrent:t,isDisabled:i}){const s=["vc-nav-item"];return e?s.push("is-active"):t&&s.push("is-current"),i&&s.push("is-disabled"),s},getYearGroupIndex(e){return Math.floor(e/Hn)},getMonthItems(e){const{month:t,year:i}=this.pageForDate(new Date);return this.locale.getMonthDates().map((s,n)=>{const r=n+1;return{month:r,year:e,id:`${e}.${U(r,2)}`,label:this.locale.format(s,this.masks.navMonths),ariaLabel:this.locale.format(s,"MMMM YYYY"),isActive:r===this.month&&e===this.year,isCurrent:r===t&&e===i,isDisabled:!this.validator({month:r,year:e}),click:()=>this.monthClick(r,e)}})},getYearItems(e){const{_:t,year:i}=this.pageForDate(new Date),s=e*Hn,n=s+Hn,r=[];for(let o=s;o<n;o+=1){let a=!1;for(let l=1;l<12&&(a=this.validator({month:l,year:o}),!a);l++);r.push({year:o,id:o,label:o,ariaLabel:o,isActive:o===this.year,isCurrent:o===i,isDisabled:!a,click:()=>this.yearClick(o)})}return r},monthClick(e,t){this.validator({month:e,year:t})&&this.$emit("input",{month:e,year:t})},yearClick(e){this.yearIndex=e,this.monthMode=!0,this.focusFirstItem()},toggleMode(){this.monthMode=!this.monthMode},movePrev(){!this.prevItemsEnabled||(this.monthMode&&this.movePrevYear(),this.movePrevYearGroup())},moveNext(){!this.nextItemsEnabled||(this.monthMode&&this.moveNextYear(),this.moveNextYearGroup())},movePrevYear(){this.yearIndex--},moveNextYear(){this.yearIndex++},movePrevYearGroup(){this.yearGroupIndex--},moveNextYearGroup(){this.yearGroupIndex++}}},NP={class:"vc-nav-container",ref:"navContainer"},HP={class:"vc-nav-header"},BP=["tabindex"],jP=["tabindex"],WP={class:"vc-nav-items"},VP=["data-id","aria-label","tabindex","onClick","onKeydown"];function UP(e,t,i,s,n,r){const o=C("svg-icon");return T(),N("div",NP,[_("div",HP,[_("span",{role:"button",class:We(["vc-nav-arrow is-left",{"is-disabled":!r.prevItemsEnabled}]),tabindex:r.prevItemsEnabled?0:void 0,onClick:t[0]||(t[0]=(...a)=>r.movePrev&&r.movePrev(...a)),onKeydown:t[1]||(t[1]=a=>n.onSpaceOrEnter(a,r.movePrev))},[qs(e.$slots,"nav-left-button",{},()=>[y(o,{name:"left-arrow",width:"20px",height:"24px"})])],42,BP),_("span",{role:"button",class:"vc-nav-title vc-grid-focus",style:{whiteSpace:"nowrap"},tabindex:"0",onClick:t[2]||(t[2]=(...a)=>r.toggleMode&&r.toggleMode(...a)),onKeydown:t[3]||(t[3]=a=>n.onSpaceOrEnter(a,r.toggleMode))},E(r.title),33),_("span",{role:"button",class:We(["vc-nav-arrow is-right",{"is-disabled":!r.nextItemsEnabled}]),tabindex:r.nextItemsEnabled?0:void 0,onClick:t[4]||(t[4]=(...a)=>r.moveNext&&r.moveNext(...a)),onKeydown:t[5]||(t[5]=a=>n.onSpaceOrEnter(a,r.moveNext))},[qs(e.$slots,"nav-right-button",{},()=>[y(o,{name:"right-arrow",width:"20px",height:"24px"})])],42,jP)]),_("div",WP,[(T(!0),N(Dt,null,Lt(r.activeItems,a=>(T(),N("span",{key:a.label,role:"button","data-id":a.id,"aria-label":a.ariaLabel,class:We(r.getItemClasses(a)),tabindex:a.isDisabled?void 0:0,onClick:a.click,onKeydown:l=>n.onSpaceOrEnter(l,a.click)},E(a.label),43,VP))),128))])],512)}var KP=wi(zP,[["render",UP]]);function cr(e){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:e}))}function hr(e){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:e}))}function _h(e){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:e}))}function qP(e){document&&document.dispatchEvent(new CustomEvent("update-popover",{detail:e}))}function nn(e){const{visibility:t}=e,i=t==="click",s=t==="hover",n=t==="hover-focus",r=t==="focus";e.autoHide=!i;let o=!1,a=!1;const{isRenderFn:l}=e,c={click:l?"onClick":"click",mousemove:l?"onMousemove":"mousemove",mouseleave:l?"onMouseleave":"mouseleave",focusin:l?"onFocusin":"focusin",focusout:l?"onFocusout":"focusout"};return{[c.click](h){i&&(e.ref=h.target,_h(e),h.stopPropagation())},[c.mousemove](h){e.ref=h.currentTarget,o||(o=!0,(s||n)&&cr(e))},[c.mouseleave](h){e.ref=h.target,o&&(o=!1,(s||n&&!a)&&hr(e))},[c.focusin](h){e.ref=h.currentTarget,a||(a=!0,(r||n)&&cr(e))},[c.focusout](h){e.ref=h.currentTarget,a&&!Hi(e.ref,h.relatedTarget)&&(a=!1,(r||n&&!o)&&hr(e))}}}const GP={name:"CalendarDay",emits:["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown"],mixins:[Sn,Ur],inheritAttrs:!1,render(){const e=()=>this.hasBackgrounds&&R("div",{class:"vc-highlights vc-day-layer"},this.backgrounds.map(({key:n,wrapperClass:r,class:o,style:a})=>R("div",{key:n,class:r},[R("div",{class:o,style:a})]))),t=()=>this.safeSlot("day-content",{day:this.day,attributes:this.day.attributes,attributesMap:this.day.attributesMap,dayProps:this.dayContentProps,dayEvents:this.dayContentEvents})||R("span",W(I(W(I({},this.dayContentProps),{class:this.dayContentClass,style:this.dayContentStyle}),this.dayContentEvents),{ref:"content"}),[this.day.label]),i=()=>this.hasDots&&R("div",{class:"vc-day-layer vc-day-box-center-bottom"},[R("div",{class:"vc-dots"},this.dots.map(({key:n,class:r,style:o})=>R("span",{key:n,class:r,style:o})))]),s=()=>this.hasBars&&R("div",{class:"vc-day-layer vc-day-box-center-bottom"},[R("div",{class:"vc-bars"},this.bars.map(({key:n,class:r,style:o})=>R("span",{key:n,class:r,style:o})))]);return R("div",{class:["vc-day",...this.day.classes,{"vc-day-box-center-center":!this.$slots["day-content"]},{"is-not-in-month":!this.inMonth}]},[e(),t(),i(),s()])},inject:["sharedState"],props:{day:{type:Object,required:!0}},data(){return{glyphs:{},dayContentEvents:{}}},computed:{label(){return this.day.label},startTime(){return this.day.range.start.getTime()},endTime(){return this.day.range.end.getTime()},inMonth(){return this.day.inMonth},isDisabled(){return this.day.isDisabled},backgrounds(){return this.glyphs.backgrounds},hasBackgrounds(){return!!Nt(this.backgrounds)},content(){return this.glyphs.content},dots(){return this.glyphs.dots},hasDots(){return!!Nt(this.dots)},bars(){return this.glyphs.bars},hasBars(){return!!Nt(this.bars)},popovers(){return this.glyphs.popovers},hasPopovers(){return!!Nt(this.popovers)},dayContentClass(){return["vc-day-content vc-focusable",{"is-disabled":this.isDisabled},Zi(Qi(this.content),"class")||""]},dayContentStyle(){return Zi(Qi(this.content),"style")},dayContentProps(){let e;return this.day.isFocusable?e="0":this.day.inMonth&&(e="-1"),{tabindex:e,"aria-label":this.day.ariaLabel,"aria-disabled":this.day.isDisabled?"true":"false",role:"button"}},dayEvent(){return W(I({},this.day),{el:this.$refs.content,popovers:this.popovers})}},watch:{theme(){this.refresh()},popovers(){this.refreshPopovers()},"day.shouldRefresh"(){this.refresh()}},mounted(){this.refreshPopovers(),this.refresh()},methods:{getDayEvent(e){return W(I({},this.dayEvent),{event:e})},click(e){this.$emit("dayclick",this.getDayEvent(e))},mouseenter(e){this.$emit("daymouseenter",this.getDayEvent(e))},mouseleave(e){this.$emit("daymouseleave",this.getDayEvent(e))},focusin(e){this.$emit("dayfocusin",this.getDayEvent(e))},focusout(e){this.$emit("dayfocusout",this.getDayEvent(e))},keydown(e){this.$emit("daykeydown",this.getDayEvent(e))},refresh(){if(!this.day.shouldRefresh)return;this.day.shouldRefresh=!1;const e={backgrounds:[],dots:[],bars:[],popovers:[],content:[]};this.day.attributes=Object.values(this.day.attributesMap||{}).sort((t,i)=>t.order-i.order),this.day.attributes.forEach(t=>{const{targetDate:i}=t,{isDate:s,isComplex:n,startTime:r,endTime:o}=i,a=this.startTime<=r,l=this.endTime>=o,u={isDate:s,isComplex:n,onStart:a,onEnd:l,onStartAndEnd:a&&l,onStartOrEnd:a||l};this.processHighlight(t,u,e),this.processNonHighlight(t,"content",u,e.content),this.processNonHighlight(t,"dot",u,e.dots),this.processNonHighlight(t,"bar",u,e.bars),this.processPopover(t,e)}),this.glyphs=e},processHighlight({key:e,highlight:t},{isDate:i,isComplex:s,onStart:n,onEnd:r,onStartAndEnd:o},{backgrounds:a,content:l}){if(!t)return;const{base:c,start:h,end:u}=t;i||s?(a.push({key:e,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight",h.class],style:h.style}),l.push({key:`${e}-content`,class:h.contentClass,style:h.contentStyle})):o?(a.push({key:e,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight",h.class],style:h.style}),l.push({key:`${e}-content`,class:h.contentClass,style:h.contentStyle})):n?(a.push({key:`${e}-base`,wrapperClass:"vc-day-layer vc-day-box-right-center",class:["vc-highlight vc-highlight-base-start",c.class],style:c.style}),a.push({key:e,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight",h.class],style:h.style}),l.push({key:`${e}-content`,class:h.contentClass,style:h.contentStyle})):r?(a.push({key:`${e}-base`,wrapperClass:"vc-day-layer vc-day-box-left-center",class:["vc-highlight vc-highlight-base-end",c.class],style:c.style}),a.push({key:e,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight",u.class],style:u.style}),l.push({key:`${e}-content`,class:u.contentClass,style:u.contentStyle})):(a.push({key:`${e}-middle`,wrapperClass:"vc-day-layer vc-day-box-center-center",class:["vc-highlight vc-highlight-base-middle",c.class],style:c.style}),l.push({key:`${e}-content`,class:c.contentClass,style:c.contentStyle}))},processNonHighlight(e,t,{isDate:i,onStart:s,onEnd:n},r){if(!e[t])return;const{key:o}=e,a=`vc-${t}`,{base:l,start:c,end:h}=e[t];i||s?r.push({key:o,class:[a,c.class],style:c.style}):n?r.push({key:o,class:[a,h.class],style:h.style}):r.push({key:o,class:[a,l.class],style:l.style})},processPopover(e,{popovers:t}){const{key:i,customData:s,popover:n}=e;if(!n)return;const r=zi({key:i,customData:s,attribute:e},I({},n),{visibility:n.label?"hover":"click",placement:"bottom",isInteractive:!n.label});t.splice(0,0,r)},refreshPopovers(){let e={};Nt(this.popovers)&&(e=nn(zi({id:this.dayPopoverId,data:this.day,isRenderFn:!0},...this.popovers))),this.dayContentEvents=hk({onClick:this.click,onMouseenter:this.mouseenter,onMouseleave:this.mouseleave,onFocusin:this.focusin,onFocusout:this.focusout,onKeydown:this.keydown},e),qP({id:this.dayPopoverId,data:this.day})}}},XP={name:"CalendarPane",emits:["update:page","weeknumberclick"],mixins:[Sn,Ur],inheritAttrs:!1,render(){const e=this.safeSlot("header",this.page)||R("div",{class:`vc-header align-${this.titlePosition}`},[R("div",I({class:"vc-title"},this.navPopoverEvents),[this.safeSlot("header-title",this.page,this.page.title)])]),t=this.weekdayLabels.map((l,c)=>R("div",{key:c+1,class:"vc-weekday"},[l])),i=this.showWeeknumbers_.startsWith("left"),s=this.showWeeknumbers_.startsWith("right");i?t.unshift(R("div",{class:"vc-weekday"})):s&&t.push(R("div",{class:"vc-weekday"}));const n=l=>R("div",{class:["vc-weeknumber"]},[R("span",{class:["vc-weeknumber-content",`is-${this.showWeeknumbers_}`],onClick:c=>{this.$emit("weeknumberclick",{weeknumber:l,days:this.page.days.filter(h=>h[this.weeknumberKey]===l),event:c})}},[l])]),r=[],{daysInWeek:o}=this.locale;this.page.days.forEach((l,c)=>{const h=c%o;(i&&h===0||s&&h===o)&&r.push(n(l[this.weeknumberKey])),r.push(R(GP,W(I({},this.$attrs),{day:l}),this.$slots)),s&&h===o-1&&r.push(n(l[this.weeknumberKey]))});const a=R("div",{class:{"vc-weeks":!0,"vc-show-weeknumbers":this.showWeeknumbers_,"is-left":i,"is-right":s}},[t,r]);return R("div",{class:["vc-pane",`row-from-end-${this.rowFromEnd}`,`column-from-end-${this.columnFromEnd}`],ref:"pane"},[e,a])},props:{page:Object,position:Number,row:Number,rowFromEnd:Number,column:Number,columnFromEnd:Number,titlePosition:String,navVisibility:{type:String,default:()=>Oe("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String]},computed:{weeknumberKey(){return this.showWeeknumbers?"weeknumber":"isoWeeknumber"},showWeeknumbers_(){const e=this.showWeeknumbers||this.showIsoWeeknumbers;return e==null?"":sf(e)?e?"left":"":e.startsWith("right")?this.columnFromEnd>1?"right":e:this.column>1?"left":e},navPlacement(){switch(this.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}},navPopoverEvents(){const{sharedState:e,navVisibility:t,navPlacement:i,page:s,position:n}=this;return nn({id:e.navPopoverId,visibility:t,placement:i,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:s,position:n},isInteractive:!0,isRenderFn:!0})},weekdayLabels(){return this.locale.getWeekdayDates().map(e=>this.format(e,this.masks.weekdays))}}};class ZP{constructor(t,i,s){this.theme=t,this.locale=i,this.map={},this.refresh(s,!0)}destroy(){this.theme=null,this.locale=null,this.map={},this.list=[],this.pinAttr=null}refresh(t,i){const s={},n=[];let r=null;const o=[],a=i?new Set:new Set(Object.keys(this.map));return Nt(t)&&t.forEach((l,c)=>{if(!l||!l.dates)return;const h=l.key?l.key.toString():c.toString(),u=l.order||0,d=dk(JSON.stringify(l));let f=this.map[h];!i&&f&&f.hashcode===d?a.delete(h):(f=new gh(I({key:h,order:u,hashcode:d},l),this.theme,this.locale),o.push(f)),f&&f.pinPage&&(r=f),s[h]=f,n.push(f)}),this.map=s,this.list=n,this.pinAttr=r,{adds:o,deletes:Array.from(a)}}}const QP=(e,t,{maxSwipeTime:i,minHorizontalSwipeDistance:s,maxVerticalSwipeDistance:n})=>{if(!e||!e.addEventListener||!me(t))return null;let r=0,o=0,a=null,l=!1;function c(u){const d=u.changedTouches[0];r=d.screenX,o=d.screenY,a=new Date().getTime(),l=!0}function h(u){if(!l)return;l=!1;const d=u.changedTouches[0],f=d.screenX-r,m=d.screenY-o;if(new Date().getTime()-a<i&&Math.abs(f)>=s&&Math.abs(m)<=n){const g={toLeft:!1,toRight:!1};f<0?g.toLeft=!0:g.toRight=!0,t(g)}}return xt(e,"touchstart",c,{passive:!0}),xt(e,"touchend",h,{passive:!0}),()=>{wt(e,"touchstart",c),wt(e,"touchend",h)}},JP={name:"Calendar",emits:["dayfocusin","dayfocusout","transition-start","transition-end","update:from-page","update:to-page"],render(){const e=this.pages.map((n,r)=>{const o=r+1,a=Math.ceil((r+1)/this.columns),l=this.rows-a+1,c=o%this.columns||this.columns,h=this.columns-c+1;return R(XP,W(I({},this.$attrs),{key:n.key,attributes:this.store,page:n,position:o,row:a,rowFromEnd:l,column:c,columnFromEnd:h,titlePosition:this.titlePosition,canMove:this.canMove,"onUpdate:page":u=>this.move(u,{position:r+1}),onDayfocusin:u=>{this.lastFocusedDay=u,this.$emit("dayfocusin",u)},onDayfocusout:u=>{this.lastFocusedDay=null,this.$emit("dayfocusout",u)}}),this.$slots)}),t=n=>{const r=()=>this.move(n?-this.step_:this.step_),o=l=>dh(l,r),a=n?!this.canMovePrev:!this.canMoveNext;return R("div",{class:["vc-arrow",`is-${n?"left":"right"}`,{"is-disabled":a}],role:"button",onClick:r,onKeydown:o},[(n?this.safeSlot("header-left-button",{click:r}):this.safeSlot("header-right-button",{click:r}))||R(vh,{name:n?"left-arrow":"right-arrow"})])},i=()=>R(ar,{id:this.sharedState.navPopoverId,contentClass:"vc-nav-popover-container",ref:"navPopover"},{default:({data:n})=>{const{position:r,page:o}=n;return R(KP,{value:o,position:r,validator:a=>this.canMove(a,{position:r}),onInput:a=>this.move(a)},I({},this.$slots))}}),s=()=>R(ar,{id:this.sharedState.dayPopoverId,contentClass:"vc-day-popover-container"},{default:({data:n,updateLayout:r,hide:o})=>{const a=Object.values(n.attributes).filter(u=>u.popover),l=this.$locale.masks,c=this.formatDate,h=c(n.date,l.dayPopover);return this.safeSlot("day-popover",{day:n,attributes:a,masks:l,format:c,dayTitle:h,updateLayout:r,hide:o},R("div",[l.dayPopover&&R("div",{class:["vc-day-popover-header"]},[h]),a.map(u=>R(AP,{key:u.key,attribute:u}))]))}});return R("div",{"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year",class:["vc-container",`vc-${this.$theme.color}`,{"vc-is-expanded":this.isExpanded,"vc-is-dark":this.$theme.isDark}],onKeydown:this.handleKeydown,onMouseup:n=>n.preventDefault(),ref:"container"},[i(),R("div",{class:["vc-pane-container",{"in-transition":this.inTransition}]},[R(fh,{name:this.transitionName,"on-before-enter":()=>{this.inTransition=!0},"on-after-enter":()=>{this.inTransition=!1}},{default:()=>R("div",W(I({},this.$attrs),{class:"vc-pane-layout",style:{gridTemplateColumns:`repeat(${this.columns}, 1fr)`},key:this.firstPage?this.firstPage.key:""}),e)}),R("div",{class:[`vc-arrows-container title-${this.titlePosition}`]},[t(!0),t(!1)]),this.$slots.footer&&this.$slots.footer()]),s()])},mixins:[mh,Ur],provide(){return{sharedState:this.sharedState}},props:{rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>Oe("titlePosition")},isExpanded:Boolean,fromDate:Date,toDate:Date,fromPage:Object,toPage:Object,minPage:Object,maxPage:Object,transition:String,attributes:[Object,Array],trimWeeks:Boolean,disablePageSwipe:Boolean},data(){return{pages:[],store:null,lastFocusedDay:null,focusableDay:new Date().getDate(),transitionName:"",inTransition:!1,sharedState:{navPopoverId:Js(),dayPopoverId:Js(),theme:{},masks:{},locale:{}}}},computed:{firstPage(){return ch(this.pages)},lastPage(){return Qi(this.pages)},minPage_(){return this.minPage||this.pageForDate(this.minDate)},maxPage_(){return this.maxPage||this.pageForDate(this.maxDate)},count(){return this.rows*this.columns},step_(){return this.step||this.count},canMovePrev(){return this.canMove(-this.step_)},canMoveNext(){return this.canMove(this.step_)}},watch:{$locale(){this.refreshLocale(),this.refreshPages({page:this.firstPage,ignoreCache:!0}),this.initStore()},$theme(){this.refreshTheme(),this.initStore()},fromDate(){this.refreshPages()},fromPage(e){const t=this.pages&&this.pages[0];Fn(e,t)||this.refreshPages()},toPage(e){const t=this.pages&&this.pages[this.pages.length-1];Fn(e,t)||this.refreshPages()},count(){this.refreshPages()},attributes:{handler(e){const{adds:t,deletes:i}=this.store.refresh(e);this.refreshAttrs(this.pages,t,i)},deep:!0},pages(e){this.refreshAttrs(e,this.store.list,null,!0)},disabledAttribute(){this.refreshDisabledDays()},lastFocusedDay(e){e&&(this.focusableDay=e.day,this.refreshFocusableDays())},inTransition(e){e?this.$emit("transition-start"):(this.$emit("transition-end"),this.transitionPromise&&(this.transitionPromise.resolve(!0),this.transitionPromise=null))}},created(){this.refreshLocale(),this.refreshTheme(),this.initStore(),this.refreshPages()},mounted(){this.disablePageSwipe||(this.removeHandlers=QP(this.$refs.container,({toLeft:e,toRight:t})=>{e?this.moveNext():t&&this.movePrev()},Oe("touch")))},beforeUnmount(){this.pages=[],this.store.destroy(),this.store=null,this.sharedState=null,this.removeHandlers&&this.removeHandlers()},methods:{refreshLocale(){this.sharedState.locale=this.$locale,this.sharedState.masks=this.$locale.masks},refreshTheme(){this.sharedState.theme=this.$theme},canMove(e,t={}){const i=this.firstPage&&this.$locale.toPage(e,this.firstPage);if(!i)return!1;let{position:s}=t;if(Ri(e)&&(s=1),!s)if(Ci(i,this.firstPage))s=-1;else if(Ni(i,this.lastPage))s=1;else return!0;return Object.assign(t,this.getTargetPageRange(i,{position:s,force:!0})),uk(t.fromPage,t.toPage).some(n=>uh(n,this.minPage_,this.maxPage_))},movePrev(e){return this.move(-this.step_,e)},moveNext(e){return this.move(this.step_,e)},move(e,t={}){const i=this.canMove(e,t);return!t.force&&!i?Promise.reject(new Error(`Move target is disabled: ${JSON.stringify(t)}`)):(this.$refs.navPopover.hide({hideDelay:0}),t.fromPage&&!Fn(t.fromPage,this.firstPage)?this.refreshPages(W(I({},t),{page:t.fromPage,position:1,force:!0})):Promise.resolve(!0))},focusDate(e,t={}){return this.move(e,t).then(()=>{const i=this.$el.querySelector(`.id-${this.$locale.getDayId(e)}.in-month .vc-focusable`);return i?(i.focus(),Promise.resolve(!0)):Promise.resolve(!1)})},showPageRange(e,t){let i,s;if(Se(e))i=this.pageForDate(e);else if(jt(e)){const{month:o,year:a}=e,{from:l,to:c}=e;Ri(o)&&Ri(a)?i=e:(l||c)&&(i=Se(l)?this.pageForDate(l):l,s=Se(c)?this.pageForDate(c):c)}else return Promise.reject(new Error("Invalid page range provided."));const n=this.lastPage;let r=i;return Ni(s,n)&&(r=pe(s,-(this.pages.length-1))),Ci(r,i)&&(r=i),this.refreshPages(W(I({},t),{page:r}))},getTargetPageRange(e,{position:t,force:i}={}){let s=null,n=null;if(Ft(e)){let r=0;t=+t,isNaN(t)||(r=t>0?1-t:-(this.count+t)),s=pe(e,r)}else s=this.getDefaultInitialPage();return n=pe(s,this.count-1),i||(Ci(s,this.minPage_)?s=this.minPage_:Ni(n,this.maxPage_)&&(s=pe(this.maxPage_,1-this.count)),n=pe(s,this.count-1)),{fromPage:s,toPage:n}},getDefaultInitialPage(){let e=this.fromPage||this.pageForDate(this.fromDate);if(!Ft(e)){const t=this.toPage||this.pageForDate(this.toPage);Ft(t)&&(e=pe(t,1-this.count))}return Ft(e)||(e=this.getPageForAttributes()),Ft(e)||(e=this.pageForThisMonth()),e},refreshPages({page:e,position:t=1,force:i,transition:s,ignoreCache:n}={}){return new Promise((r,o)=>{const{fromPage:a,toPage:l}=this.getTargetPageRange(e,{position:t,force:i}),c=[];for(let h=0;h<this.count;h++)c.push(this.buildPage(pe(a,h),n));this.refreshDisabledDays(c),this.refreshFocusableDays(c),this.transitionName=this.getPageTransition(this.pages[0],c[0],s),this.pages=c,this.$emit("update:from-page",a),this.$emit("update:to-page",l),this.transitionName&&this.transitionName!=="none"?this.transitionPromise={resolve:r,reject:o}:r(!0)})},refreshDisabledDays(e){this.getPageDays(e).forEach(t=>{t.isDisabled=!!this.disabledAttribute&&this.disabledAttribute.intersectsDay(t)})},refreshFocusableDays(e){this.getPageDays(e).forEach(t=>{t.isFocusable=t.inMonth&&t.day===this.focusableDay})},getPageDays(e=this.pages){return e.reduce((t,i)=>t.concat(i.days),[])},getPageTransition(e,t,i=this.transition){if(i==="none")return i;if(i==="fade"||!i&&this.count>1||!Ft(e)||!Ft(t))return"fade";const s=Ci(t,e);return i==="slide-v"?s?"slide-down":"slide-up":s?"slide-right":"slide-left"},getPageForAttributes(){let e=null;const t=this.store.pinAttr;if(t&&t.hasDates){let[i]=t.dates;i=i.start||i.date,e=this.pageForDate(i)}return e},buildPage({month:e,year:t},i){const s=`${t.toString()}-${e.toString()}`;let n=this.pages.find(r=>r.key===s);if(!n||i){const r=new Date(t,e-1,15),o=this.$locale.getMonthComps(e,t),a=this.$locale.getPrevMonthComps(e,t),l=this.$locale.getNextMonthComps(e,t);n={key:s,month:e,year:t,weeks:this.trimWeeks?o.weeks:6,title:this.$locale.format(r,this.$locale.masks.title),shortMonthLabel:this.$locale.format(r,"MMM"),monthLabel:this.$locale.format(r,"MMMM"),shortYearLabel:t.toString().substring(2),yearLabel:t.toString(),monthComps:o,prevMonthComps:a,nextMonthComps:l,canMove:c=>this.canMove(c),move:c=>this.move(c),moveThisMonth:()=>this.moveThisMonth(),movePrevMonth:()=>this.move(a),moveNextMonth:()=>this.move(l),refresh:!0},n.days=this.$locale.getCalendarDays(n)}return n},initStore(){this.store=new ZP(this.$theme,this.$locale,this.attributes),this.refreshAttrs(this.pages,this.store.list,[],!0)},refreshAttrs(e=[],t=[],i=[],s){!Nt(e)||e.forEach(n=>{n.days.forEach(r=>{let o=!1,a={};s?o=!0:or(r.attributesMap,i)?(a=rr(r.attributesMap,i),o=!0):a=r.attributesMap||{},t.forEach(l=>{const c=l.intersectsDay(r);if(c){const h=W(I({},l),{targetDate:c});a[l.key]=h,o=!0}}),o&&(r.attributesMap=a,r.shouldRefresh=!0)})})},handleKeydown(e){const t=this.lastFocusedDay;t!=null&&(t.event=e,this.handleDayKeydown(t))},handleDayKeydown(e){const{dateFromTime:t,event:i}=e,s=t(12);let n=null;switch(i.key){case"ArrowLeft":{n=se(s,-1);break}case"ArrowRight":{n=se(s,1);break}case"ArrowUp":{n=se(s,-7);break}case"ArrowDown":{n=se(s,7);break}case"Home":{n=se(s,-e.weekdayPosition+1);break}case"End":{n=se(s,e.weekdayPositionFromEnd);break}case"PageUp":{i.altKey?n=$o(s,-1):n=Jn(s,-1);break}case"PageDown":{i.altKey?n=$o(s,1):n=Jn(s,1);break}}n&&(i.preventDefault(),this.focusDate(n).catch())}}},tS={inheritAttrs:!1,emits:["update:modelValue"],props:{options:Array,modelValue:null}},eS={class:"vc-select"},iS=["value"],sS=["value","disabled"],nS=_("div",{class:"vc-select-arrow"},[_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[_("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function rS(e,t,i,s,n,r){return T(),N("div",eS,[_("select",yu(e.$attrs,{value:i.modelValue,onChange:t[0]||(t[0]=o=>e.$emit("update:modelValue",o.target.value))}),[(T(!0),N(Dt,null,Lt(i.options,o=>(T(),N("option",{key:o.value,value:o.value,disabled:o.disabled},E(o.label),9,sS))),128))],16,iS),nS])}var oS=wi(tS,[["render",rS]]);const aS=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],lS=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}],cS={name:"TimePicker",components:{TimeSelect:oS},emits:["update:modelValue"],props:{modelValue:{type:Object,required:!0},locale:{type:Object,required:!0},theme:{type:Object,required:!0},is24hr:{type:Boolean,default:!0},showBorder:Boolean,hourOptions:Array,minuteOptions:Array},computed:{date(){let e=this.locale.normalizeDate(this.modelValue);return this.modelValue.hours===24&&(e=new Date(e.getTime()-1)),e},hours:{get(){return this.modelValue.hours},set(e){this.updateValue(e,this.minutes)}},minutes:{get(){return this.modelValue.minutes},set(e){this.updateValue(this.hours,e)}},isAM:{get(){return this.modelValue.hours<12},set(e){let t=this.hours;e&&t>=12?t-=12:!e&&t<12&&(t+=12),this.updateValue(t,this.minutes)}},amHourOptions(){return aS.filter(e=>this.hourOptions.some(t=>t.value===e.value))},pmHourOptions(){return lS.filter(e=>this.hourOptions.some(t=>t.value===e.value))},hourOptions_(){return this.is24hr?this.hourOptions:this.isAM?this.amHourOptions:this.pmHourOptions},amDisabled(){return!Nt(this.amHourOptions)},pmDisabled(){return!Nt(this.pmHourOptions)}},methods:{updateValue(e,t=this.minutes){(e!==this.hours||t!==this.minutes)&&this.$emit("update:modelValue",W(I({},this.modelValue),{hours:e,minutes:t,seconds:0,milliseconds:0}))}}},hS=_("div",null,[_("svg",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",class:"vc-time-icon",stroke:"currentColor"},[_("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),uS={class:"vc-time-content"},dS={key:0,class:"vc-time-date"},fS={class:"vc-time-weekday"},pS={class:"vc-time-month"},gS={class:"vc-time-day"},mS={class:"vc-time-year"},vS={class:"vc-time-select"},_S=_("span",{style:{margin:"0 4px"}},":",-1),bS={key:0,class:"vc-am-pm"};function yS(e,t,i,s,n,r){const o=C("time-select");return T(),N("div",{class:We(["vc-time-picker",[{"vc-invalid":!i.modelValue.isValid,"vc-bordered":i.showBorder}]])},[hS,_("div",uS,[r.date?(T(),N("div",dS,[_("span",fS,E(i.locale.format(r.date,"WWW")),1),_("span",pS,E(i.locale.format(r.date,"MMM")),1),_("span",gS,E(i.locale.format(r.date,"D")),1),_("span",mS,E(i.locale.format(r.date,"YYYY")),1)])):nt("",!0),_("div",vS,[y(o,{modelValue:r.hours,"onUpdate:modelValue":t[0]||(t[0]=a=>r.hours=a),modelModifiers:{number:!0},options:r.hourOptions_},null,8,["modelValue","options"]),_S,y(o,{modelValue:r.minutes,"onUpdate:modelValue":t[1]||(t[1]=a=>r.minutes=a),modelModifiers:{number:!0},options:i.minuteOptions},null,8,["modelValue","options"]),i.is24hr?nt("",!0):(T(),N("div",bS,[_("button",{class:We({active:r.isAM,"vc-disabled":r.amDisabled}),onClick:t[2]||(t[2]=Gs(a=>r.isAM=!0,["prevent"])),type:"button"}," AM ",2),_("button",{class:We({active:!r.isAM,"vc-disabled":r.pmDisabled}),onClick:t[3]||(t[3]=Gs(a=>r.isAM=!1,["prevent"])),type:"button"}," PM ",2)]))])])],2)}var xS=wi(cS,[["render",yS]]);const Na={type:"auto",mask:"iso",timeAdjust:""},wS=[Na,Na],Ds={DATE:"date",DATE_TIME:"datetime",TIME:"time"},It={NONE:0,START:1,END:2,BOTH:3},DS={name:"DatePicker",emits:["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"],render(){const e=(n,r)=>{if(!this.$slots.footer)return n;const o=[n,this.$slots.footer()];return r?R(r,o):o},t=()=>{if(!this.dateParts)return null;const n=this.isRange?this.dateParts:[this.dateParts[0]];return R("div",{},W(I({},this.$slots),{default:()=>n.map((r,o)=>{const a=this.$locale.getHourOptions(this.modelConfig_[o].validHours,r),l=this.$locale.getMinuteOptions(this.modelConfig_[o].minuteIncrement,r);return R(xS,{modelValue:r,locale:this.$locale,theme:this.$theme,is24hr:this.is24hr,showBorder:!this.isTime,isDisabled:this.isDateTime&&!r.isValid||this.isDragging,hourOptions:a,minuteOptions:l,"onUpdate:modelValue":c=>this.onTimeInput(c,o===0)})})}))},i=()=>R(JP,W(I({},this.$attrs),{attributes:this.attributes_,theme:this.$theme,locale:this.$locale,minDate:this.minDateExact||this.minDate,maxDate:this.maxDateExact||this.maxDate,disabledDates:this.disabledDates,availableDates:this.availableDates,onDayclick:this.onDayClick,onDaykeydown:this.onDayKeydown,onDaymouseenter:this.onDayMouseEnter,ref:"calendar"}),W(I({},this.$slots),{footer:()=>this.isDateTime?e(t()):e()})),s=()=>this.isTime?R("div",{class:["vc-container",`vc-${this.$theme.color}`,{"vc-is-dark":this.$theme.isDark}]},e(t(),"div")):i();return this.$slots.default?R("div",[this.$slots.default(this.slotArgs),R(ar,{id:this.datePickerPopoverId,placement:"bottom-start",contentClass:`vc-container${this.isDark?" vc-is-dark":""}`,"on-before-show":n=>this.$emit("popover-will-show",n),"on-after-show":n=>this.$emit("popover-did-show",n),"on-before-hide":n=>this.$emit("popover-will-hide",n),"on-after-hide":n=>this.$emit("popover-did-hide",n),ref:"popover"},{default:s})]):s()},mixins:[mh],props:{mode:{type:String,default:Ds.DATE},modelValue:{type:null,required:!0},modelConfig:{type:Object,default:()=>({})},is24hr:Boolean,minuteIncrement:Number,isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>Oe("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>Oe("datePicker.inputDebounce")},popover:{type:Object,default:()=>({})},dragAttribute:Object,selectAttribute:Object,attributes:Array,validHours:[Object,Array,Function]},data(){return{value_:null,dateParts:null,activeDate:"",dragValue:null,inputValues:["",""],updateTimeout:null,watchValue:!0,datePickerPopoverId:Js()}},computed:{isDate(){return this.mode.toLowerCase()===Ds.DATE},isDateTime(){return this.mode.toLowerCase()===Ds.DATE_TIME},isTime(){return this.mode.toLowerCase()===Ds.TIME},isDragging(){return!!this.dragValue},modelConfig_(){return this.normalizeConfig(this.modelConfig,wS)},inputMask(){const e=this.$locale.masks;return this.isTime?this.is24hr?e.inputTime24hr:e.inputTime:this.isDateTime?this.is24hr?e.inputDateTime24hr:e.inputDateTime:this.$locale.masks.input},inputMaskHasTime(){return/[Hh]/g.test(this.inputMask)},inputMaskHasDate(){return/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(this.inputMask)},inputMaskPatch(){if(this.inputMaskHasTime&&this.inputMaskHasDate)return xe.DATE_TIME;if(this.inputMaskHasDate)return xe.DATE;if(this.inputMaskHasTime)return xe.TIME},slotArgs(){const{isRange:e,isDragging:t,updateValue:i,showPopover:s,hidePopover:n,togglePopover:r}=this,o=e?{start:this.inputValues[0],end:this.inputValues[1]}:this.inputValues[0],a=[!0,!1].map(c=>I({input:this.onInputInput(c),change:this.onInputChange(c),keyup:this.onInputKeyup},nn(W(I({},this.popover_),{id:this.datePickerPopoverId,callback:h=>{h.action==="show"&&h.completed&&this.onInputShow(c)}})))),l=e?{start:a[0],end:a[1]}:a[0];return{inputValue:o,inputEvents:l,isDragging:t,updateValue:i,showPopover:s,hidePopover:n,togglePopover:r,getPopoverTriggerEvents:nn}},popover_(){return Wr(this.popover,Oe("datePicker.popover"))},selectAttribute_(){if(!this.hasValue(this.value_))return null;const e=W(I({key:"select-drag"},this.selectAttribute),{dates:this.value_,pinPage:!0}),{dot:t,bar:i,highlight:s,content:n}=e;return!t&&!i&&!s&&!n&&(e.highlight=!0),e},dragAttribute_(){if(!this.isRange||!this.hasValue(this.dragValue))return null;const e=W(I({key:"select-drag"},this.dragAttribute),{dates:this.dragValue}),{dot:t,bar:i,highlight:s,content:n}=e;return!t&&!i&&!s&&!n&&(e.highlight={startEnd:{fillMode:"outline"}}),e},attributes_(){const e=kt(this.attributes)?[...this.attributes]:[];return this.dragAttribute_?e.push(this.dragAttribute_):this.selectAttribute_&&e.push(this.selectAttribute_),e}},watch:{inputMask(){this.formatInput()},modelValue(e){!this.watchValue||this.forceUpdateValue(e,{config:this.modelConfig_,formatInput:!0,hidePopover:!1})},value_(){this.refreshDateParts()},dragValue(){this.refreshDateParts()},timezone(){this.refreshDateParts(),this.forceUpdateValue(this.value_,{formatInput:!0})}},created(){this.value_=this.normalizeValue(this.modelValue,this.modelConfig_,xe.DATE_TIME,It.BOTH),this.forceUpdateValue(this.modelValue,{config:this.modelConfig_,formatInput:!0,hidePopover:!1}),this.refreshDateParts()},mounted(){xt(document,"keydown",this.onDocumentKeyDown),xt(document,"click",this.onDocumentClick)},beforeUnmount(){wt(document,"keydown",this.onDocumentKeyDown),wt(document,"click",this.onDocumentClick)},methods:{getDateParts(e){return this.$locale.getDateParts(e)},getDateFromParts(e){return this.$locale.getDateFromParts(e)},refreshDateParts(){const e=this.dragValue||this.value_,t=[];this.isRange?(e&&e.start?t.push(this.getDateParts(e.start)):t.push({}),e&&e.end?t.push(this.getDateParts(e.end)):t.push({})):e?t.push(this.getDateParts(e)):t.push({}),this.$nextTick(()=>this.dateParts=t)},onDocumentKeyDown(e){this.dragValue&&e.key==="Escape"&&(this.dragValue=null)},onDocumentClick(e){document.body.contains(e.target)&&!Hi(this.$el,e.target)&&(this.dragValue=null,this.formatInput())},onDayClick(e){this.handleDayClick(e),this.$emit("dayclick",e)},onDayKeydown(e){switch(e.event.key){case" ":case"Enter":{this.handleDayClick(e),e.event.preventDefault();break}case"Escape":this.hidePopover()}this.$emit("daykeydown",e)},handleDayClick(e){const{keepVisibleOnInput:t,visibility:i}=this.popover_,s={patch:xe.DATE,adjustTime:!0,formatInput:!0,hidePopover:this.isDate&&!t&&i!=="visible"};this.isRange?(this.isDragging?this.dragTrackingValue.end=e.date:this.dragTrackingValue=I({},e.range),s.isDragging=!this.isDragging,s.rangePriority=s.isDragging?It.NONE:It.BOTH,s.hidePopover=s.hidePopover&&!s.isDragging,this.updateValue(this.dragTrackingValue,s)):(s.clearIfEqual=!this.isRequired,this.updateValue(e.date,s))},onDayMouseEnter(e){!this.isDragging||(this.dragTrackingValue.end=e.date,this.updateValue(this.dragTrackingValue,{patch:xe.DATE,adjustTime:!0,formatInput:!0,hidePriority:!1,rangePriority:It.NONE}))},onTimeInput(e,t){let i=null;if(this.isRange){const s=t?e:this.dateParts[0],n=t?this.dateParts[1]:e;i={start:s,end:n}}else i=e;this.updateValue(i,{patch:xe.TIME,rangePriority:t?It.START:It.END}).then(()=>this.adjustPageRange(t))},onInputInput(e){return t=>{!this.updateOnInput||this.onInputUpdate(t.target.value,e,{formatInput:!1,hidePopover:!1,debounce:this.inputDebounce})}},onInputChange(e){return t=>{this.onInputUpdate(t.target.value,e,{formatInput:!0,hidePopover:!1})}},onInputUpdate(e,t,i){this.inputValues.splice(t?0:1,1,e);const s=this.isRange?{start:this.inputValues[0],end:this.inputValues[1]||this.inputValues[0]}:e,n={type:"string",mask:this.inputMask};this.updateValue(s,W(I({},i),{config:n,patch:this.inputMaskPatch,rangePriority:t?It.START:It.END})).then(()=>this.adjustPageRange(t))},onInputShow(e){this.adjustPageRange(e)},onInputKeyup(e){e.key==="Escape"&&this.updateValue(this.value_,{formatInput:!0,hidePopover:!0})},updateValue(e,t={}){return clearTimeout(this.updateTimeout),new Promise(i=>{const s=t,{debounce:n}=s,r=Cd(s,["debounce"]);n>0?this.updateTimeout=setTimeout(()=>{this.forceUpdateValue(e,r),i(this.value_)},n):(this.forceUpdateValue(e,r),i(this.value_))})},normalizeConfig(e,t=this.modelConfig_){return e=kt(e)?e:[e.start||e,e.end||e],t.map((i,s)=>I(I({validHours:this.validHours,minuteIncrement:this.minuteIncrement},i),e[s]))},forceUpdateValue(e,{config:t=this.modelConfig_,patch:i=xe.DATE_TIME,clearIfEqual:s=!1,formatInput:n=!0,hidePopover:r=!1,isDragging:o=this.isDragging,rangePriority:a=It.BOTH}={}){t=this.normalizeConfig(t);let l=this.normalizeValue(e,t,i,a);!l&&this.isRequired&&(l=this.value_),l=this.adjustTimeForValue(l,t);const c=this.valueIsDisabled(l);if(c){if(o)return;l=this.value_,r=!1}const h=o?"dragValue":"value_";let u=!this.valuesAreEqual(this[h],l);if(!c&&!u&&s&&(l=null,u=!0),u){this[h]=l,o||(this.dragValue=null);const d=this.denormalizeValue(l),f=this.isDragging?"drag":"update:modelValue";this.watchValue=!1,this.$emit(f,d),this.$nextTick(()=>this.watchValue=!0)}r&&this.hidePopover(),n&&this.formatInput()},hasValue(e){return this.isRange?jt(e)&&!!e.start&&!!e.end:!!e},normalizeValue(e,t,i,s){if(!this.hasValue(e))return null;if(this.isRange){const n={},r=e.start>e.end?e.end:e.start;n.start=this.normalizeDate(r,W(I({},t[0]),{fillDate:this.value_&&this.value_.start||t[0].fillDate,patch:i}));const o=e.start>e.end?e.start:e.end;return n.end=this.normalizeDate(o,W(I({},t[1]),{fillDate:this.value_&&this.value_.end||t[1].fillDate,patch:i})),this.sortRange(n,s)}return this.normalizeDate(e,W(I({},t[0]),{fillDate:this.value_||t[0].fillDate,patch:i}))},adjustTimeForValue(e,t){return this.hasValue(e)?this.isRange?{start:this.$locale.adjustTimeForDate(e.start,t[0]),end:this.$locale.adjustTimeForDate(e.end,t[1])}:this.$locale.adjustTimeForDate(e,t[0]):null},sortRange(e,t=It.NONE){const{start:i,end:s}=e;if(i>s)switch(t){case It.START:return{start:i,end:i};case It.END:return{start:s,end:s};case It.BOTH:return{start:s,end:i}}return{start:i,end:s}},denormalizeValue(e,t=this.modelConfig_){return this.isRange?this.hasValue(e)?{start:this.$locale.denormalizeDate(e.start,t[0]),end:this.$locale.denormalizeDate(e.end,t[1])}:null:this.$locale.denormalizeDate(e,t[0])},valuesAreEqual(e,t){if(this.isRange){const i=this.hasValue(e),s=this.hasValue(t);return!i&&!s?!0:i!==s?!1:Yn(e.start,t.start)&&Yn(e.end,t.end)}return Yn(e,t)},valueIsDisabled(e){return this.hasValue(e)&&this.disabledAttribute&&this.disabledAttribute.intersectsDate(e)},formatInput(){this.$nextTick(()=>{const e=this.normalizeConfig({type:"string",mask:this.inputMask}),t=this.denormalizeValue(this.dragValue||this.value_,e);this.isRange?this.inputValues=[t&&t.start,t&&t.end]:this.inputValues=[t,""]})},showPopover(e={}){cr(W(I(I({ref:this.$el},this.popover_),e),{isInteractive:!0,id:this.datePickerPopoverId}))},hidePopover(e={}){hr(W(I(I({hideDelay:10},this.showPopover_),e),{id:this.datePickerPopoverId}))},togglePopover(e){_h(W(I(I({ref:this.$el},this.popover_),e),{isInteractive:!0,id:this.datePickerPopoverId}))},adjustPageRange(e){this.$nextTick(()=>{const t=this.$refs.calendar,i=this.getPageForValue(e),s=e?1:-1;i&&t&&!uh(i,t.firstPage,t.lastPage)&&t.move(i,{position:s,transition:"fade"})})},getPageForValue(e){return this.hasValue(this.value_)?this.pageForDate(this.isRange?this.value_[e?"start":"end"]:this.value_):null},move(e,t){return this.$refs.calendar?this.$refs.calendar.move(e,t):Promise.reject(new Error("Navigation disabled while calendar is not yet displayed"))},focusDate(e,t){return this.$refs.calendar?this.$refs.calendar.focusDate(e,t):Promise.reject(new Error("Navigation disabled while calendar is not yet displayed"))}}},MS=_("p",{style:{"margin-bottom":"0.5rem"}},"Select a date range:",-1),$S={style:{display:"flex","justify-content":"space-between","align-items":"baseline"}},kS=_("p",{style:{"margin-top":"1rem"}},"Select minimum fire size:",-1),PS=at({__name:"ActiveFires",setup(e){const t=_e(),i=as(),s=X({start:new Date(new Date().setDate(new Date().getDate()-7)),end:new Date});let n=X(30);const r=()=>{t.toggleActive()},o=()=>{t.setDates(s.value.start,s.value.end)},a=()=>{t.setArea(n.value)};return Ae(()=>{s.value={start:t.getFiresFrom,end:t.getFiresTo},n.value=t.getFiresArea}),(l,c)=>{const h=C("v-switch"),u=C("v-slider");return T(),N(Dt,null,[y(h,{label:"Show active fires on map","model-value":$(t).isActive,onClick:c[0]||(c[0]=d=>r())},null,8,["model-value"]),MS,y($(DS),{"is-dark":$(i).isDark,"is-expanded":"","is-range":"",modelValue:$(s),"onUpdate:modelValue":c[1]||(c[1]=d=>po(s)?s.value=d:null),onClick:c[2]||(c[2]=Gs(d=>o(),["stop"]))},null,8,["is-dark","modelValue"]),_("div",$S,[kS,_("p",null,E($(n).toString())+" ht",1)]),y(u,{modelValue:$(n),"onUpdate:modelValue":c[3]||(c[3]=d=>po(n)?n.value=d:n=d),min:0,max:500,step:1,color:$(i).isDark?"white":"black","thumb-size":0,onClick:c[4]||(c[4]=Gs(d=>a(),["stop"]))},null,8,["modelValue","color"])],64)}}}),SS=e=>(rs("data-v-80736363"),e=e(),os(),e),OS={class:"overlay-content"},TS=SS(()=>_("br",null,null,-1)),CS=at({__name:"OverlayItem",props:{title:null,position:null,style:null},setup(e){const t=e;return X(t.style||{background:"#efefef",boxShadow:"0 5px 10px rgb(2 2 2 / 20%)",padding:"10px 20px",fontSize:"16px"}),(i,s)=>{const n=C("ol-overlay");return T(),B(n,{position:t.position},{default:M(r=>[_("div",OS,[z(E(t.title),1),TS,z(" Position: "+E(r.position),1)])]),_:1},8,["position"])}}});const AS=Ge(CS,[["__scopeId","data-v-80736363"]]),IS=at({__name:"Tile",props:{url:null,type:null,time:null,layers:null},setup(e){const t=e;return(i,s)=>{const n=C("ol-source-image-wms"),r=C("ol-image-layer"),o=C("ol-source-xyz"),a=C("ol-tile-layer");return T(),N(Dt,null,[y(r,{zIndex:1001},{default:M(()=>[t.type==="wms"?(T(),B(n,{key:0,url:t.url,time:t.time,layers:t.layers},null,8,["url","time","layers"])):nt("",!0)]),_:1}),t.type==="zyx"?(T(),B(a,{key:0},{default:M(()=>[y(o,{url:t.url},null,8,["url"])]),_:1})):nt("",!0)],64)}}}),ES="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",LS=at({__name:"Marker",props:{position:null,id:null},setup(e){const t=e;return(i,s)=>{const n=C("ol-geom-point"),r=C("ol-style-icon"),o=C("ol-style-text"),a=C("ol-style"),l=C("ol-feature"),c=C("ol-source-vector"),h=C("ol-vector-layer");return T(),B(h,null,{default:M(()=>[y(c,null,{default:M(()=>[y(l,null,{default:M(()=>[y(n,{coordinates:t.position},null,8,["coordinates"]),y(a,null,{default:M(()=>[y(r,{src:$(ES),scale:1},{default:M(()=>[z("test")]),_:1},8,["src"]),y(o,{color:"white",text:t.id,scale:1.4},null,8,["text","scale"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),Kr=mn("map",{state:()=>({url:"",id:""}),getters:{getUrl:({url:e})=>e},actions:{async init(e){const{query:t}=await this.router.currentRoute.value,i=t.type;if(i){const s=e.find(n=>n.id===i);if(s){this.setType(s);return}}this.setType(e[0])},setType(e){this.url=e.url,this.id=e.id,this.pushOnQps()},async pushOnQps(){const{query:e}=await this.router.currentRoute.value;this.router.push({query:{...e,type:this.id}})}}}),FS=e=>(rs("data-v-594c9ba0"),e=e(),os(),e),YS={id:"panel"},RS={style:{display:"flex","align-items":"center","justify-content":"space-between"}},zS={style:{display:"flex","align-items":"center"}},NS=FS(()=>_("p",{style:{"margin-left":"1rem"}},"Settings and layers",-1)),HS=at({__name:"Panel",props:{data:null},setup(e){const t=e,i=as(),s=Zl(),n=xr(),r=Kr(),o=_e(),a=X((t.data.overlays||[]).map(p=>({...p,active:!1}))),l=X((t.data.tiles||[]).map(p=>({...p,active:!1}))),c=X((t.data.markers||[]).map(p=>({...p,active:!1}))),h=X((t.data.types||[]).map(p=>({...p,active:!1}))),u=X(""),d=p=>{r.setType(p),u.value=p.url;const g=s.currentRoute.value.query;s.push({query:{...g,type:p.id}})},f=p=>{const g=s.currentRoute.value.query,v=l.value.filter(b=>b.active).map(({id:b})=>b);v.includes(p)?v.splice(v.indexOf(p),1):v.push(p),s.push({query:{...g,tile:v}})},m=()=>{n.toggleActive()};return Ae(()=>{const p=s.currentRoute.value.query,{type:g,tile:v}=p;if(d(g&&h.value.find(b=>b.id===g)||h.value[0]),v){const b=Array.isArray(v)?v:[v];l.value=l.value.map(D=>({...D,active:b.includes(D.id)}))}}),(p,g)=>{const v=C("v-icon"),b=C("v-btn"),D=C("v-card"),x=C("v-expansion-panel-title"),w=C("v-radio"),P=C("v-radio-group"),k=C("v-expansion-panel-text"),S=C("v-expansion-panel"),A=C("v-switch"),Y=PS,L=C("v-expansion-panels");return T(),N("div",YS,[$(n).active?(T(),B(D,{key:0,class:"mx-auto rounded-t-lg rounded-b-0",color:$(i).primary},{title:M(()=>[_("div",RS,[_("div",zS,[y(v,{color:"#ada6a2",icon:"mdi-cog"}),NS]),y(b,{icon:"",border:"none",variant:"flat",color:"transparent",onClick:g[0]||(g[0]=O=>m())},{default:M(()=>[y(v,{icon:"mdi-close",size:"x-large"})]),_:1})])]),_:1},8,["color"])):nt("",!0),$(n).active?(T(),B(L,{key:1,class:"rounded-t-0",multiple:""},{default:M(()=>[h.value.length?(T(),B(S,{key:0,class:"rounded-t-0","bg-color":$(i).primary},{default:M(()=>[y(x,null,{default:M(()=>[z("Map type")]),_:1}),y(k,null,{default:M(()=>[y(P,{modelValue:u.value,"onUpdate:modelValue":g[1]||(g[1]=O=>u.value=O)},{default:M(()=>[(T(!0),N(Dt,null,Lt(h.value,O=>(T(),B(w,{key:O.title,label:O.title,value:O.url,onClick:F=>d(O)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["bg-color"])):nt("",!0),a.value.length?(T(),B(S,{key:1,"bg-color":$(i).primary},{default:M(()=>[y(x,null,{default:M(()=>[z("Overlays")]),_:1}),y(k,null,{default:M(()=>[(T(!0),N(Dt,null,Lt(a.value,O=>(T(),B(A,{label:`${O.title}`,modelValue:O.active,"onUpdate:modelValue":F=>O.active=F},null,8,["label","modelValue","onUpdate:modelValue"]))),256))]),_:1})]),_:1},8,["bg-color"])):nt("",!0),l.value.length?(T(),B(S,{key:2,"bg-color":$(i).primary},{default:M(()=>[y(x,null,{default:M(()=>[z("Layers")]),_:1}),y(k,null,{default:M(()=>[(T(!0),N(Dt,null,Lt(l.value,O=>(T(),B(A,{label:`${O.title}`,modelValue:O.active,"onUpdate:modelValue":F=>O.active=F,onClick:F=>f(O.id)},null,8,["label","modelValue","onUpdate:modelValue","onClick"]))),256))]),_:1})]),_:1},8,["bg-color"])):nt("",!0),c.value.length?(T(),B(S,{key:3,"bg-color":$(i).primary},{default:M(()=>[y(x,null,{default:M(()=>[z("Markeres")]),_:1}),y(k,null,{default:M(()=>[(T(!0),N(Dt,null,Lt(c.value,O=>(T(),B(A,{label:`${O.title}`,modelValue:O.active,"onUpdate:modelValue":F=>O.active=F},null,8,["label","modelValue","onUpdate:modelValue"]))),256))]),_:1})]),_:1},8,["bg-color"])):nt("",!0),e.data.activeFireSelector?(T(),B(S,{key:4,"bg-color":$(i).primary},{default:M(()=>[y(x,null,{default:M(()=>[z("Active fires")]),_:1}),y(k,null,{default:M(()=>[y(Y)]),_:1})]),_:1},8,["bg-color"])):nt("",!0)]),_:1})):nt("",!0),(T(!0),N(Dt,null,Lt(a.value,(O,F)=>(T(),N("div",null,[O.active?(T(),B(AS,{key:F.toString(),title:O.title,position:O.position},null,8,["title","position"])):nt("",!0)]))),256)),(T(!0),N(Dt,null,Lt(l.value,(O,F)=>(T(),N("div",null,[O.active?(T(),B(IS,{key:F.toString(),url:O.url,time:O.time,layers:O.layers,type:O.type},null,8,["url","time","layers","type"])):nt("",!0)]))),256)),(T(!0),N(Dt,null,Lt($(o).list,(O,F)=>(T(),N("div",null,[$(o).active?(T(),B(LS,{key:O.id.toString(),position:O.effis_data.centroid.coordinates,id:O.id.toString()},null,8,["position","id"])):nt("",!0)]))),256))])}}});const BS=Ge(HS,[["__scopeId","data-v-594c9ba0"]]),jS={key:0,style:{width:"100%",height:"100%"}},WS=_("div",{class:"text-h6",style:{display:"flex","align-items":"center","justify-content":"center",height:"100%"}}," Error loading data ",-1),VS=_("div",{class:"text-h6",style:{display:"flex","align-items":"center","justify-content":"center",height:"100%"}}," Loading data... ",-1),bh=at({__name:"PerimeterChart",props:{center:null,perimeter:null,loading:{type:Boolean},error:{type:Boolean}},setup(e){const t=e,i=Kr(),s=X("EPSG:4326"),n=X(13),r=X(0),o=X(5);return(a,l)=>{const c=C("ol-view"),h=C("ol-source-osm"),u=C("ol-tile-layer"),d=C("ol-geom-multi-polygon"),f=C("ol-style-stroke"),m=C("ol-style"),p=C("ol-feature"),g=C("ol-source-vector"),v=C("ol-vector-layer"),b=C("ol-map"),D=C("v-card-item"),x=C("v-card");return!e.loading&&!e.error?(T(),N("div",jS,[y(b,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"100%"}},{default:M(()=>[y(c,{ref:"view",center:t.center,rotation:$(r),zoom:$(n),projection:$(s)},null,8,["center","rotation","zoom","projection"]),y(u,null,{default:M(()=>[y(h,{url:$(i).getUrl},null,8,["url"])]),_:1}),y(v,null,{default:M(()=>[y(g,null,{default:M(()=>[y(p,null,{default:M(()=>[y(d,{coordinates:t.perimeter},null,8,["coordinates"]),y(m,null,{default:M(()=>[y(f,{color:"red",width:$(o)},null,8,["width"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):e.error?(T(),B(x,{key:1,color:"error",class:"w-full h-full mx-auto","max-width":"344",style:{width:"100%",height:"100%"}},{default:M(()=>[y(D,{style:{width:"100%",height:"100%"}},{default:M(()=>[WS]),_:1})]),_:1})):e.loading?(T(),B(x,{key:2,loading:!0,color:"grey lighten-4",class:"w-full h-full mx-auto","max-width":"344",style:{width:"100%",height:"100%"}},{default:M(()=>[y(D,{style:{width:"100%",height:"100%"}},{default:M(()=>[VS]),_:1})]),_:1})):nt("",!0)}}});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function fs(e){return e+.5|0}const $e=(e,t,i)=>Math.max(Math.min(e,i),t);function Ai(e){return $e(fs(e*2.55),0,255)}function Te(e){return $e(fs(e*255),0,255)}function ge(e){return $e(fs(e/2.55)/100,0,1)}function Ha(e){return $e(fs(e*100),0,100)}const zt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ur=[..."0123456789ABCDEF"],US=e=>ur[e&15],KS=e=>ur[(e&240)>>4]+ur[e&15],Ms=e=>(e&240)>>4===(e&15),qS=e=>Ms(e.r)&&Ms(e.g)&&Ms(e.b)&&Ms(e.a);function GS(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&zt[e[1]]*17,g:255&zt[e[2]]*17,b:255&zt[e[3]]*17,a:t===5?zt[e[4]]*17:255}:(t===7||t===9)&&(i={r:zt[e[1]]<<4|zt[e[2]],g:zt[e[3]]<<4|zt[e[4]],b:zt[e[5]]<<4|zt[e[6]],a:t===9?zt[e[7]]<<4|zt[e[8]]:255})),i}const XS=(e,t)=>e<255?t(e):"";function ZS(e){var t=qS(e)?US:KS;return e?"#"+t(e.r)+t(e.g)+t(e.b)+XS(e.a,t):void 0}const QS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yh(e,t,i){const s=t*Math.min(i,1-i),n=(r,o=(r+e/30)%12)=>i-s*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function JS(e,t,i){const s=(n,r=(n+e/60)%6)=>i-i*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function t2(e,t,i){const s=yh(e,1,.5);let n;for(t+i>1&&(n=1/(t+i),t*=n,i*=n),n=0;n<3;n++)s[n]*=1-t-i,s[n]+=t;return s}function e2(e,t,i,s,n){return e===n?(t-i)/s+(t<i?6:0):t===n?(i-e)/s+2:(e-t)/s+4}function qr(e){const i=e.r/255,s=e.g/255,n=e.b/255,r=Math.max(i,s,n),o=Math.min(i,s,n),a=(r+o)/2;let l,c,h;return r!==o&&(h=r-o,c=a>.5?h/(2-r-o):h/(r+o),l=e2(i,s,n,h,r),l=l*60+.5),[l|0,c||0,a]}function Gr(e,t,i,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,s)).map(Te)}function Xr(e,t,i){return Gr(yh,e,t,i)}function i2(e,t,i){return Gr(t2,e,t,i)}function s2(e,t,i){return Gr(JS,e,t,i)}function xh(e){return(e%360+360)%360}function n2(e){const t=QS.exec(e);let i=255,s;if(!t)return;t[5]!==s&&(i=t[6]?Ai(+t[5]):Te(+t[5]));const n=xh(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=i2(n,r,o):t[1]==="hsv"?s=s2(n,r,o):s=Xr(n,r,o),{r:s[0],g:s[1],b:s[2],a:i}}function r2(e,t){var i=qr(e);i[0]=xh(i[0]+t),i=Xr(i),e.r=i[0],e.g=i[1],e.b=i[2]}function o2(e){if(!e)return;const t=qr(e),i=t[0],s=Ha(t[1]),n=Ha(t[2]);return e.a<255?`hsla(${i}, ${s}%, ${n}%, ${ge(e.a)})`:`hsl(${i}, ${s}%, ${n}%)`}const Ba={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ja={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function a2(){const e={},t=Object.keys(ja),i=Object.keys(Ba);let s,n,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],n=0;n<i.length;n++)r=i[n],a=a.replace(r,Ba[r]);r=parseInt(ja[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let $s;function l2(e){$s||($s=a2(),$s.transparent=[0,0,0,0]);const t=$s[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const c2=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function h2(e){const t=c2.exec(e);let i=255,s,n,r;if(!!t){if(t[7]!==s){const o=+t[7];i=t[8]?Ai(o):$e(o*255,0,255)}return s=+t[1],n=+t[3],r=+t[5],s=255&(t[2]?Ai(s):$e(s,0,255)),n=255&(t[4]?Ai(n):$e(n,0,255)),r=255&(t[6]?Ai(r):$e(r,0,255)),{r:s,g:n,b:r,a:i}}}function u2(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ge(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Bn=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ti=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function d2(e,t,i){const s=ti(ge(e.r)),n=ti(ge(e.g)),r=ti(ge(e.b));return{r:Te(Bn(s+i*(ti(ge(t.r))-s))),g:Te(Bn(n+i*(ti(ge(t.g))-n))),b:Te(Bn(r+i*(ti(ge(t.b))-r))),a:e.a+i*(t.a-e.a)}}function ks(e,t,i){if(e){let s=qr(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*i,t===0?360:1)),s=Xr(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function wh(e,t){return e&&Object.assign(t||{},e)}function Wa(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Te(e[3]))):(t=wh(e,{r:0,g:0,b:0,a:1}),t.a=Te(t.a)),t}function f2(e){return e.charAt(0)==="r"?h2(e):n2(e)}class Ji{constructor(t){if(t instanceof Ji)return t;const i=typeof t;let s;i==="object"?s=Wa(t):i==="string"&&(s=GS(t)||l2(t)||f2(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=wh(this._rgb);return t&&(t.a=ge(t.a)),t}set rgb(t){this._rgb=Wa(t)}rgbString(){return this._valid?u2(this._rgb):void 0}hexString(){return this._valid?ZS(this._rgb):void 0}hslString(){return this._valid?o2(this._rgb):void 0}mix(t,i){if(t){const s=this.rgb,n=t.rgb;let r;const o=i===r?.5:i,a=2*o-1,l=s.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*n.r+.5,s.g=255&c*s.g+r*n.g+.5,s.b=255&c*s.b+r*n.b+.5,s.a=o*s.a+(1-o)*n.a,this.rgb=s}return this}interpolate(t,i){return t&&(this._rgb=d2(this._rgb,t._rgb,i)),this}clone(){return new Ji(this.rgb)}alpha(t){return this._rgb.a=Te(t),this}clearer(t){const i=this._rgb;return i.a*=1-t,this}greyscale(){const t=this._rgb,i=fs(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){const i=this._rgb;return i.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ks(this._rgb,2,t),this}darken(t){return ks(this._rgb,2,-t),this}saturate(t){return ks(this._rgb,1,t),this}desaturate(t){return ks(this._rgb,1,-t),this}rotate(t){return r2(this._rgb,t),this}}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ue(){}const p2=(()=>{let e=0;return()=>e++})();function it(e){return e===null||typeof e>"u"}function rt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function K(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ft(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Et(e,t){return ft(e)?e:t}function j(e,t){return typeof e>"u"?t:e}const g2=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function tt(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function G(e,t,i,s){let n,r,o;if(rt(e))if(r=e.length,s)for(n=r-1;n>=0;n--)t.call(i,e[n],n);else for(n=0;n<r;n++)t.call(i,e[n],n);else if(K(e))for(o=Object.keys(e),r=o.length,n=0;n<r;n++)t.call(i,e[o[n]],o[n])}function rn(e,t){let i,s,n,r;if(!e||!t||e.length!==t.length)return!1;for(i=0,s=e.length;i<s;++i)if(n=e[i],r=t[i],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function on(e){if(rt(e))return e.map(on);if(K(e)){const t=Object.create(null),i=Object.keys(e),s=i.length;let n=0;for(;n<s;++n)t[i[n]]=on(e[i[n]]);return t}return e}function Dh(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function m2(e,t,i,s){if(!Dh(e))return;const n=t[e],r=i[e];K(n)&&K(r)?ts(n,r,s):t[e]=on(r)}function ts(e,t,i){const s=rt(t)?t:[t],n=s.length;if(!K(e))return e;i=i||{};const r=i.merger||m2;let o;for(let a=0;a<n;++a){if(o=s[a],!K(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)r(l[c],e,o,i)}return e}function Bi(e,t){return ts(e,t,{merger:v2})}function v2(e,t,i){if(!Dh(e))return;const s=t[e],n=i[e];K(s)&&K(n)?Bi(s,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=on(n))}const Va={"":e=>e,x:e=>e.x,y:e=>e.y};function _2(e){const t=e.split("."),i=[];let s="";for(const n of t)s+=n,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}function b2(e){const t=_2(e);return i=>{for(const s of t){if(s==="")break;i=i&&i[s]}return i}}function an(e,t){return(Va[t]||(Va[t]=b2(t)))(e)}function Zr(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Jt=e=>typeof e<"u",Ce=e=>typeof e=="function",Ua=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};function y2(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const dt=Math.PI,Wt=2*dt,x2=Wt+dt,ln=Number.POSITIVE_INFINITY,w2=dt/180,St=dt/2,Fe=dt/4,Ka=dt*2/3,ke=Math.log10,ai=Math.sign;function ji(e,t,i){return Math.abs(e-t)<i}function qa(e){const t=Math.round(e);e=ji(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(ke(e))),s=e/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function D2(e){const t=[],i=Math.sqrt(e);let s;for(s=1;s<i;s++)e%s===0&&(t.push(s),t.push(e/s));return i===(i|0)&&t.push(i),t.sort((n,r)=>n-r).pop(),t}function es(e){return!isNaN(parseFloat(e))&&isFinite(e)}function M2(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}function Mh(e,t,i){let s,n,r;for(s=0,n=e.length;s<n;s++)r=e[s][i],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Pe(e){return e*(dt/180)}function Qr(e){return e*(180/dt)}function Ga(e){if(!ft(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function $2(e,t){const i=t.x-e.x,s=t.y-e.y,n=Math.sqrt(i*i+s*s);let r=Math.atan2(s,i);return r<-.5*dt&&(r+=Wt),{angle:r,distance:n}}function dr(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function k2(e,t){return(e-t+x2)%Wt-dt}function Xt(e){return(e%Wt+Wt)%Wt}function $h(e,t,i,s){const n=Xt(e),r=Xt(t),o=Xt(i),a=Xt(r-n),l=Xt(o-n),c=Xt(n-r),h=Xt(n-o);return n===r||n===o||s&&r===o||a>l&&c<h}function Ht(e,t,i){return Math.max(t,Math.min(i,e))}function P2(e){return Ht(e,-32768,32767)}function Ii(e,t,i,s=1e-6){return e>=Math.min(t,i)-s&&e<=Math.max(t,i)+s}function Jr(e,t,i){i=i||(o=>e[o]<t);let s=e.length-1,n=0,r;for(;s-n>1;)r=n+s>>1,i(r)?n=r:s=r;return{lo:n,hi:s}}const je=(e,t,i,s)=>Jr(e,i,s?n=>{const r=e[n][t];return r<i||r===i&&e[n+1][t]===i}:n=>e[n][t]<i),S2=(e,t,i)=>Jr(e,i,s=>e[s][t]>=i);function O2(e,t,i){let s=0,n=e.length;for(;s<n&&e[s]<t;)s++;for(;n>s&&e[n-1]>i;)n--;return s>0||n<e.length?e.slice(s,n):e}const kh=["push","pop","shift","splice","unshift"];function T2(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),kh.forEach(i=>{const s="_onData"+Zr(i),n=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...r){const o=n.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function Xa(e,t){const i=e._chartjs;if(!i)return;const s=i.listeners,n=s.indexOf(t);n!==-1&&s.splice(n,1),!(s.length>0)&&(kh.forEach(r=>{delete e[r]}),delete e._chartjs)}function C2(e){const t=new Set;let i,s;for(i=0,s=e.length;i<s;++i)t.add(e[i]);return t.size===s?e:Array.from(t)}const Ph=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Sh(e,t){let i=[],s=!1;return function(...n){i=n,s||(s=!0,Ph.call(window,()=>{s=!1,e.apply(t,i)}))}}function A2(e,t){let i;return function(...s){return t?(clearTimeout(i),i=setTimeout(e,t,s)):e.apply(this,s),t}}const to=e=>e==="start"?"left":e==="end"?"right":"center",mt=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2,I2=(e,t,i,s)=>e===(s?"left":"right")?i:e==="center"?(t+i)/2:t;function E2(e,t,i){const s=t.length;let n=0,r=s;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:h,minDefined:u,maxDefined:d}=o.getUserBounds();u&&(n=Ht(Math.min(je(a,o.axis,c).lo,i?s:je(t,l,o.getPixelForValue(c)).lo),0,s-1)),d?r=Ht(Math.max(je(a,o.axis,h,!0).hi+1,i?0:je(t,l,o.getPixelForValue(h),!0).hi+1),n,s)-n:r=s-n}return{start:n,count:r}}function L2(e){const{xScale:t,yScale:i,_scaleRanges:s}=e,n={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!s)return e._scaleRanges=n,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),r}const Ps=e=>e===0||e===1,Za=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Wt/i)),Qa=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*Wt/i)+1,Wi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*St)+1,easeOutSine:e=>Math.sin(e*St),easeInOutSine:e=>-.5*(Math.cos(dt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ps(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ps(e)?e:Za(e,.075,.3),easeOutElastic:e=>Ps(e)?e:Qa(e,.075,.3),easeInOutElastic(e){return Ps(e)?e:e<.5?.5*Za(e*2,.1125,.45):.5+.5*Qa(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Wi.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Wi.easeInBounce(e*2)*.5:Wi.easeOutBounce(e*2-1)*.5+.5};function Oh(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ja(e){return Oh(e)?e:new Ji(e)}function jn(e){return Oh(e)?e:new Ji(e).saturate(.5).darken(.1).hexString()}const F2=["x","y","borderWidth","radius","tension"],Y2=["color","borderColor","backgroundColor"];function R2(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Y2},numbers:{type:"number",properties:F2}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function z2(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const tl=new Map;function N2(e,t){t=t||{};const i=e+JSON.stringify(t);let s=tl.get(i);return s||(s=new Intl.NumberFormat(e,t),tl.set(i,s)),s}function eo(e,t,i){return N2(t,i).format(e)}const Th={values(e){return rt(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";const s=this.chart.options.locale;let n,r=e;if(i.length>1){const c=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),r=H2(e,i)}const o=ke(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),eo(e,s,l)},logarithmic(e,t,i){if(e===0)return"0";const s=i[t].significand||e/Math.pow(10,Math.floor(ke(e)));return[1,2,3,5,10,15].includes(s)||t>.8*i.length?Th.numeric.call(this,e,t,i):""}};function H2(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var On={formatters:Th};function B2(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:On.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ke=Object.create(null),fr=Object.create(null);function Vi(e,t){if(!t)return e;const i=t.split(".");for(let s=0,n=i.length;s<n;++s){const r=i[s];e=e[r]||(e[r]=Object.create(null))}return e}function Wn(e,t,i){return typeof t=="string"?ts(Vi(e,t),i):ts(Vi(e,""),t)}class j2{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,n)=>jn(n.backgroundColor),this.hoverBorderColor=(s,n)=>jn(n.borderColor),this.hoverColor=(s,n)=>jn(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return Wn(this,t,i)}get(t){return Vi(this,t)}describe(t,i){return Wn(fr,t,i)}override(t,i){return Wn(Ke,t,i)}route(t,i,s,n){const r=Vi(this,t),o=Vi(this,s),a="_"+i;Object.defineProperties(r,{[a]:{value:r[i],writable:!0},[i]:{enumerable:!0,get(){const l=this[a],c=o[n];return K(l)?Object.assign({},c,l):j(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(i=>i(this))}}var ot=new j2({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[R2,z2,B2]);function W2(e){return!e||it(e.size)||it(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function cn(e,t,i,s,n){let r=t[n];return r||(r=t[n]=e.measureText(n).width,i.push(n)),r>s&&(s=r),s}function V2(e,t,i,s){s=s||{};let n=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(n=s.data={},r=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let o=0;const a=i.length;let l,c,h,u,d;for(l=0;l<a;l++)if(u=i[l],u!=null&&rt(u)!==!0)o=cn(e,n,r,o,u);else if(rt(u))for(c=0,h=u.length;c<h;c++)d=u[c],d!=null&&!rt(d)&&(o=cn(e,n,r,o,d));e.restore();const f=r.length/2;if(f>i.length){for(l=0;l<f;l++)delete n[r[l]];r.splice(0,f)}return o}function Ye(e,t,i){const s=e.currentDevicePixelRatio,n=i!==0?Math.max(i/2,.5):0;return Math.round((t-n)*s)/s+n}function el(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function pr(e,t,i,s){Ch(e,t,i,s,null)}function Ch(e,t,i,s,n){let r,o,a,l,c,h,u,d;const f=t.pointStyle,m=t.rotation,p=t.radius;let g=(m||0)*w2;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(i,s),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:n?e.ellipse(i,s,n/2,p,0,0,Wt):e.arc(i,s,p,0,Wt),e.closePath();break;case"triangle":h=n?n/2:p,e.moveTo(i+Math.sin(g)*h,s-Math.cos(g)*p),g+=Ka,e.lineTo(i+Math.sin(g)*h,s-Math.cos(g)*p),g+=Ka,e.lineTo(i+Math.sin(g)*h,s-Math.cos(g)*p),e.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(g+Fe)*l,u=Math.cos(g+Fe)*(n?n/2-c:l),a=Math.sin(g+Fe)*l,d=Math.sin(g+Fe)*(n?n/2-c:l),e.arc(i-u,s-a,c,g-dt,g-St),e.arc(i+d,s-o,c,g-St,g),e.arc(i+u,s+a,c,g,g+St),e.arc(i-d,s+o,c,g+St,g+dt),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,h=n?n/2:l,e.rect(i-h,s-l,2*h,2*l);break}g+=Fe;case"rectRot":u=Math.cos(g)*(n?n/2:p),o=Math.cos(g)*p,a=Math.sin(g)*p,d=Math.sin(g)*(n?n/2:p),e.moveTo(i-u,s-a),e.lineTo(i+d,s-o),e.lineTo(i+u,s+a),e.lineTo(i-d,s+o),e.closePath();break;case"crossRot":g+=Fe;case"cross":u=Math.cos(g)*(n?n/2:p),o=Math.cos(g)*p,a=Math.sin(g)*p,d=Math.sin(g)*(n?n/2:p),e.moveTo(i-u,s-a),e.lineTo(i+u,s+a),e.moveTo(i+d,s-o),e.lineTo(i-d,s+o);break;case"star":u=Math.cos(g)*(n?n/2:p),o=Math.cos(g)*p,a=Math.sin(g)*p,d=Math.sin(g)*(n?n/2:p),e.moveTo(i-u,s-a),e.lineTo(i+u,s+a),e.moveTo(i+d,s-o),e.lineTo(i-d,s+o),g+=Fe,u=Math.cos(g)*(n?n/2:p),o=Math.cos(g)*p,a=Math.sin(g)*p,d=Math.sin(g)*(n?n/2:p),e.moveTo(i-u,s-a),e.lineTo(i+u,s+a),e.moveTo(i+d,s-o),e.lineTo(i-d,s+o);break;case"line":o=n?n/2:Math.cos(g)*p,a=Math.sin(g)*p,e.moveTo(i-o,s-a),e.lineTo(i+o,s+a);break;case"dash":e.moveTo(i,s),e.lineTo(i+Math.cos(g)*(n?n/2:p),s+Math.sin(g)*p);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function is(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function io(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function so(e){e.restore()}function U2(e,t,i,s,n){if(!t)return e.lineTo(i.x,i.y);if(n==="middle"){const r=(t.x+i.x)/2;e.lineTo(r,t.y),e.lineTo(r,i.y)}else n==="after"!=!!s?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function K2(e,t,i,s){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function qe(e,t,i,s,n,r={}){const o=rt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=n.string,q2(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&X2(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),it(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,i,s,r.maxWidth)),e.fillText(c,i,s,r.maxWidth),G2(e,i,s,c,r),s+=n.lineHeight;e.restore()}function q2(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),it(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function G2(e,t,i,s,n){if(n.strikethrough||n.underline){const r=e.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=i-r.actualBoundingBoxAscent,c=i+r.actualBoundingBoxDescent,h=n.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(o,h),e.lineTo(a,h),e.stroke()}}function X2(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function hn(e,t){const{x:i,y:s,w:n,h:r,radius:o}=t;e.arc(i+o.topLeft,s+o.topLeft,o.topLeft,-St,dt,!0),e.lineTo(i,s+r-o.bottomLeft),e.arc(i+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,dt,St,!0),e.lineTo(i+n-o.bottomRight,s+r),e.arc(i+n-o.bottomRight,s+r-o.bottomRight,o.bottomRight,St,0,!0),e.lineTo(i+n,s+o.topRight),e.arc(i+n-o.topRight,s+o.topRight,o.topRight,0,-St,!0),e.lineTo(i+o.topLeft,s)}const Z2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Q2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function J2(e,t){const i=(""+e).match(Z2);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}const tO=e=>+e||0;function Ah(e,t){const i={},s=K(t),n=s?Object.keys(t):t,r=K(e)?s?o=>j(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of n)i[o]=tO(r(o));return i}function eO(e){return Ah(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ii(e){return Ah(e,["topLeft","topRight","bottomLeft","bottomRight"])}function vt(e){const t=eO(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ut(e,t){e=e||{},t=t||ot.font;let i=j(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let s=j(e.style,t.style);s&&!(""+s).match(Q2)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const n={family:j(e.family,t.family),lineHeight:J2(j(e.lineHeight,t.lineHeight),i),size:i,style:s,weight:j(e.weight,t.weight),string:""};return n.string=W2(n),n}function Ss(e,t,i,s){let n=!0,r,o,a;for(r=0,o=e.length;r<o;++r)if(a=e[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),n=!1),i!==void 0&&rt(a)&&(a=a[i%a.length],n=!1),a!==void 0))return s&&!n&&(s.cacheable=!1),a}function iO(e,t,i){const{min:s,max:n}=e,r=g2(t,(n-s)/2),o=(a,l)=>i&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(n,r)}}function Ee(e,t){return Object.assign(Object.create(e),t)}function no(e,t=[""],i=e,s,n=()=>e[0]){Jt(s)||(s=Fh("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:n,override:o=>no([o,...e],t,i,s)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete o._keys,delete e[0][a],!0},get(o,a){return Eh(o,a,()=>hO(a,t,e,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,a){return sl(o).includes(a)},ownKeys(o){return sl(o)},set(o,a,l){const c=o._storage||(o._storage=n());return o[a]=c[a]=l,delete o._keys,!0}})}function li(e,t,i,s){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:Ih(e,s),setContext:r=>li(e,r,i,s),override:r=>li(e.override(r),t,i,s)};return new Proxy(n,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return Eh(r,o,()=>nO(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function Ih(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:s=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:i,indexable:s,isScriptable:Ce(i)?i:()=>i,isIndexable:Ce(s)?s:()=>s}}const sO=(e,t)=>e?e+Zr(t):t,ro=(e,t)=>K(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Eh(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const s=i();return e[t]=s,s}function nO(e,t,i){const{_proxy:s,_context:n,_subProxy:r,_descriptors:o}=e;let a=s[t];return Ce(a)&&o.isScriptable(t)&&(a=rO(t,a,e,i)),rt(a)&&a.length&&(a=oO(t,a,e,o.isIndexable)),ro(t,a)&&(a=li(a,n,r&&r[t],o)),a}function rO(e,t,i,s){const{_proxy:n,_context:r,_subProxy:o,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(r,o||s),a.delete(e),ro(e,t)&&(t=oo(n._scopes,n,e,t)),t}function oO(e,t,i,s){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=i;if(Jt(r.index)&&s(e))t=t[r.index%t.length];else if(K(t[0])){const l=t,c=n._scopes.filter(h=>h!==l);t=[];for(const h of l){const u=oo(c,n,e,h);t.push(li(u,r,o&&o[e],a))}}return t}function Lh(e,t,i){return Ce(e)?e(t,i):e}const aO=(e,t)=>e===!0?t:typeof e=="string"?an(t,e):void 0;function lO(e,t,i,s,n){for(const r of t){const o=aO(i,r);if(o){e.add(o);const a=Lh(o._fallback,i,n);if(Jt(a)&&a!==i&&a!==s)return a}else if(o===!1&&Jt(s)&&i!==s)return null}return!1}function oo(e,t,i,s){const n=t._rootScopes,r=Lh(t._fallback,i,s),o=[...e,...n],a=new Set;a.add(s);let l=il(a,o,i,r||i,s);return l===null||Jt(r)&&r!==i&&(l=il(a,o,r,l,s),l===null)?!1:no(Array.from(a),[""],n,r,()=>cO(t,i,s))}function il(e,t,i,s,n){for(;i;)i=lO(e,t,i,s,n);return i}function cO(e,t,i){const s=e._getTarget();t in s||(s[t]={});const n=s[t];return rt(n)&&K(i)?i:n||{}}function hO(e,t,i,s){let n;for(const r of t)if(n=Fh(sO(r,e),i),Jt(n))return ro(e,n)?oo(i,s,e,n):n}function Fh(e,t){for(const i of t){if(!i)continue;const s=i[e];if(Jt(s))return s}}function sl(e){let t=e._keys;return t||(t=e._keys=uO(e._scopes)),t}function uO(e){const t=new Set;for(const i of e)for(const s of Object.keys(i).filter(n=>!n.startsWith("_")))t.add(s);return Array.from(t)}const dO=Number.EPSILON||1e-14,ci=(e,t)=>t<e.length&&!e[t].skip&&e[t],Yh=e=>e==="x"?"y":"x";function fO(e,t,i,s){const n=e.skip?t:e,r=t,o=i.skip?t:i,a=dr(r,n),l=dr(o,r);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const u=s*c,d=s*h;return{previous:{x:r.x-u*(o.x-n.x),y:r.y-u*(o.y-n.y)},next:{x:r.x+d*(o.x-n.x),y:r.y+d*(o.y-n.y)}}}function pO(e,t,i){const s=e.length;let n,r,o,a,l,c=ci(e,0);for(let h=0;h<s-1;++h)if(l=c,c=ci(e,h+1),!(!l||!c)){if(ji(t[h],0,dO)){i[h]=i[h+1]=0;continue}n=i[h]/t[h],r=i[h+1]/t[h],a=Math.pow(n,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),i[h]=n*o*t[h],i[h+1]=r*o*t[h])}}function gO(e,t,i="x"){const s=Yh(i),n=e.length;let r,o,a,l=ci(e,0);for(let c=0;c<n;++c){if(o=a,a=l,l=ci(e,c+1),!a)continue;const h=a[i],u=a[s];o&&(r=(h-o[i])/3,a[`cp1${i}`]=h-r,a[`cp1${s}`]=u-r*t[c]),l&&(r=(l[i]-h)/3,a[`cp2${i}`]=h+r,a[`cp2${s}`]=u+r*t[c])}}function mO(e,t="x"){const i=Yh(t),s=e.length,n=Array(s).fill(0),r=Array(s);let o,a,l,c=ci(e,0);for(o=0;o<s;++o)if(a=l,l=c,c=ci(e,o+1),!!l){if(c){const h=c[t]-l[t];n[o]=h!==0?(c[i]-l[i])/h:0}r[o]=a?c?ai(n[o-1])!==ai(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}pO(e,n,r),gO(e,r,t)}function Os(e,t,i){return Math.max(Math.min(e,i),t)}function vO(e,t){let i,s,n,r,o,a=is(e[0],t);for(i=0,s=e.length;i<s;++i)o=r,r=a,a=i<s-1&&is(e[i+1],t),r&&(n=e[i],o&&(n.cp1x=Os(n.cp1x,t.left,t.right),n.cp1y=Os(n.cp1y,t.top,t.bottom)),a&&(n.cp2x=Os(n.cp2x,t.left,t.right),n.cp2y=Os(n.cp2y,t.top,t.bottom)))}function _O(e,t,i,s,n){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")mO(e,n);else{let c=s?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=fO(c,a,e[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&vO(e,i)}function Rh(){return typeof window<"u"&&typeof document<"u"}function ao(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function un(e,t,i){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[i])):s=e,s}const Tn=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function bO(e,t){return Tn(e).getPropertyValue(t)}const yO=["top","right","bottom","left"];function Ve(e,t,i){const s={};i=i?"-"+i:"";for(let n=0;n<4;n++){const r=yO[n];s[r]=parseFloat(e[t+"-"+r+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const xO=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function wO(e,t){const i=e.touches,s=i&&i.length?i[0]:e,{offsetX:n,offsetY:r}=s;let o=!1,a,l;if(xO(n,r,e.target))a=n,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function He(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:s}=t,n=Tn(i),r=n.boxSizing==="border-box",o=Ve(n,"padding"),a=Ve(n,"border","width"),{x:l,y:c,box:h}=wO(e,i),u=o.left+(h&&a.left),d=o.top+(h&&a.top);let{width:f,height:m}=t;return r&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-u)/f*i.width/s),y:Math.round((c-d)/m*i.height/s)}}function DO(e,t,i){let s,n;if(t===void 0||i===void 0){const r=ao(e);if(!r)t=e.clientWidth,i=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Tn(r),l=Ve(a,"border","width"),c=Ve(a,"padding");t=o.width-c.width-l.width,i=o.height-c.height-l.height,s=un(a.maxWidth,r,"clientWidth"),n=un(a.maxHeight,r,"clientHeight")}}return{width:t,height:i,maxWidth:s||ln,maxHeight:n||ln}}const Ts=e=>Math.round(e*10)/10;function MO(e,t,i,s){const n=Tn(e),r=Ve(n,"margin"),o=un(n.maxWidth,e,"clientWidth")||ln,a=un(n.maxHeight,e,"clientHeight")||ln,l=DO(e,t,i);let{width:c,height:h}=l;if(n.boxSizing==="content-box"){const d=Ve(n,"border","width"),f=Ve(n,"padding");c-=f.width+d.width,h-=f.height+d.height}return c=Math.max(0,c-r.width),h=Math.max(0,s?c/s:h-r.height),c=Ts(Math.min(c,o,l.maxWidth)),h=Ts(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Ts(c/2)),(t!==void 0||i!==void 0)&&s&&l.height&&h>l.height&&(h=l.height,c=Ts(Math.floor(h*s))),{width:c,height:h}}function nl(e,t,i){const s=t||1,n=Math.floor(e.height*s),r=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==n||o.width!==r?(e.currentDevicePixelRatio=s,o.height=n,o.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const $O=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function rl(e,t){const i=bO(e,t),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Be(e,t,i,s){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function kO(e,t,i,s){return{x:e.x+i*(t.x-e.x),y:s==="middle"?i<.5?e.y:t.y:s==="after"?i<1?e.y:t.y:i>0?t.y:e.y}}function PO(e,t,i,s){const n={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Be(e,n,i),a=Be(n,r,i),l=Be(r,t,i),c=Be(o,a,i),h=Be(a,l,i);return Be(c,h,i)}const SO=function(e,t){return{x(i){return e+e+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,s){return i-s},leftForLtr(i,s){return i-s}}},OO=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function si(e,t,i){return e?SO(t,i):OO()}function zh(e,t){let i,s;(t==="ltr"||t==="rtl")&&(i=e.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=s)}function Nh(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Hh(e){return e==="angle"?{between:$h,compare:k2,normalize:Xt}:{between:Ii,compare:(t,i)=>t-i,normalize:t=>t}}function ol({start:e,end:t,count:i,loop:s,style:n}){return{start:e%i,end:t%i,loop:s&&(t-e+1)%i===0,style:n}}function TO(e,t,i){const{property:s,start:n,end:r}=i,{between:o,normalize:a}=Hh(s),l=t.length;let{start:c,end:h,loop:u}=e,d,f;if(u){for(c+=l,h+=l,d=0,f=l;d<f&&o(a(t[c%l][s]),n,r);++d)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:e.style}}function CO(e,t,i){if(!i)return[e];const{property:s,start:n,end:r}=i,o=t.length,{compare:a,between:l,normalize:c}=Hh(s),{start:h,end:u,loop:d,style:f}=TO(e,t,i),m=[];let p=!1,g=null,v,b,D;const x=()=>l(n,D,v)&&a(n,D)!==0,w=()=>a(r,v)===0||l(r,D,v),P=()=>p||x(),k=()=>!p||w();for(let S=h,A=h;S<=u;++S)b=t[S%o],!b.skip&&(v=c(b[s]),v!==D&&(p=l(v,n,r),g===null&&P()&&(g=a(v,n)===0?S:A),g!==null&&k()&&(m.push(ol({start:g,end:S,loop:d,count:o,style:f})),g=null),A=S,D=v));return g!==null&&m.push(ol({start:g,end:u,loop:d,count:o,style:f})),m}function AO(e,t){const i=[],s=e.segments;for(let n=0;n<s.length;n++){const r=CO(s[n],e.points,t);r.length&&i.push(...r)}return i}function IO(e,t,i,s){let n=0,r=t-1;if(i&&!s)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,i&&(r+=n);r>n&&e[r%t].skip;)r--;return r%=t,{start:n,end:r}}function EO(e,t,i,s){const n=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=i;++l){const c=e[l%n];c.skip||c.stop?a.skip||(s=!1,r.push({start:t%n,end:(l-1)%n,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%n,end:o%n,loop:s}),r}function LO(e,t){const i=e.points,s=e.options.spanGaps,n=i.length;if(!n)return[];const r=!!e._loop,{start:o,end:a}=IO(i,n,r,s);if(s===!0)return al(e,[{start:o,end:a,loop:r}],i,t);const l=a<o?a+n:a,c=!!e._fullLoop&&o===0&&a===n-1;return al(e,EO(i,o,l,c),i,t)}function al(e,t,i,s){return!s||!s.setContext||!i?t:FO(e,t,i,s)}function FO(e,t,i,s){const n=e._chart.getContext(),r=ll(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=i.length,c=[];let h=r,u=t[0].start,d=u;function f(m,p,g,v){const b=a?-1:1;if(m!==p){for(m+=l;i[m%l].skip;)m-=b;for(;i[p%l].skip;)p+=b;m%l!==p%l&&(c.push({start:m%l,end:p%l,loop:g,style:v}),h=v,u=p%l)}}for(const m of t){u=a?u:m.start;let p=i[u%l],g;for(d=u+1;d<=m.end;d++){const v=i[d%l];g=ll(s.setContext(Ee(n,{type:"segment",p0:p,p1:v,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),YO(g,h)&&f(u,d-1,m.loop,h),p=v,h=g}u<d-1&&f(u,d-1,m.loop,h)}return c}function ll(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function YO(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}/*!
 * Chart.js v4.2.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class RO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,s,n){const r=i.listeners[n],o=i.duration;r.forEach(a=>a({chart:t,initial:i.initial,numSteps:o,currentStep:Math.min(s-i.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ph.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((s,n)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,s,t,"progress")),r.length||(s.running=!1,this._notify(n,s,t,"complete"),s.initial=!1),i+=r.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){const i=this._charts;let s=i.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,s)),s}listen(t,i,s){this._getAnims(t).listeners[i].push(s)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);!i||(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((s,n)=>Math.max(s,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const s=i.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var de=new RO;const cl="transparent",zO={boolean(e,t,i){return i>.5?t:e},color(e,t,i){const s=Ja(e||cl),n=s.valid&&Ja(t||cl);return n&&n.valid?n.mix(s,i).hexString():t},number(e,t,i){return e+(t-e)*i}};class NO{constructor(t,i,s,n){const r=i[s];n=Ss([t.to,n,r,t.from]);const o=Ss([t.from,r,n]);this._active=!0,this._fn=t.fn||zO[t.type||typeof o],this._easing=Wi[t.easing]||Wi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=s,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,i,s){if(this._active){this._notify(!1);const n=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ss([t.to,i,n,t.from]),this._from=Ss([t.from,n,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,s=this._duration,n=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||i<s),!this._active){this._target[n]=a,this._notify(!0);return}if(i<0){this._target[n]=r;return}l=i/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,s)=>{t.push({res:i,rej:s})})}_notify(t){const i=t?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][i]()}}class Bh{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!K(t))return;const i=Object.keys(ot.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const r=t[n];if(!K(r))return;const o={};for(const a of i)o[a]=r[a];(rt(r.properties)&&r.properties||[n]).forEach(a=>{(a===n||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,i){const s=i.options,n=BO(t,s);if(!n)return[];const r=this._createAnimations(n,s);return s.$shared&&HO(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,i){const s=this._properties,n=[],r=t.$animations||(t.$animations={}),o=Object.keys(i),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,i));continue}const h=i[c];let u=r[c];const d=s.get(c);if(u)if(d&&u.active()){u.update(d,h,a);continue}else u.cancel();if(!d||!d.duration){t[c]=h;continue}r[c]=u=new NO(d,t,c,h),n.push(u)}return n}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}const s=this._createAnimations(t,i);if(s.length)return de.add(this._chart,s),!0}}function HO(e,t){const i=[],s=Object.keys(t);for(let n=0;n<s.length;n++){const r=e[s[n]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)}function BO(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function hl(e,t){const i=e&&e.options||{},s=i.reverse,n=i.min===void 0?t:0,r=i.max===void 0?t:0;return{start:s?r:n,end:s?n:r}}function jO(e,t,i){if(i===!1)return!1;const s=hl(e,i),n=hl(t,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}function WO(e){let t,i,s,n;return K(e)?(t=e.top,i=e.right,s=e.bottom,n=e.left):t=i=s=n=e,{top:t,right:i,bottom:s,left:n,disabled:e===!1}}function jh(e,t){const i=[],s=e._getSortedDatasetMetas(t);let n,r;for(n=0,r=s.length;n<r;++n)i.push(s[n].index);return i}function ul(e,t,i,s={}){const n=e.keys,r=s.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===i){if(s.all)continue;break}c=e.values[l],ft(c)&&(r||t===0||ai(t)===ai(c))&&(t+=c)}return t}}function VO(e){const t=Object.keys(e),i=new Array(t.length);let s,n,r;for(s=0,n=t.length;s<n;++s)r=t[s],i[s]={x:r,y:e[r]};return i}function dl(e,t){const i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function UO(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function KO(e){const{min:t,max:i,minDefined:s,maxDefined:n}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}function qO(e,t,i){const s=e[t]||(e[t]={});return s[i]||(s[i]={})}function fl(e,t,i,s){for(const n of t.getMatchingVisibleMetas(s).reverse()){const r=e[n.index];if(i&&r>0||!i&&r<0)return n.index}return null}function pl(e,t){const{chart:i,_cachedMeta:s}=e,n=i._stacks||(i._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,h=UO(r,o,s),u=t.length;let d;for(let f=0;f<u;++f){const m=t[f],{[l]:p,[c]:g}=m,v=m._stacks||(m._stacks={});d=v[c]=qO(n,h,p),d[a]=g,d._top=fl(d,o,!0,s.type),d._bottom=fl(d,o,!1,s.type);const b=d._visualValues||(d._visualValues={});b[a]=g}}function Vn(e,t){const i=e.scales;return Object.keys(i).filter(s=>i[s].axis===t).shift()}function GO(e,t){return Ee(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function XO(e,t,i){return Ee(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function ki(e,t){const i=e.controller.index,s=e.vScale&&e.vScale.axis;if(!!s){t=t||e._parsed;for(const n of t){const r=n._stacks;if(!r||r[s]===void 0||r[s][i]===void 0)return;delete r[s][i],r[s]._visualValues!==void 0&&r[s]._visualValues[i]!==void 0&&delete r[s]._visualValues[i]}}}const Un=e=>e==="reset"||e==="none",gl=(e,t)=>t?e:Object.assign({},e),ZO=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:jh(i,!0),values:null};class Ui{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=dl(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ki(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,s=this.getDataset(),n=(u,d,f,m)=>u==="x"?d:u==="r"?m:f,r=i.xAxisID=j(s.xAxisID,Vn(t,"x")),o=i.yAxisID=j(s.yAxisID,Vn(t,"y")),a=i.rAxisID=j(s.rAxisID,Vn(t,"r")),l=i.indexAxis,c=i.iAxisID=n(l,r,o,a),h=i.vAxisID=n(l,o,r,a);i.xScale=this.getScaleForId(r),i.yScale=this.getScaleForId(o),i.rScale=this.getScaleForId(a),i.iScale=this.getScaleForId(c),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Xa(this._data,this),t._stacked&&ki(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),s=this._data;if(K(i))this._data=VO(i);else if(s!==i){if(s){Xa(s,this);const n=this._cachedMeta;ki(n),n._parsed=[]}i&&Object.isExtensible(i)&&T2(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const r=i._stacked;i._stacked=dl(i.vScale,i),i.stack!==s.stack&&(n=!0,ki(i),i.stack=s.stack),this._resyncElements(t),(n||r!==i._stacked)&&pl(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:s,_data:n}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&i===n.length?!0:s._sorted,c=t>0&&s._parsed[t-1],h,u,d;if(this._parsing===!1)s._parsed=n,s._sorted=!0,d=n;else{rt(n[t])?d=this.parseArrayData(s,n,t,i):K(n[t])?d=this.parseObjectData(s,n,t,i):d=this.parsePrimitiveData(s,n,t,i);const f=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<i;++h)s._parsed[h+t]=u=d[h],l&&(f()&&(l=!1),c=u);s._sorted=l}o&&pl(this,d)}parsePrimitiveData(t,i,s,n){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),h=r===o,u=new Array(n);let d,f,m;for(d=0,f=n;d<f;++d)m=d+s,u[d]={[a]:h||r.parse(c[m],m),[l]:o.parse(i[m],m)};return u}parseArrayData(t,i,s,n){const{xScale:r,yScale:o}=t,a=new Array(n);let l,c,h,u;for(l=0,c=n;l<c;++l)h=l+s,u=i[h],a[l]={x:r.parse(u[0],h),y:o.parse(u[1],h)};return a}parseObjectData(t,i,s,n){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(n);let h,u,d,f;for(h=0,u=n;h<u;++h)d=h+s,f=i[d],c[h]={x:r.parse(an(f,a),d),y:o.parse(an(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,s){const n=this.chart,r=this._cachedMeta,o=i[t.axis],a={keys:jh(n,!0),values:i._stacks[t.axis]._visualValues};return ul(a,o,r.index,{mode:s})}updateRangeFromParsed(t,i,s,n){const r=s[i.axis];let o=r===null?NaN:r;const a=n&&s._stacks[i.axis];n&&a&&(n.values=a,o=ul(n,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,i){const s=this._cachedMeta,n=s._parsed,r=s._sorted&&t===s.iScale,o=n.length,a=this._getOtherScale(t),l=ZO(i,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=KO(a);let d,f;function m(){f=n[d];const p=f[a.axis];return!ft(f[t.axis])||h>p||u<p}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const i=this._cachedMeta._parsed,s=[];let n,r,o;for(n=0,r=i.length;n<r;++n)o=i[n][t.axis],ft(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,s=i.iScale,n=i.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=WO(j(this.options.clip,jO(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this.chart,s=this._cachedMeta,n=s.data||[],r=i.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,c=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(t,r,a,l),h=a;h<a+l;++h){const u=n[h];u.hidden||(u.active&&c?o.push(u):u.draw(t,r))}for(h=0;h<o.length;++h)o[h].draw(t,r)}getStyle(t,i){const s=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,i,s){const n=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=XO(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=n.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=GO(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!i,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",s){const n=i==="active",r=this._cachedDataOpts,o=t+"-"+i,a=r[o],l=this.enableOptionSharing&&Jt(s);if(a)return gl(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),u=n?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),h),f=Object.keys(ot.elements[t]),m=()=>this.getContext(s,n,i),p=c.resolveNamedOptions(d,f,m,u);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(gl(p,l))),p}_resolveAnimations(t,i,s){const n=this.chart,r=this._cachedDataOpts,o=`animation-${i}`,a=r[o];if(a)return a;let l;if(n.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,i),d=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(d,this.getContext(t,s,i))}const c=new Bh(n,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||Un(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const s=this.resolveDataElementOptions(t,i),n=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(i,r)||r!==n;return this.updateSharedOptions(r,i,s),{sharedOptions:r,includeOptions:o}}updateElement(t,i,s,n){Un(n)?Object.assign(t,s):this._resolveAnimations(i,n).update(t,s)}updateSharedOptions(t,i,s){t&&!Un(i)&&this._resolveAnimations(void 0,i).update(t,s)}_setStyle(t,i,s,n){t.active=n;const r=this.getStyle(i,n);this._resolveAnimations(i,s,n).update(t,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(t,i,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,i,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const n=s.length,r=i.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,t):r<n&&this._removeElements(r,n-r)}_insertElements(t,i,s=!0){const n=this._cachedMeta,r=n.data,o=t+i;let a;const l=c=>{for(c.length+=i,a=c.length-1;a>=o;a--)c[a]=c[a-i]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(t,i),s&&this.updateElements(r,t,i,"reset")}updateElements(t,i,s,n){}_removeElements(t,i){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(t,i);s._stacked&&ki(s,n)}s.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,s,n]=t;this[i](s,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}H(Ui,"defaults",{}),H(Ui,"datasetElementType",null),H(Ui,"dataElementType",null);class js extends Ui{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:s,data:n=[],_dataset:r}=i,o=this.chart._animationsDisabled;let{start:a,count:l}=E2(i,n,o);this._drawStart=a,this._drawCount=l,L2(i)&&(a=0,l=n.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=n;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(n,a,l,t)}updateElements(t,i,s,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(i,n),d=o.axis,f=a.axis,{spanGaps:m,segment:p}=this.options,g=es(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||n==="none",b=i+s,D=t.length;let x=i>0&&this.getParsed(i-1);for(let w=0;w<D;++w){const P=t[w],k=v?P:{};if(w<i||w>=b){k.skip=!0;continue}const S=this.getParsed(w),A=it(S[f]),Y=k[d]=o.getPixelForValue(S[d],w),L=k[f]=r||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[f],w);k.skip=isNaN(Y)||isNaN(L)||A,k.stop=w>0&&Math.abs(S[d]-x[d])>g,p&&(k.parsed=S,k.raw=c.data[w]),u&&(k.options=h||this.resolveDataElementOptions(w,P.active?"active":n)),v||this.updateElement(P,w,k,n),x=S}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,s=i.options&&i.options.borderWidth||0,n=t.data||[];if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}H(js,"id","line"),H(js,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),H(js,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Re(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lo{static override(t){Object.assign(lo.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return Re()}parse(){return Re()}format(){return Re()}add(){return Re()}diff(){return Re()}startOf(){return Re()}endOf(){return Re()}}var QO={_date:lo};function JO(e,t,i,s){const{controller:n,data:r,_sorted:o}=e,a=n._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?S2:je;if(s){if(n._sharedOptions){const c=r[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){const u=l(r,t,i-h),d=l(r,t,i+h);return{lo:u.lo,hi:d.hi}}}}else return l(r,t,i)}return{lo:0,hi:r.length-1}}function ps(e,t,i,s,n){const r=e.getSortedVisibleDatasetMetas(),o=i[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:h}=r[a],{lo:u,hi:d}=JO(r[a],t,o,n);for(let f=u;f<=d;++f){const m=h[f];m.skip||s(m,c,f)}}}function tT(e){const t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(s,n){const r=t?Math.abs(s.x-n.x):0,o=i?Math.abs(s.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Kn(e,t,i,s,n){const r=[];return!n&&!e.isPointInArea(t)||ps(e,i,t,function(a,l,c){!n&&!is(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function eT(e,t,i,s){let n=[];function r(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],s),{angle:u}=$2(o,{x:t.x,y:t.y});$h(u,c,h)&&n.push({element:o,datasetIndex:a,index:l})}return ps(e,i,t,r),n}function iT(e,t,i,s,n,r){let o=[];const a=tT(i);let l=Number.POSITIVE_INFINITY;function c(h,u,d){const f=h.inRange(t.x,t.y,n);if(s&&!f)return;const m=h.getCenterPoint(n);if(!(!!r||e.isPointInArea(m))&&!f)return;const g=a(t,m);g<l?(o=[{element:h,datasetIndex:u,index:d}],l=g):g===l&&o.push({element:h,datasetIndex:u,index:d})}return ps(e,i,t,c),o}function qn(e,t,i,s,n,r){return!r&&!e.isPointInArea(t)?[]:i==="r"&&!s?eT(e,t,i,n):iT(e,t,i,s,n,r)}function ml(e,t,i,s,n){const r=[],o=i==="x"?"inXRange":"inYRange";let a=!1;return ps(e,i,t,(l,c,h)=>{l[o](t[i],n)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,n))}),s&&!a?[]:r}var sT={evaluateInteractionItems:ps,modes:{index(e,t,i,s){const n=He(t,e),r=i.axis||"x",o=i.includeInvisible||!1,a=i.intersect?Kn(e,n,r,s,o):qn(e,n,r,!1,s,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(e,t,i,s){const n=He(t,e),r=i.axis||"xy",o=i.includeInvisible||!1;let a=i.intersect?Kn(e,n,r,s,o):qn(e,n,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(e,t,i,s){const n=He(t,e),r=i.axis||"xy",o=i.includeInvisible||!1;return Kn(e,n,r,s,o)},nearest(e,t,i,s){const n=He(t,e),r=i.axis||"xy",o=i.includeInvisible||!1;return qn(e,n,r,i.intersect,s,o)},x(e,t,i,s){const n=He(t,e);return ml(e,n,"x",i.intersect,s)},y(e,t,i,s){const n=He(t,e);return ml(e,n,"y",i.intersect,s)}}};const Wh=["left","top","right","bottom"];function Pi(e,t){return e.filter(i=>i.pos===t)}function vl(e,t){return e.filter(i=>Wh.indexOf(i.pos)===-1&&i.box.axis===t)}function Si(e,t){return e.sort((i,s)=>{const n=t?s:i,r=t?i:s;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function nT(e){const t=[];let i,s,n,r,o,a;for(i=0,s=(e||[]).length;i<s;++i)n=e[i],{position:r,options:{stack:o,stackWeight:a=1}}=n,t.push({index:i,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:a});return t}function rT(e){const t={};for(const i of e){const{stack:s,pos:n,stackWeight:r}=i;if(!s||!Wh.includes(n))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function oT(e,t){const i=rT(e),{vBoxMaxWidth:s,hBoxMaxHeight:n}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=i[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*s:l&&t.availableWidth,a.height=n):(a.width=s,a.height=h?h*n:l&&t.availableHeight)}return i}function aT(e){const t=nT(e),i=Si(t.filter(c=>c.box.fullSize),!0),s=Si(Pi(t,"left"),!0),n=Si(Pi(t,"right")),r=Si(Pi(t,"top"),!0),o=Si(Pi(t,"bottom")),a=vl(t,"x"),l=vl(t,"y");return{fullSize:i,leftAndTop:s.concat(r),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:Pi(t,"chartArea"),vertical:s.concat(n).concat(l),horizontal:r.concat(o).concat(a)}}function _l(e,t,i,s){return Math.max(e[i],t[i])+Math.max(e[s],t[s])}function Vh(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function lT(e,t,i,s){const{pos:n,box:r}=i,o=e.maxPadding;if(!K(n)){i.size&&(e[n]-=i.size);const u=s[i.stack]||{size:0,count:1};u.size=Math.max(u.size,i.horizontal?r.height:r.width),i.size=u.size/u.count,e[n]+=i.size}r.getPadding&&Vh(o,r.getPadding());const a=Math.max(0,t.outerWidth-_l(o,e,"left","right")),l=Math.max(0,t.outerHeight-_l(o,e,"top","bottom")),c=a!==e.w,h=l!==e.h;return e.w=a,e.h=l,i.horizontal?{same:c,other:h}:{same:h,other:c}}function cT(e){const t=e.maxPadding;function i(s){const n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function hT(e,t){const i=t.maxPadding;function s(n){const r={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{r[o]=Math.max(t[o],i[o])}),r}return s(e?["left","right"]:["top","bottom"])}function Ei(e,t,i,s){const n=[];let r,o,a,l,c,h;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,hT(a.horizontal,t));const{same:u,other:d}=lT(t,i,a,s);c|=u&&n.length,h=h||d,l.fullSize||n.push(a)}return c&&Ei(n,t,i,s)||h}function Cs(e,t,i,s,n){e.top=i,e.left=t,e.right=t+s,e.bottom=i+n,e.width=s,e.height=n}function bl(e,t,i,s){const n=i.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const u=t.w*h,d=c.size||l.height;Jt(c.start)&&(o=c.start),l.fullSize?Cs(l,n.left,o,i.outerWidth-n.right-n.left,d):Cs(l,t.left+c.placed,o,u,d),c.start=o,c.placed+=u,o=l.bottom}else{const u=t.h*h,d=c.size||l.width;Jt(c.start)&&(r=c.start),l.fullSize?Cs(l,r,n.top,d,i.outerHeight-n.bottom-n.top):Cs(l,r,t.top+c.placed,d,u),c.start=r,c.placed+=u,r=l.right}}t.x=r,t.y=o}var Bt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,s){if(!e)return;const n=vt(e.options.layout.padding),r=Math.max(t-n.width,0),o=Math.max(i-n.height,0),a=aT(e.boxes),l=a.vertical,c=a.horizontal;G(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const h=l.reduce((p,g)=>g.box.options&&g.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:i,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),d=Object.assign({},n);Vh(d,vt(s));const f=Object.assign({maxPadding:d,w:r,h:o,x:n.left,y:n.top},n),m=oT(l.concat(c),u);Ei(a.fullSize,f,u,m),Ei(l,f,u,m),Ei(c,f,u,m)&&Ei(l,f,u,m),cT(f),bl(a.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,bl(a.rightAndBottom,f,u,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},G(a.chartArea,p=>{const g=p.box;Object.assign(g,e.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Uh{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,s){}removeEventListener(t,i,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,s,n){return i=Math.max(0,i||t.width),s=s||t.height,{width:i,height:Math.max(0,n?Math.floor(i/n):s)}}isAttached(t){return!0}updateConfig(t){}}class uT extends Uh{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ws="$chartjs",dT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yl=e=>e===null||e==="";function fT(e,t){const i=e.style,s=e.getAttribute("height"),n=e.getAttribute("width");if(e[Ws]={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",yl(n)){const r=rl(e,"width");r!==void 0&&(e.width=r)}if(yl(s))if(e.style.height==="")e.height=e.width/(t||2);else{const r=rl(e,"height");r!==void 0&&(e.height=r)}return e}const Kh=$O?{passive:!0}:!1;function pT(e,t,i){e.addEventListener(t,i,Kh)}function gT(e,t,i){e.canvas.removeEventListener(t,i,Kh)}function mT(e,t){const i=dT[e.type]||e.type,{x:s,y:n}=He(e,t);return{type:i,chart:t,native:e,x:s!==void 0?s:null,y:n!==void 0?n:null}}function dn(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function vT(e,t,i){const s=e.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||dn(a.addedNodes,s),o=o&&!dn(a.removedNodes,s);o&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}function _T(e,t,i){const s=e.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||dn(a.removedNodes,s),o=o&&!dn(a.addedNodes,s);o&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}const ss=new Map;let xl=0;function qh(){const e=window.devicePixelRatio;e!==xl&&(xl=e,ss.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function bT(e,t){ss.size||window.addEventListener("resize",qh),ss.set(e,t)}function yT(e){ss.delete(e),ss.size||window.removeEventListener("resize",qh)}function xT(e,t,i){const s=e.canvas,n=s&&ao(s);if(!n)return;const r=Sh((a,l)=>{const c=n.clientWidth;i(a,l),c<n.clientWidth&&i()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return o.observe(n),bT(e,r),o}function Gn(e,t,i){i&&i.disconnect(),t==="resize"&&yT(e)}function wT(e,t,i){const s=e.canvas,n=Sh(r=>{e.ctx!==null&&i(mT(r,e))},e);return pT(s,t,n),n}class DT extends Uh{acquireContext(t,i){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(fT(t,i),s):null}releaseContext(t){const i=t.canvas;if(!i[Ws])return!1;const s=i[Ws].initial;["height","width"].forEach(r=>{const o=s[r];it(o)?i.removeAttribute(r):i.setAttribute(r,o)});const n=s.style||{};return Object.keys(n).forEach(r=>{i.style[r]=n[r]}),i.width=i.width,delete i[Ws],!0}addEventListener(t,i,s){this.removeEventListener(t,i);const n=t.$proxies||(t.$proxies={}),o={attach:vT,detach:_T,resize:xT}[i]||wT;n[i]=o(t,i,s)}removeEventListener(t,i){const s=t.$proxies||(t.$proxies={}),n=s[i];if(!n)return;({attach:Gn,detach:Gn,resize:Gn}[i]||gT)(t,i,n),s[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,s,n){return MO(t,i,s,n)}isAttached(t){const i=ao(t);return!!(i&&i.isConnected)}}function MT(e){return!Rh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?uT:DT}class ve{constructor(){H(this,"active",!1)}tooltipPosition(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}hasValue(){return es(this.x)&&es(this.y)}getProps(t,i){const s=this.$animations;if(!i||!s)return this;const n={};return t.forEach(r=>{n[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),n}}H(ve,"defaults",{}),H(ve,"defaultRoutes");function $T(e,t){const i=e.options.ticks,s=kT(e),n=Math.min(i.maxTicksLimit||s,s),r=i.major.enabled?ST(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>n)return OT(t,c,r,o/n),c;const h=PT(r,t,n);if(o>0){let u,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(As(t,c,h,it(f)?0:a-f,a),u=0,d=o-1;u<d;u++)As(t,c,h,r[u],r[u+1]);return As(t,c,h,l,it(f)?t.length:l+f),c}return As(t,c,h),c}function kT(e){const t=e.options.offset,i=e._tickSize(),s=e._length/i+(t?0:1),n=e._maxLength/i;return Math.floor(Math.min(s,n))}function PT(e,t,i){const s=TT(e),n=t.length/i;if(!s)return Math.max(n,1);const r=D2(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>n)return l}return Math.max(n,1)}function ST(e){const t=[];let i,s;for(i=0,s=e.length;i<s;i++)e[i].major&&t.push(i);return t}function OT(e,t,i,s){let n=0,r=i[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===r&&(t.push(e[o]),n++,r=i[n*s])}function As(e,t,i,s,n){const r=j(s,0),o=Math.min(j(n,e.length),e.length);let a=0,l,c,h;for(i=Math.ceil(i),n&&(l=n-s,i=l/Math.floor(l/i)),h=r;h<0;)a++,h=Math.round(r+a*i);for(c=Math.max(r,0);c<o;c++)c===h&&(t.push(e[c]),a++,h=Math.round(r+a*i))}function TT(e){const t=e.length;let i,s;if(t<2)return!1;for(s=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==s)return!1;return s}const CT=e=>e==="left"?"right":e==="right"?"left":e,wl=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i;function Dl(e,t){const i=[],s=e.length/t,n=e.length;let r=0;for(;r<n;r+=s)i.push(e[Math.floor(r)]);return i}function AT(e,t,i){const s=e.ticks.length,n=Math.min(t,s-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(n),c;if(!(i&&(s===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<r-a||l>o+a)))return l}function IT(e,t){G(e,i=>{const s=i.gc,n=s.length/2;let r;if(n>t){for(r=0;r<n;++r)delete i.data[s[r]];s.splice(0,n)}})}function Oi(e){return e.drawTicks?e.tickLength:0}function Ml(e,t){if(!e.display)return 0;const i=ut(e.font,t),s=vt(e.padding);return(rt(e.text)?e.text.length:1)*i.lineHeight+s.height}function ET(e,t){return Ee(e,{scale:t,type:"scale"})}function LT(e,t,i){return Ee(e,{tick:i,index:t,type:"tick"})}function FT(e,t,i){let s=to(e);return(i&&t!=="right"||!i&&t==="right")&&(s=CT(s)),s}function YT(e,t,i,s){const{top:n,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:h}=l;let u=0,d,f,m;const p=o-n,g=a-r;if(e.isHorizontal()){if(f=mt(s,r,a),K(i)){const v=Object.keys(i)[0],b=i[v];m=h[v].getPixelForValue(b)+p-t}else i==="center"?m=(c.bottom+c.top)/2+p-t:m=wl(e,i,t);d=a-r}else{if(K(i)){const v=Object.keys(i)[0],b=i[v];f=h[v].getPixelForValue(b)-g+t}else i==="center"?f=(c.left+c.right)/2-g+t:f=wl(e,i,t);m=mt(s,o,n),u=i==="left"?-St:St}return{titleX:f,titleY:m,maxWidth:d,rotation:u}}class Ze extends ve{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:s,_suggestedMax:n}=this;return t=Et(t,Number.POSITIVE_INFINITY),i=Et(i,Number.NEGATIVE_INFINITY),s=Et(s,Number.POSITIVE_INFINITY),n=Et(n,Number.NEGATIVE_INFINITY),{min:Et(t,s),max:Et(i,n),minDefined:ft(t),maxDefined:ft(i)}}getMinMax(t){let{min:i,max:s,minDefined:n,maxDefined:r}=this.getUserBounds(),o;if(n&&r)return{min:i,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),n||(i=Math.min(i,o.min)),r||(s=Math.max(s,o.max));return i=r&&i>s?s:i,s=n&&i>s?i:s,{min:Et(i,Et(s,i)),max:Et(s,Et(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(t,i,s){const{beginAtZero:n,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iO(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Dl(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=$T(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,s;this.isHorizontal()?(i=this.left,s=this.right):(i=this.top,s=this.bottom,t=!t),this._startPixel=i,this._endPixel=s,this._reversePixels=t,this._length=s-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),tt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let s,n,r;for(s=0,n=t.length;s<n;s++)r=t[s],r.label=tt(i.callback,[r.value,s,t],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,s=this.ticks.length,n=i.minRotation||0,r=i.maxRotation;let o=n,a,l,c;if(!this._isVisible()||!i.display||n>=r||s<=1||!this.isHorizontal()){this.labelRotation=n;return}const h=this._getLabelSizes(),u=h.widest.width,d=h.highest.height,f=Ht(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/s:f/(s-1),u+6>a&&(a=f/(s-(t.offset?.5:1)),l=this.maxHeight-Oi(t.grid)-i.padding-Ml(t.title,this.chart.options.font),c=Math.sqrt(u*u+d*d),o=Qr(Math.min(Math.asin(Ht((h.highest.height+6)/a,-1,1)),Math.asin(Ht(l/c,-1,1))-Math.asin(Ht(d/c,-1,1)))),o=Math.max(n,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:s,title:n,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ml(n,i.options.font);if(a?(t.width=this.maxWidth,t.height=Oi(r)+l):(t.height=this.maxHeight,t.width=Oi(r)+l),s.display&&this.ticks.length){const{first:c,last:h,widest:u,highest:d}=this._getLabelSizes(),f=s.padding*2,m=Pe(this.labelRotation),p=Math.cos(m),g=Math.sin(m);if(a){const v=s.mirror?0:g*u.width+p*d.height;t.height=Math.min(this.maxHeight,t.height+v+f)}else{const v=s.mirror?0:p*u.width+g*d.height;t.width=Math.min(this.maxWidth,t.width+v+f)}this._calculatePadding(c,h,g,p)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,s,n){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=n*t.width,f=s*i.height):(d=s*t.height,f=n*i.width):r==="start"?f=i.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=i.width/2),this.paddingLeft=Math.max((d-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((f-u+o)*this.width/(this.width-u),0)}else{let h=i.height/2,u=t.height/2;r==="start"?(h=0,u=t.height):r==="end"&&(h=i.height,u=0),this.paddingTop=h+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,s;for(i=0,s=t.length;i<s;i++)it(t[i].label)&&(t.splice(i,1),s--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let s=this.ticks;i<s.length&&(s=Dl(s,i)),this._labelSizes=t=this._computeLabelSizes(s,s.length)}return t}_computeLabelSizes(t,i){const{ctx:s,_longestTextCache:n}=this,r=[],o=[];let a=0,l=0,c,h,u,d,f,m,p,g,v,b,D;for(c=0;c<i;++c){if(d=t[c].label,f=this._resolveTickFontOptions(c),s.font=m=f.string,p=n[m]=n[m]||{data:{},gc:[]},g=f.lineHeight,v=b=0,!it(d)&&!rt(d))v=cn(s,p.data,p.gc,v,d),b=g;else if(rt(d))for(h=0,u=d.length;h<u;++h)D=d[h],!it(D)&&!rt(D)&&(v=cn(s,p.data,p.gc,v,D),b+=g);r.push(v),o.push(b),a=Math.max(v,a),l=Math.max(b,l)}IT(n,i);const x=r.indexOf(a),w=o.indexOf(l),P=k=>({width:r[k]||0,height:o[k]||0});return{first:P(0),last:P(i-1),widest:P(x),highest:P(w),widths:r,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return P2(this._alignToPixels?Ye(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const s=i[t];return s.$context||(s.$context=LT(this.getContext(),t,s))}return this.$context||(this.$context=ET(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=Pe(this.labelRotation),s=Math.abs(Math.cos(i)),n=Math.abs(Math.sin(i)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*n?a/s:l/n:l*n<a*s?l/s:a/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,s=this.chart,n=this.options,{grid:r,position:o,border:a}=n,l=r.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),d=Oi(r),f=[],m=a.setContext(this.getContext()),p=m.display?m.width:0,g=p/2,v=function(q){return Ye(s,q,p)};let b,D,x,w,P,k,S,A,Y,L,O,F;if(o==="top")b=v(this.bottom),k=this.bottom-d,A=b-g,L=v(t.top)+g,F=t.bottom;else if(o==="bottom")b=v(this.top),L=t.top,F=v(t.bottom)-g,k=b+g,A=this.top+d;else if(o==="left")b=v(this.right),P=this.right-d,S=b-g,Y=v(t.left)+g,O=t.right;else if(o==="right")b=v(this.left),Y=t.left,O=v(t.right)-g,P=b+g,S=this.left+d;else if(i==="x"){if(o==="center")b=v((t.top+t.bottom)/2+.5);else if(K(o)){const q=Object.keys(o)[0],st=o[q];b=v(this.chart.scales[q].getPixelForValue(st))}L=t.top,F=t.bottom,k=b+g,A=k+d}else if(i==="y"){if(o==="center")b=v((t.left+t.right)/2);else if(K(o)){const q=Object.keys(o)[0],st=o[q];b=v(this.chart.scales[q].getPixelForValue(st))}P=b-g,S=P-d,Y=t.left,O=t.right}const Q=j(n.ticks.maxTicksLimit,u),V=Math.max(1,Math.ceil(u/Q));for(D=0;D<u;D+=V){const q=this.getContext(D),st=r.setContext(q),Ot=a.setContext(q),Mt=st.lineWidth,Tt=st.color,te=Ot.dash||[],bt=Ot.dashOffset,Ct=st.tickWidth,gt=st.tickColor,lt=st.tickBorderDash||[],At=st.tickBorderDashOffset;x=AT(this,D,l),x!==void 0&&(w=Ye(s,x,Mt),c?P=S=Y=O=w:k=A=L=F=w,f.push({tx1:P,ty1:k,tx2:S,ty2:A,x1:Y,y1:L,x2:O,y2:F,width:Mt,color:Tt,borderDash:te,borderDashOffset:bt,tickWidth:Ct,tickColor:gt,tickBorderDash:lt,tickBorderDashOffset:At}))}return this._ticksLength=u,this._borderValue=b,f}_computeLabelItems(t){const i=this.axis,s=this.options,{position:n,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=r,d=Oi(s.grid),f=d+h,m=u?-h:f,p=-Pe(this.labelRotation),g=[];let v,b,D,x,w,P,k,S,A,Y,L,O,F="middle";if(n==="top")P=this.bottom-m,k=this._getXAxisLabelAlignment();else if(n==="bottom")P=this.top+m,k=this._getXAxisLabelAlignment();else if(n==="left"){const V=this._getYAxisLabelAlignment(d);k=V.textAlign,w=V.x}else if(n==="right"){const V=this._getYAxisLabelAlignment(d);k=V.textAlign,w=V.x}else if(i==="x"){if(n==="center")P=(t.top+t.bottom)/2+f;else if(K(n)){const V=Object.keys(n)[0],q=n[V];P=this.chart.scales[V].getPixelForValue(q)+f}k=this._getXAxisLabelAlignment()}else if(i==="y"){if(n==="center")w=(t.left+t.right)/2-f;else if(K(n)){const V=Object.keys(n)[0],q=n[V];w=this.chart.scales[V].getPixelForValue(q)}k=this._getYAxisLabelAlignment(d).textAlign}i==="y"&&(l==="start"?F="top":l==="end"&&(F="bottom"));const Q=this._getLabelSizes();for(v=0,b=a.length;v<b;++v){D=a[v],x=D.label;const V=r.setContext(this.getContext(v));S=this.getPixelForTick(v)+r.labelOffset,A=this._resolveTickFontOptions(v),Y=A.lineHeight,L=rt(x)?x.length:1;const q=L/2,st=V.color,Ot=V.textStrokeColor,Mt=V.textStrokeWidth;let Tt=k;o?(w=S,k==="inner"&&(v===b-1?Tt=this.options.reverse?"left":"right":v===0?Tt=this.options.reverse?"right":"left":Tt="center"),n==="top"?c==="near"||p!==0?O=-L*Y+Y/2:c==="center"?O=-Q.highest.height/2-q*Y+Y:O=-Q.highest.height+Y/2:c==="near"||p!==0?O=Y/2:c==="center"?O=Q.highest.height/2-q*Y:O=Q.highest.height-L*Y,u&&(O*=-1),p!==0&&!V.showLabelBackdrop&&(w+=Y/2*Math.sin(p))):(P=S,O=(1-L)*Y/2);let te;if(V.showLabelBackdrop){const bt=vt(V.backdropPadding),Ct=Q.heights[v],gt=Q.widths[v];let lt=O-bt.top,At=0-bt.left;switch(F){case"middle":lt-=Ct/2;break;case"bottom":lt-=Ct;break}switch(k){case"center":At-=gt/2;break;case"right":At-=gt;break}te={left:At,top:lt,width:gt+bt.width,height:Ct+bt.height,color:V.backdropColor}}g.push({label:x,font:A,textOffset:O,options:{rotation:p,color:st,strokeColor:Ot,strokeWidth:Mt,textAlign:Tt,textBaseline:F,translation:[w,P],backdrop:te}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-Pe(this.labelRotation))return t==="top"?"left":"right";let n="center";return i.align==="start"?n="left":i.align==="end"?n="right":i.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:s,mirror:n,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,h;return i==="left"?n?(h=this.right+r,s==="near"?c="left":s==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,s==="near"?c="right":s==="center"?(c="center",h-=l/2):(c="left",h=this.left)):i==="right"?n?(h=this.left+r,s==="near"?c="right":s==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,s==="near"?c="left":s==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:s,top:n,width:r,height:o}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(s,n,r,o),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const n=this.ticks.findIndex(r=>r.value===t);return n>=0?i.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const i=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,h)=>{!h.width||!h.color||(s.save(),s.lineWidth=h.width,s.strokeStyle=h.color,s.setLineDash(h.borderDash||[]),s.lineDashOffset=h.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(i.display)for(r=0,o=n.length;r<o;++r){const l=n[r];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:s,grid:n}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,u,d;this.isHorizontal()?(c=Ye(t,this.left,o)-o/2,h=Ye(t,this.right,a)+a/2,u=d=l):(u=Ye(t,this.top,o)-o/2,d=Ye(t,this.bottom,a)+a/2,c=h=l),i.save(),i.lineWidth=r.width,i.strokeStyle=r.color,i.beginPath(),i.moveTo(c,u),i.lineTo(h,d),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,n=this._computeLabelArea();n&&io(s,n);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,h=o.textOffset;qe(s,c,0,h,l,a)}n&&so(s)}drawTitle(){const{ctx:t,options:{position:i,title:s,reverse:n}}=this;if(!s.display)return;const r=ut(s.font),o=vt(s.padding),a=s.align;let l=r.lineHeight/2;i==="bottom"||i==="center"||K(i)?(l+=o.bottom,rt(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:u,rotation:d}=YT(this,l,i,a);qe(t,s.text,0,0,r,{color:s.color,maxWidth:u,rotation:d,textAlign:FT(a,i,n),textBaseline:"middle",translation:[c,h]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,s=j(t.grid&&t.grid.z,-1),n=j(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ze.prototype.draw?[{z:i,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:i,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let r,o;for(r=0,o=i.length;r<o;++r){const a=i[r];a[s]===this.id&&(!t||a.type===t)&&n.push(a)}return n}_resolveTickFontOptions(t){const i=this.options.ticks.setContext(this.getContext(t));return ut(i.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Is{constructor(t,i,s){this.type=t,this.scope=i,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let s;NT(i)&&(s=this.register(i));const n=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in n||(n[r]=t,RT(t,o,s),this.override&&ot.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const i=this.items,s=t.id,n=this.scope;s in i&&delete i[s],n&&s in ot[n]&&(delete ot[n][s],this.override&&delete Ke[s])}}function RT(e,t,i){const s=ts(Object.create(null),[i?ot.get(i):{},ot.get(t),e.defaults]);ot.set(t,s),e.defaultRoutes&&zT(t,e.defaultRoutes),e.descriptors&&ot.describe(t,e.descriptors)}function zT(e,t){Object.keys(t).forEach(i=>{const s=i.split("."),n=s.pop(),r=[e].concat(s).join("."),o=t[i].split("."),a=o.pop(),l=o.join(".");ot.route(r,n,l,a)})}function NT(e){return"id"in e&&"defaults"in e}class HT{constructor(){this.controllers=new Is(Ui,"datasets",!0),this.elements=new Is(ve,"elements"),this.plugins=new Is(Object,"plugins"),this.scales=new Is(Ze,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,s){[...i].forEach(n=>{const r=s||this._getRegistryForType(n);s||r.isForType(n)||r===this.plugins&&n.id?this._exec(t,r,n):G(n,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,i,s){const n=Zr(t);tt(s["before"+n],[],s),i[t](s),tt(s["after"+n],[],s)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const s=this._typedRegistries[i];if(s.isForType(t))return s}return this.plugins}_get(t,i,s){const n=i.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return n}}var ie=new HT;class BT{constructor(){this._init=[]}notify(t,i,s,n){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=n?this._descriptors(t).filter(n):this._descriptors(t),o=this._notify(r,t,i,s);return i==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,i,s,n){n=n||{};for(const r of t){const o=r.plugin,a=o[s],l=[i,n,r.options];if(tt(a,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){it(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const s=t&&t.config,n=j(s.options&&s.options.plugins,{}),r=jT(s);return n===!1&&!i?[]:VT(t,r,n,i)}_notifyStateChanges(t){const i=this._oldCache||[],s=this._cache,n=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(n(i,s),t,"stop"),this._notify(n(s,i),t,"start")}}function jT(e){const t={},i=[],s=Object.keys(ie.plugins.items);for(let r=0;r<s.length;r++)i.push(ie.getPlugin(s[r]));const n=e.plugins||[];for(let r=0;r<n.length;r++){const o=n[r];i.indexOf(o)===-1&&(i.push(o),t[o.id]=!0)}return{plugins:i,localIds:t}}function WT(e,t){return!t&&e===!1?null:e===!0?{}:e}function VT(e,{plugins:t,localIds:i},s,n){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=WT(s[l],n);c!==null&&r.push({plugin:a,options:UT(e.config,{plugin:a,local:i[l]},c,o)})}return r}function UT(e,{plugin:t,local:i},s,n){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(s,r);return i&&t.defaults&&o.push(t.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gr(e,t){const i=ot.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function KT(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function qT(e,t){return e===t?"_index_":"_value_"}function GT(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function fn(e,t){if(e==="x"||e==="y"||e==="r"||(e=t.axis||GT(t.position)||e.length>1&&fn(e[0].toLowerCase(),t),e))return e;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function XT(e,t){const i=Ke[e.type]||{scales:{}},s=t.scales||{},n=gr(e.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!K(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=fn(o,a),c=qT(l,n),h=i.scales||{};r[o]=Bi(Object.create(null),[{axis:l},a,h[l],h[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||gr(a,t),h=(Ke[a]||{}).scales||{};Object.keys(h).forEach(u=>{const d=KT(u,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Bi(r[f],[{axis:d},s[f],h[u]])})}),Object.keys(r).forEach(o=>{const a=r[o];Bi(a,[ot.scales[a.type],ot.scale])}),r}function Gh(e){const t=e.options||(e.options={});t.plugins=j(t.plugins,{}),t.scales=XT(e,t)}function Xh(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function ZT(e){return e=e||{},e.data=Xh(e.data),Gh(e),e}const $l=new Map,Zh=new Set;function Es(e,t){let i=$l.get(e);return i||(i=t(),$l.set(e,i),Zh.add(i)),i}const Ti=(e,t,i)=>{const s=an(t,i);s!==void 0&&e.add(s)};class QT{constructor(t){this._config=ZT(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Xh(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Gh(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Es(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return Es(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return Es(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id,s=this.type;return Es(`${s}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const s=this._scopeCache;let n=s.get(t);return(!n||i)&&(n=new Map,s.set(t,n)),n}getOptionScopes(t,i,s){const{options:n,type:r}=this,o=this._cachedScopes(t,s),a=o.get(i);if(a)return a;const l=new Set;i.forEach(h=>{t&&(l.add(t),h.forEach(u=>Ti(l,t,u))),h.forEach(u=>Ti(l,n,u)),h.forEach(u=>Ti(l,Ke[r]||{},u)),h.forEach(u=>Ti(l,ot,u)),h.forEach(u=>Ti(l,fr,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Zh.has(i)&&o.set(i,c),c}chartOptionScopes(){const{options:t,type:i}=this;return[t,Ke[i]||{},ot.datasets[i]||{},{type:i},ot,fr]}resolveNamedOptions(t,i,s,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=kl(this._resolverCache,t,n);let l=o;if(tC(o,i)){r.$shared=!1,s=Ce(s)?s():s;const c=this.createResolver(t,s,a);l=li(o,s,c)}for(const c of i)r[c]=l[c];return r}createResolver(t,i,s=[""],n){const{resolver:r}=kl(this._resolverCache,t,s);return K(i)?li(r,i,void 0,n):r}}function kl(e,t,i){let s=e.get(t);s||(s=new Map,e.set(t,s));const n=i.join();let r=s.get(n);return r||(r={resolver:no(t,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},s.set(n,r)),r}const JT=e=>K(e)&&Object.getOwnPropertyNames(e).reduce((t,i)=>t||Ce(e[i]),!1);function tC(e,t){const{isScriptable:i,isIndexable:s}=Ih(e);for(const n of t){const r=i(n),o=s(n),a=(o||r)&&e[n];if(r&&(Ce(a)||JT(a))||o&&rt(a))return!0}return!1}var eC="4.2.0";const iC=["top","bottom","left","right","chartArea"];function Pl(e,t){return e==="top"||e==="bottom"||iC.indexOf(e)===-1&&t==="x"}function Sl(e,t){return function(i,s){return i[e]===s[e]?i[t]-s[t]:i[e]-s[e]}}function Ol(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),tt(i&&i.onComplete,[e],t)}function sC(e){const t=e.chart,i=t.options.animation;tt(i&&i.onProgress,[e],t)}function Qh(e){return Rh()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Vs={},Tl=e=>{const t=Qh(e);return Object.values(Vs).filter(i=>i.canvas===t).pop()};function nC(e,t,i){const s=Object.keys(e);for(const n of s){const r=+n;if(r>=t){const o=e[n];delete e[n],(i>0||r>t)&&(e[r+i]=o)}}}function rC(e,t,i,s){return!i||e.type==="mouseout"?null:s?t:e}function oC(e){const{xScale:t,yScale:i}=e;if(t&&i)return{left:t.left,right:t.right,top:i.top,bottom:i.bottom}}class ne{static register(...t){ie.add(...t),Cl()}static unregister(...t){ie.remove(...t),Cl()}constructor(t,i){const s=this.config=new QT(i),n=Qh(t),r=Tl(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||MT(n)),this.platform.updateConfig(s);const a=this.platform.acquireContext(n,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=p2(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new BT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=A2(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],Vs[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}de.listen(this,"complete",Ol),de.listen(this,"progress",sC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:s,height:n,_aspectRatio:r}=this;return it(t)?i&&r?r:n?s/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ie}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return el(this.canvas,this.ctx),this}stop(){return de.stop(this),this}resize(t,i){de.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const s=this.options,n=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,t,i,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,nl(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),tt(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};G(i,(s,n)=>{s.id=n})}buildOrUpdateScales(){const t=this.options,i=t.scales,s=this.scales,n=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];i&&(r=r.concat(Object.keys(i).map(o=>{const a=i[o],l=fn(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),G(r,o=>{const a=o.options,l=a.id,c=fn(l,a),h=j(a.type,o.dtype);(a.position===void 0||Pl(a.position,c)!==Pl(o.dposition))&&(a.position=o.dposition),n[l]=!0;let u=null;if(l in s&&s[l].type===h)u=s[l];else{const d=ie.getScale(h);u=new d({id:l,type:h,ctx:this.ctx,chart:this}),s[u.id]=u}u.init(a,t)}),G(n,(o,a)=>{o||delete s[a]}),G(s,o=>{Bt.configure(this,o,o.options),Bt.addBox(this,o)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,s=t.length;if(t.sort((n,r)=>n.index-r.index),s>i){for(let n=i;n<s;++n)this._destroyDatasetMeta(n);t.splice(i,s-i)}this._sortedMetasets=t.slice(0).sort(Sl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((s,n)=>{i.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let s,n;for(this._removeUnreferencedMetasets(),s=0,n=i.length;s<n;s++){const r=i[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||gr(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=ie.getController(a),{datasetElementType:c,dataElementType:h}=ot.datasets[a];Object.assign(l,{dataElementType:ie.getElement(h),datasetElementType:c&&ie.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){G(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const s=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:u}=this.getDatasetMeta(c),d=!n&&r.indexOf(u)===-1;u.buildOrUpdateElements(d),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),n||G(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Sl("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){G(this.scales,t=>{Bt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Ua(i,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:r}of i){const o=s==="_removeElements"?-r:r;nC(t,n,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),n=s(0);for(let r=1;r<i;r++)if(!Ua(n,s(r)))return;return Array.from(n).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bt.update(this,this.width,this.height,t);const i=this.chartArea,s=i.width<=0||i.height<=0;this._layers=[],G(this.boxes,n=>{s&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,r)=>{n._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,s=this.data.datasets.length;i<s;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,s=this.data.datasets.length;i<s;++i)this._updateDataset(i,Ce(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const s=this.getDatasetMeta(t),n={meta:s,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(s.controller._update(i),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(de.has(this)?this.attached&&!de.running(this)&&de.start(this):(this.draw(),Ol({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:n}=this._resizeBeforeDraw;this._resize(s,n),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,s=[];let n,r;for(n=0,r=i.length;n<r;++n){const o=i[n];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,s=t._clip,n=!s.disabled,r=oC(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(n&&io(i,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),t.controller.draw(),n&&so(i),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return is(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,s,n){const r=sT.modes[i];return typeof r=="function"?r(this,t,s,n):[]}getDatasetMeta(t){const i=this.data.datasets[t],s=this._metasets;let n=s.filter(r=>r&&r._dataset===i).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=Ee(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!i.hidden}setDatasetVisibility(t,i){const s=this.getDatasetMeta(t);s.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,s){const n=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,n);Jt(i)?(r.data[i].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?n:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),de.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),el(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Vs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,s=(r,o)=>{i.addEventListener(this,r,o),t[r]=o},n=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};G(this.options.events,r=>s(r,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,s=(l,c)=>{i.addEventListener(this,l,c),t[l]=c},n=(l,c)=>{t[l]&&(i.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),s("attach",a)},i.isAttached(this.canvas)?a():o()}unbindEvents(){G(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},G(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,s){const n=s?"set":"remove";let r,o,a,l;for(i==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!rn(s,i)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,i))}notifyPlugins(t,i,s){return this._plugins.notify(this,t,i,s)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,s){const n=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),o=r(i,t),a=s?t:r(t,i);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(t,i){const s={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},n=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,n)===!1)return;const r=this._handleEvent(t,i,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(r||s.changed)&&this.render(),this}_handleEvent(t,i,s){const{_active:n=[],options:r}=this,o=i,a=this._getActiveElements(t,n,s,o),l=y2(t),c=rC(t,this._lastEvent,s,l);s&&(this._lastEvent=null,tt(r.onHover,[t,a,this],this),l&&tt(r.onClick,[t,a,this],this));const h=!rn(a,n);return(h||i)&&(this._active=a,this._updateHoverStyles(a,n,i)),this._lastEvent=c,h}_getActiveElements(t,i,s,n){if(t.type==="mouseout")return[];if(!s)return i;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,n)}}H(ne,"defaults",ot),H(ne,"instances",Vs),H(ne,"overrides",Ke),H(ne,"registry",ie),H(ne,"version",eC),H(ne,"getChart",Tl);function Cl(){return G(ne.instances,e=>e._plugins.invalidate())}function Jh(e,t,i=t){e.lineCap=j(i.borderCapStyle,t.borderCapStyle),e.setLineDash(j(i.borderDash,t.borderDash)),e.lineDashOffset=j(i.borderDashOffset,t.borderDashOffset),e.lineJoin=j(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=j(i.borderWidth,t.borderWidth),e.strokeStyle=j(i.borderColor,t.borderColor)}function aC(e,t,i){e.lineTo(i.x,i.y)}function lC(e){return e.stepped?U2:e.tension||e.cubicInterpolationMode==="monotone"?K2:aC}function tu(e,t,i={}){const s=e.length,{start:n=0,end:r=s-1}=i,{start:o,end:a}=t,l=Math.max(n,o),c=Math.min(r,a),h=n<o&&r<o||n>a&&r>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!h?s+c-l:c-l}}function cC(e,t,i,s){const{points:n,options:r}=t,{count:o,start:a,loop:l,ilen:c}=tu(n,i,s),h=lC(r);let{move:u=!0,reverse:d}=s||{},f,m,p;for(f=0;f<=c;++f)m=n[(a+(d?c-f:f))%o],!m.skip&&(u?(e.moveTo(m.x,m.y),u=!1):h(e,p,m,d,r.stepped),p=m);return l&&(m=n[(a+(d?c:0))%o],h(e,p,m,d,r.stepped)),!!l}function hC(e,t,i,s){const n=t.points,{count:r,start:o,ilen:a}=tu(n,i,s),{move:l=!0,reverse:c}=s||{};let h=0,u=0,d,f,m,p,g,v;const b=x=>(o+(c?a-x:x))%r,D=()=>{p!==g&&(e.lineTo(h,g),e.lineTo(h,p),e.lineTo(h,v))};for(l&&(f=n[b(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=n[b(d)],f.skip)continue;const x=f.x,w=f.y,P=x|0;P===m?(w<p?p=w:w>g&&(g=w),h=(u*h+x)/++u):(D(),e.lineTo(x,w),m=P,u=0,p=g=w),v=w}D()}function mr(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?hC:cC}function uC(e){return e.stepped?kO:e.tension||e.cubicInterpolationMode==="monotone"?PO:Be}function dC(e,t,i,s){let n=t._path;n||(n=t._path=new Path2D,t.path(n,i,s)&&n.closePath()),Jh(e,t.options),e.stroke(n)}function fC(e,t,i,s){const{segments:n,options:r}=t,o=mr(t);for(const a of n)Jh(e,r,a.style),e.beginPath(),o(e,t,a,{start:i,end:i+s-1})&&e.closePath(),e.stroke()}const pC=typeof Path2D=="function";function gC(e,t,i,s){pC&&!t.options.segment?dC(e,t,i,s):fC(e,t,i,s)}class Li extends ve{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;_O(this._points,s,t,n,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=LO(this,this.options.segment))}first(){const t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){const t=this.segments,i=this.points,s=t.length;return s&&i[t[s-1].end]}interpolate(t,i){const s=this.options,n=t[i],r=this.points,o=AO(this,{property:i,start:n,end:n});if(!o.length)return;const a=[],l=uC(s);let c,h;for(c=0,h=o.length;c<h;++c){const{start:u,end:d}=o[c],f=r[u],m=r[d];if(f===m){a.push(f);continue}const p=Math.abs((n-f[i])/(m[i]-f[i])),g=l(f,m,p,s.stepped);g[i]=t[i],a.push(g)}return a.length===1?a[0]:a}pathSegment(t,i,s){return mr(this)(t,this,i,s)}path(t,i,s){const n=this.segments,r=mr(this);let o=this._loop;i=i||0,s=s||this.points.length-i;for(const a of n)o&=r(t,this,a,{start:i,end:i+s-1});return!!o}draw(t,i,s,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),gC(t,this,s,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}H(Li,"id","line"),H(Li,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),H(Li,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),H(Li,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Al(e,t,i,s){const n=e.options,{[i]:r}=e.getProps([i],s);return Math.abs(t-r)<n.radius+n.hitRadius}class Us extends ve{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const n=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(i-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,i){return Al(this,t,"x",i)}inYRange(t,i){return Al(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!is(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,pr(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}H(Us,"id","point"),H(Us,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),H(Us,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Il=(e,t)=>{let{boxHeight:i=t,boxWidth:s=t}=e;return e.usePointStyle&&(i=Math.min(i,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(t,i)}},mC=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class El extends ve{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,s){this.maxWidth=t,this.maxHeight=i,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=tt(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(s=>t.filter(s,this.chart.data))),t.sort&&(i=i.sort((s,n)=>t.sort(s,n,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,n=ut(s.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Il(s,r);let c,h;i.font=n.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,n,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,i,s,n){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=n+a;let u=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-h;return this.legendItems.forEach((m,p)=>{const g=s+i/2+r.measureText(m.text).width;(p===0||c[c.length-1]+g+2*a>o)&&(u+=h,c[c.length-(p>0?0:1)]=0,f+=h,d++),l[p]={left:0,top:f,row:d,width:g,height:n},c[c.length-1]+=g+a}),u}_fitCols(t,i,s,n){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-t;let u=a,d=0,f=0,m=0,p=0;return this.legendItems.forEach((g,v)=>{const{itemWidth:b,itemHeight:D}=vC(s,i,r,g,n);v>0&&f+D+2*a>h&&(u+=d+a,c.push({width:d,height:f}),m+=d+a,p++,d=f=0),l[v]={left:m,top:f,col:p,width:b,height:D},d=Math.max(d,b),f+=D+a}),u+=d,c.push({width:d,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:s,labels:{padding:n},rtl:r}}=this,o=si(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=mt(s,this.left+n,this.right-this.lineWidths[a]);for(const c of i)a!==c.row&&(a=c.row,l=mt(s,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+t+n,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+n}else{let a=0,l=mt(s,this.top+t+n,this.bottom-this.columnSizes[a].height);for(const c of i)c.col!==a&&(a=c.col,l=mt(s,this.top+t+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;io(t,this),this._draw(),so(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:s,ctx:n}=this,{align:r,labels:o}=t,a=ot.color,l=si(t.rtl,this.left,this.width),c=ut(o.font),{padding:h}=o,u=c.size,d=u/2;let f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:m,boxHeight:p,itemHeight:g}=Il(o,u),v=function(P,k,S){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;n.save();const A=j(S.lineWidth,1);if(n.fillStyle=j(S.fillStyle,a),n.lineCap=j(S.lineCap,"butt"),n.lineDashOffset=j(S.lineDashOffset,0),n.lineJoin=j(S.lineJoin,"miter"),n.lineWidth=A,n.strokeStyle=j(S.strokeStyle,a),n.setLineDash(j(S.lineDash,[])),o.usePointStyle){const Y={radius:p*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:A},L=l.xPlus(P,m/2),O=k+d;Ch(n,Y,L,O,o.pointStyleWidth&&m)}else{const Y=k+Math.max((u-p)/2,0),L=l.leftForLtr(P,m),O=ii(S.borderRadius);n.beginPath(),Object.values(O).some(F=>F!==0)?hn(n,{x:L,y:Y,w:m,h:p,radius:O}):n.rect(L,Y,m,p),n.fill(),A!==0&&n.stroke()}n.restore()},b=function(P,k,S){qe(n,S.text,P,k+g/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},D=this.isHorizontal(),x=this._computeTitleHeight();D?f={x:mt(r,this.left+h,this.right-s[0]),y:this.top+h+x,line:0}:f={x:this.left+h,y:mt(r,this.top+x+h,this.bottom-i[0].height),line:0},zh(this.ctx,t.textDirection);const w=g+h;this.legendItems.forEach((P,k)=>{n.strokeStyle=P.fontColor,n.fillStyle=P.fontColor;const S=n.measureText(P.text).width,A=l.textAlign(P.textAlign||(P.textAlign=o.textAlign)),Y=m+d+S;let L=f.x,O=f.y;l.setWidth(this.width),D?k>0&&L+Y+h>this.right&&(O=f.y+=w,f.line++,L=f.x=mt(r,this.left+h,this.right-s[f.line])):k>0&&O+w>this.bottom&&(L=f.x=L+i[f.line].width+h,f.line++,O=f.y=mt(r,this.top+x+h,this.bottom-i[f.line].height));const F=l.x(L);if(v(F,O,P),L=I2(A,L+m+d,D?L+Y:this.right,t.rtl),b(l.x(L),O,P),D)f.x+=Y+h;else if(typeof P.text!="string"){const Q=c.lineHeight;f.y+=eu(P,Q)}else f.y+=w}),Nh(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,s=ut(i.font),n=vt(i.padding);if(!i.display)return;const r=si(t.rtl,this.left,this.width),o=this.ctx,a=i.position,l=s.size/2,c=n.top+l;let h,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,u=mt(t.align,u,this.right-d);else{const m=this.columnSizes.reduce((p,g)=>Math.max(p,g.height),0);h=c+mt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const f=mt(a,u,u+d);o.textAlign=r.textAlign(to(a)),o.textBaseline="middle",o.strokeStyle=i.color,o.fillStyle=i.color,o.font=s.string,qe(o,i.text,f,h,s)}_computeTitleHeight(){const t=this.options.title,i=ut(t.font),s=vt(t.padding);return t.display?i.lineHeight+s.height:0}_getLegendItemAt(t,i){let s,n,r;if(Ii(t,this.left,this.right)&&Ii(i,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(n=r[s],Ii(t,n.left,n.left+n.width)&&Ii(i,n.top,n.top+n.height))return this.legendItems[s]}return null}handleEvent(t){const i=this.options;if(!yC(t.type,i))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,r=mC(n,s);n&&!r&&tt(i.onLeave,[t,n,this],this),this._hoveredItem=s,s&&!r&&tt(i.onHover,[t,s,this],this)}else s&&tt(i.onClick,[t,s,this],this)}}function vC(e,t,i,s,n){const r=_C(s,e,t,i),o=bC(n,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function _C(e,t,i,s){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((r,o)=>r.length>o.length?r:o)),t+i.size/2+s.measureText(n).width}function bC(e,t,i){let s=e;return typeof t.text!="string"&&(s=eu(t,i)),s}function eu(e,t){const i=e.text?e.text.length+.5:0;return t*i}function yC(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var xC={id:"legend",_element:El,start(e,t,i){const s=e.legend=new El({ctx:e.ctx,options:i,chart:e});Bt.configure(e,s,i),Bt.addBox(e,s)},stop(e){Bt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const s=e.legend;Bt.configure(e,s,i),s.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const s=t.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),t.hidden=!0):(n.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(i?0:void 0),h=vt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class iu extends ve{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;const n=rt(s.text)?s.text.length:1;this._padding=vt(s.padding);const r=n*ut(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:i,left:s,bottom:n,right:r,options:o}=this,a=o.align;let l=0,c,h,u;return this.isHorizontal()?(h=mt(a,s,r),u=i+t,c=r-s):(o.position==="left"?(h=s+t,u=mt(a,n,i),l=dt*-.5):(h=r-t,u=mt(a,i,n),l=dt*.5),c=n-i),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){const t=this.ctx,i=this.options;if(!i.display)return;const s=ut(i.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);qe(t,i.text,0,0,s,{color:i.color,maxWidth:l,rotation:c,textAlign:to(i.align),textBaseline:"middle",translation:[o,a]})}}function wC(e,t){const i=new iu({ctx:e.ctx,options:t,chart:e});Bt.configure(e,i,t),Bt.addBox(e,i),e.titleBlock=i}var DC={id:"title",_element:iu,start(e,t,i){wC(e,i)},stop(e){const t=e.titleBlock;Bt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const s=e.titleBlock;Bt.configure(e,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fi={average(e){if(!e.length)return!1;let t,i,s=0,n=0,r=0;for(t=0,i=e.length;t<i;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();s+=a.x,n+=a.y,++r}}return{x:s/r,y:n/r}},nearest(e,t){if(!e.length)return!1;let i=t.x,s=t.y,n=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=dr(t,c);h<n&&(n=h,a=l)}}if(a){const l=a.tooltipPosition();i=l.x,s=l.y}return{x:i,y:s}}};function ee(e,t){return t&&(rt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function fe(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function MC(e,t){const{element:i,datasetIndex:s,index:n}=t,r=e.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(n);return{chart:e,label:o,parsed:r.getParsed(n),raw:e.data.datasets[s].data[n],formattedValue:a,dataset:r.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function Ll(e,t){const i=e.chart.ctx,{body:s,footer:n,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=ut(t.bodyFont),c=ut(t.titleFont),h=ut(t.footerFont),u=r.length,d=n.length,f=s.length,m=vt(t.padding);let p=m.height,g=0,v=s.reduce((x,w)=>x+w.before.length+w.lines.length+w.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),v){const x=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*x+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}d&&(p+=t.footerMarginTop+d*h.lineHeight+(d-1)*t.footerSpacing);let b=0;const D=function(x){g=Math.max(g,i.measureText(x).width+b)};return i.save(),i.font=c.string,G(e.title,D),i.font=l.string,G(e.beforeBody.concat(e.afterBody),D),b=t.displayColors?o+2+t.boxPadding:0,G(s,x=>{G(x.before,D),G(x.lines,D),G(x.after,D)}),b=0,i.font=h.string,G(e.footer,D),i.restore(),g+=m.width,{width:g,height:p}}function $C(e,t){const{y:i,height:s}=t;return i<s/2?"top":i>e.height-s/2?"bottom":"center"}function kC(e,t,i,s){const{x:n,width:r}=s,o=i.caretSize+i.caretPadding;if(e==="left"&&n+r+o>t.width||e==="right"&&n-r-o<0)return!0}function PC(e,t,i,s){const{x:n,width:r}=i,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return s==="center"?c=n<=(a+l)/2?"left":"right":n<=r/2?c="left":n>=o-r/2&&(c="right"),kC(c,e,t,i)&&(c="center"),c}function Fl(e,t,i){const s=i.yAlign||t.yAlign||$C(e,i);return{xAlign:i.xAlign||t.xAlign||PC(e,t,i,s),yAlign:s}}function SC(e,t){let{x:i,width:s}=e;return t==="right"?i-=s:t==="center"&&(i-=s/2),i}function OC(e,t,i){let{y:s,height:n}=e;return t==="top"?s+=i:t==="bottom"?s-=n+i:s-=n/2,s}function Yl(e,t,i,s){const{caretSize:n,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=i,c=n+r,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:f}=ii(o);let m=SC(t,a);const p=OC(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(h,d)+n:a==="right"&&(m+=Math.max(u,f)+n),{x:Ht(m,0,s.width-t.width),y:Ht(p,0,s.height-t.height)}}function Ls(e,t,i){const s=vt(i.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function Rl(e){return ee([],fe(e))}function TC(e,t,i){return Ee(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function zl(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const su={beforeTitle:ue,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,s=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return i[t.dataIndex]}return""},afterTitle:ue,beforeBody:ue,beforeLabel:ue,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return it(i)||(t+=i),t},labelColor(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:ue,afterBody:ue,beforeFooter:ue,footer:ue,afterFooter:ue};function $t(e,t,i,s){const n=e[t].call(i,s);return typeof n>"u"?su[t].call(i,s):n}class vr extends ve{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&i.options.animation&&s.animations,r=new Bh(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=TC(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:s}=i,n=$t(s,"beforeTitle",this,t),r=$t(s,"title",this,t),o=$t(s,"afterTitle",this,t);let a=[];return a=ee(a,fe(n)),a=ee(a,fe(r)),a=ee(a,fe(o)),a}getBeforeBody(t,i){return Rl($t(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:s}=i,n=[];return G(t,r=>{const o={before:[],lines:[],after:[]},a=zl(s,r);ee(o.before,fe($t(a,"beforeLabel",this,r))),ee(o.lines,$t(a,"label",this,r)),ee(o.after,fe($t(a,"afterLabel",this,r))),n.push(o)}),n}getAfterBody(t,i){return Rl($t(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:s}=i,n=$t(s,"beforeFooter",this,t),r=$t(s,"footer",this,t),o=$t(s,"afterFooter",this,t);let a=[];return a=ee(a,fe(n)),a=ee(a,fe(r)),a=ee(a,fe(o)),a}_createItems(t){const i=this._active,s=this.chart.data,n=[],r=[],o=[];let a=[],l,c;for(l=0,c=i.length;l<c;++l)a.push(MC(this.chart,i[l]));return t.filter&&(a=a.filter((h,u,d)=>t.filter(h,u,d,s))),t.itemSort&&(a=a.sort((h,u)=>t.itemSort(h,u,s))),G(a,h=>{const u=zl(t.callbacks,h);n.push($t(u,"labelColor",this,h)),r.push($t(u,"labelPointStyle",this,h)),o.push($t(u,"labelTextColor",this,h))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,i){const s=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(!n.length)this.opacity!==0&&(r={opacity:0});else{const a=Fi[s.position].call(this,n,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Ll(this,s),c=Object.assign({},a,l),h=Fl(this.chart,s,c),u=Yl(s,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,s,n){const r=this.getCaretPosition(t,s,n);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)}getCaretPosition(t,i,s){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=ii(a),{x:d,y:f}=t,{width:m,height:p}=i;let g,v,b,D,x,w;return r==="center"?(x=f+p/2,n==="left"?(g=d,v=g-o,D=x+o,w=x-o):(g=d+m,v=g+o,D=x-o,w=x+o),b=g):(n==="left"?v=d+Math.max(l,h)+o:n==="right"?v=d+m-Math.max(c,u)-o:v=this.caretX,r==="top"?(D=f,x=D-o,g=v-o,b=v+o):(D=f+p,x=D+o,g=v+o,b=v-o),w=D),{x1:g,x2:v,x3:b,y1:D,y2:x,y3:w}}drawTitle(t,i,s){const n=this.title,r=n.length;let o,a,l;if(r){const c=si(s.rtl,this.x,this.width);for(t.x=Ls(this,s.titleAlign,s),i.textAlign=c.textAlign(s.titleAlign),i.textBaseline="middle",o=ut(s.titleFont),a=s.titleSpacing,i.fillStyle=s.titleColor,i.font=o.string,l=0;l<r;++l)i.fillText(n[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,i,s,n,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c,boxPadding:h}=r,u=ut(r.bodyFont),d=Ls(this,"left",r),f=n.x(d),m=l<u.lineHeight?(u.lineHeight-l)/2:0,p=i.y+m;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=n.leftForLtr(f,c)+c/2,b=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,pr(t,g,v,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,pr(t,g,v,b)}else{t.lineWidth=K(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=n.leftForLtr(f,c-h),v=n.leftForLtr(n.xPlus(f,1),c-h-2),b=ii(o.borderRadius);Object.values(b).some(D=>D!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,hn(t,{x:g,y:p,w:c,h:l,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),hn(t,{x:v,y:p+1,w:c-2,h:l-2,radius:b}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(v,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,i,s){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=s,u=ut(s.bodyFont);let d=u.lineHeight,f=0;const m=si(s.rtl,this.x,this.width),p=function(S){i.fillText(S,m.x(t.x+f),t.y+d/2),t.y+=d+r},g=m.textAlign(o);let v,b,D,x,w,P,k;for(i.textAlign=o,i.textBaseline="middle",i.font=u.string,t.x=Ls(this,g,s),i.fillStyle=s.bodyColor,G(this.beforeBody,p),f=a&&g!=="right"?o==="center"?c/2+h:c+2+h:0,x=0,P=n.length;x<P;++x){for(v=n[x],b=this.labelTextColors[x],i.fillStyle=b,G(v.before,p),D=v.lines,a&&D.length&&(this._drawColorBox(i,t,x,m,s),d=Math.max(u.lineHeight,l)),w=0,k=D.length;w<k;++w)p(D[w]),d=u.lineHeight;G(v.after,p)}f=0,d=u.lineHeight,G(this.afterBody,p),t.y-=r}drawFooter(t,i,s){const n=this.footer,r=n.length;let o,a;if(r){const l=si(s.rtl,this.x,this.width);for(t.x=Ls(this,s.footerAlign,s),t.y+=s.footerMarginTop,i.textAlign=l.textAlign(s.footerAlign),i.textBaseline="middle",o=ut(s.footerFont),i.fillStyle=s.footerColor,i.font=o.string,a=0;a<r;++a)i.fillText(n[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,i,s,n){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:h}=s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=ii(n.cornerRadius);i.fillStyle=n.backgroundColor,i.strokeStyle=n.borderColor,i.lineWidth=n.borderWidth,i.beginPath(),i.moveTo(a+u,l),o==="top"&&this.drawCaret(t,i,s,n),i.lineTo(a+c-d,l),i.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,i,s,n),i.lineTo(a+c,l+h-m),i.quadraticCurveTo(a+c,l+h,a+c-m,l+h),o==="bottom"&&this.drawCaret(t,i,s,n),i.lineTo(a+f,l+h),i.quadraticCurveTo(a,l+h,a,l+h-f),o==="center"&&r==="left"&&this.drawCaret(t,i,s,n),i.lineTo(a,l+u),i.quadraticCurveTo(a,l,a+u,l),i.closePath(),i.fill(),n.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,s=this.$animations,n=s&&s.x,r=s&&s.y;if(n||r){const o=Fi[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ll(this,t),l=Object.assign({},o,this._size),c=Fl(i,t,l),h=Yl(t,l,c,i);(n._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(i);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=vt(i.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,n,i),zh(t,i.textDirection),r.y+=o.top,this.drawTitle(r,t,i),this.drawBody(r,t,i),this.drawFooter(r,t,i),Nh(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const s=this._active,n=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!rn(s,n),o=this._positionChanged(n,i);(r||o)&&(this._active=n,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,s=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(t,r,i,s),a=this._positionChanged(o,t),l=i||!rn(o,r)||a;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),l}_getActiveElements(t,i,s,n){const r=this.options;if(t.type==="mouseout")return[];if(!n)return i;const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,i){const{caretX:s,caretY:n,options:r}=this,o=Fi[r.position].call(this,t,i);return o!==!1&&(s!==o.x||n!==o.y)}}H(vr,"positioners",Fi);var CC={id:"tooltip",_element:vr,positioners:Fi,afterInit(e,t,i){i&&(e.tooltip=new vr({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:su},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const AC=(e,t,i,s)=>(typeof t=="string"?(i=e.push(t)-1,s.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function IC(e,t,i,s){const n=e.indexOf(t);if(n===-1)return AC(e,t,i,s);const r=e.lastIndexOf(t);return n!==r?i:n}const EC=(e,t)=>e===null?null:Ht(Math.round(e),0,t);function Nl(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class _r extends Ze{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const s=this.getLabels();for(const{index:n,label:r}of i)s[n]===r&&s.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(it(t))return null;const s=this.getLabels();return i=isFinite(i)&&s[i]===t?i:IC(s,t,j(i,t),this._addedLabels),EC(i,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),i||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const t=this.min,i=this.max,s=this.options.offset,n=[];let r=this.getLabels();r=t===0&&i===r.length-1?r:r.slice(t,i+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=i;o++)n.push({value:o});return n}getLabelForValue(t){return Nl.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}H(_r,"id","category"),H(_r,"defaults",{ticks:{callback:Nl}});function LC(e,t){const i=[],{bounds:n,step:r,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:d}=e,f=r||1,m=h-1,{min:p,max:g}=t,v=!it(o),b=!it(a),D=!it(c),x=(g-p)/(u+1);let w=qa((g-p)/m/f)*f,P,k,S,A;if(w<1e-14&&!v&&!b)return[{value:p},{value:g}];A=Math.ceil(g/w)-Math.floor(p/w),A>m&&(w=qa(A*w/m/f)*f),it(l)||(P=Math.pow(10,l),w=Math.ceil(w*P)/P),n==="ticks"?(k=Math.floor(p/w)*w,S=Math.ceil(g/w)*w):(k=p,S=g),v&&b&&r&&M2((a-o)/r,w/1e3)?(A=Math.round(Math.min((a-o)/w,h)),w=(a-o)/A,k=o,S=a):D?(k=v?o:k,S=b?a:S,A=c-1,w=(S-k)/A):(A=(S-k)/w,ji(A,Math.round(A),w/1e3)?A=Math.round(A):A=Math.ceil(A));const Y=Math.max(Ga(w),Ga(k));P=Math.pow(10,it(l)?Y:l),k=Math.round(k*P)/P,S=Math.round(S*P)/P;let L=0;for(v&&(d&&k!==o?(i.push({value:o}),k<o&&L++,ji(Math.round((k+L*w)*P)/P,o,Hl(o,x,e))&&L++):k<o&&L++);L<A;++L)i.push({value:Math.round((k+L*w)*P)/P});return b&&d&&S!==a?i.length&&ji(i[i.length-1].value,a,Hl(a,x,e))?i[i.length-1].value=a:i.push({value:a}):(!b||S===a)&&i.push({value:S}),i}function Hl(e,t,{horizontal:i,minRotation:s}){const n=Pe(s),r=(i?Math.sin(n):Math.cos(n))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class pn extends Ze{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return it(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:s}=this.getUserBounds();let{min:n,max:r}=this;const o=l=>n=i?n:l,a=l=>r=s?r:l;if(t){const l=ai(n),c=ai(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(n===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(n-l)}this.min=n,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:i,stepSize:s}=t,n;return s?(n=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),i=i||11),i&&(n=Math.min(i,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},r=this._range||this,o=LC(n,r);return t.bounds==="ticks"&&Mh(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let i=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const n=(s-i)/Math.max(t.length-1,1)/2;i-=n,s+=n}this._startValue=i,this._endValue=s,this._valueRange=s-i}getLabelForValue(t){return eo(t,this.chart.options.locale,this.options.ticks.format)}}class br extends pn{determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=ft(t)?t:0,this.max=ft(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,s=Pe(this.options.ticks.minRotation),n=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,r.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}H(br,"id","linear"),H(br,"defaults",{ticks:{callback:On.formatters.numeric}});const ns=e=>Math.floor(ke(e)),ze=(e,t)=>Math.pow(10,ns(e)+t);function Bl(e){return e/Math.pow(10,ns(e))===1}function jl(e,t,i){const s=Math.pow(10,i),n=Math.floor(e/s);return Math.ceil(t/s)-n}function FC(e,t){const i=t-e;let s=ns(i);for(;jl(e,t,s)>10;)s++;for(;jl(e,t,s)<10;)s--;return Math.min(s,ns(e))}function YC(e,{min:t,max:i}){t=Et(e.min,t);const s=[],n=ns(t);let r=FC(t,i),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=n>r?Math.pow(10,n):0,c=Math.round((t-l)*o)/o,h=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((c-h)/Math.pow(10,r)),d=Et(e.min,Math.round((l+h+u*Math.pow(10,r))*o)/o);for(;d<i;)s.push({value:d,major:Bl(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,o=r>=0?1:o),d=Math.round((l+h+u*Math.pow(10,r))*o)/o;const f=Et(e.max,d);return s.push({value:f,major:Bl(f),significand:u}),s}class Wl extends Ze{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){const s=pn.prototype.parse.apply(this,[t,i]);if(s===0){this._zero=!0;return}return ft(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=ft(t)?Math.max(0,t):null,this.max=ft(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ft(this._userMin)&&(this.min=t===ze(this.min,0)?ze(this.min,-1):ze(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let s=this.min,n=this.max;const r=a=>s=t?s:a,o=a=>n=i?n:a;s===n&&(s<=0?(r(1),o(10)):(r(ze(s,-1)),o(ze(n,1)))),s<=0&&r(ze(n,-1)),n<=0&&o(ze(s,1)),this.min=s,this.max=n}buildTicks(){const t=this.options,i={min:this._userMin,max:this._userMax},s=YC(i,this);return t.bounds==="ticks"&&Mh(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":eo(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ke(t),this._valueRange=ke(this.max)-ke(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ke(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}}H(Wl,"id","logarithmic"),H(Wl,"defaults",{ticks:{callback:On.formatters.logarithmic,major:{enabled:!0}}});function yr(e){const t=e.ticks;if(t.display&&e.display){const i=vt(t.backdropPadding);return j(t.font&&t.font.size,ot.font.size)+i.height}return 0}function RC(e,t,i){return i=rt(i)?i:[i],{w:V2(e,t.string,i),h:i.length*t.lineHeight}}function Vl(e,t,i,s,n){return e===s||e===n?{start:t-i/2,end:t+i/2}:e<s||e>n?{start:t-i,end:t}:{start:t,end:t+i}}function zC(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),s=[],n=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?dt/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));n[l]=c.padding;const h=e.getPointPosition(l,e.drawingArea+n[l],a),u=ut(c.font),d=RC(e.ctx,u,e._pointLabels[l]);s[l]=d;const f=Xt(e.getIndexAngle(l)+a),m=Math.round(Qr(f)),p=Vl(m,h.x,d.w,0,180),g=Vl(m,h.y,d.h,90,270);NC(i,t,f,p,g)}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=HC(e,s,n)}function NC(e,t,i,s,n){const r=Math.abs(Math.sin(i)),o=Math.abs(Math.cos(i));let a=0,l=0;s.start<t.l?(a=(t.l-s.start)/r,e.l=Math.min(e.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),n.start<t.t?(l=(t.t-n.start)/o,e.t=Math.min(e.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function HC(e,t,i){const s=[],n=e._pointLabels.length,r=e.options,o=yr(r)/2,a=e.drawingArea,l=r.pointLabels.centerPointLabels?dt/n:0;for(let c=0;c<n;c++){const h=e.getPointPosition(c,a+o+i[c],l),u=Math.round(Qr(Xt(h.angle+St))),d=t[c],f=WC(h.y,d.h,u),m=BC(u),p=jC(h.x,d.w,m);s.push({x:h.x,y:f,textAlign:m,left:p,top:f,right:p+d.w,bottom:f+d.h})}return s}function BC(e){return e===0||e===180?"center":e<180?"left":"right"}function jC(e,t,i){return i==="right"?e-=t:i==="center"&&(e-=t/2),e}function WC(e,t,i){return i===90||i===270?e-=t/2:(i>270||i<90)&&(e-=t),e}function VC(e,t){const{ctx:i,options:{pointLabels:s}}=e;for(let n=t-1;n>=0;n--){const r=s.setContext(e.getPointLabelContext(n)),o=ut(r.font),{x:a,y:l,textAlign:c,left:h,top:u,right:d,bottom:f}=e._pointLabelItems[n],{backdropColor:m}=r;if(!it(m)){const p=ii(r.borderRadius),g=vt(r.backdropPadding);i.fillStyle=m;const v=h-g.left,b=u-g.top,D=d-h+g.width,x=f-u+g.height;Object.values(p).some(w=>w!==0)?(i.beginPath(),hn(i,{x:v,y:b,w:D,h:x,radius:p}),i.fill()):i.fillRect(v,b,D,x)}qe(i,e._pointLabels[n],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}function nu(e,t,i,s){const{ctx:n}=e;if(i)n.arc(e.xCenter,e.yCenter,t,0,Wt);else{let r=e.getPointPosition(0,t);n.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=e.getPointPosition(o,t),n.lineTo(r.x,r.y)}}function UC(e,t,i,s,n){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!s||!a||!l||i<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(n.dash),r.lineDashOffset=n.dashOffset,r.beginPath(),nu(e,i,o,s),r.closePath(),r.stroke(),r.restore())}function KC(e,t,i){return Ee(e,{label:i,index:t,type:"pointLabel"})}class Fs extends pn{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=vt(yr(this.options)/2),i=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(i,s)/2)}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!1);this.min=ft(t)&&!isNaN(t)?t:0,this.max=ft(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/yr(this.options))}generateTickLabels(t){pn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,s)=>{const n=tt(this.options.pointLabels.callback,[i,s],this);return n||n===0?n:""}).filter((i,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?zC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,s,n){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,s,n))}getIndexAngle(t){const i=Wt/(this._pointLabels.length||1),s=this.options.startAngle||0;return Xt(t*i+Pe(s))}getDistanceFromCenterForValue(t){if(it(t))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(it(t))return NaN;const i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){const i=this._pointLabels||[];if(t>=0&&t<i.length){const s=i[t];return KC(this.getContext(),t,s)}}getPointPosition(t,i,s=0){const n=this.getIndexAngle(t)-St+s;return{x:Math.cos(n)*i+this.xCenter,y:Math.sin(n)*i+this.yCenter,angle:n}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:i,top:s,right:n,bottom:r}=this._pointLabelItems[t];return{left:i,top:s,right:n,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:i}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),nu(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,i=this.options,{angleLines:s,grid:n,border:r}=i,o=this._pointLabels.length;let a,l,c;if(i.pointLabels.display&&VC(this,o),n.display&&this.ticks.forEach((h,u)=>{if(u!==0){l=this.getDistanceFromCenterForValue(h.value);const d=this.getContext(u),f=n.setContext(d),m=r.setContext(d);UC(this,f,l,o,m)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const h=s.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:d}=h;!d||!u||(t.lineWidth=d,t.strokeStyle=u,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,i=this.options,s=i.ticks;if(!s.display)return;const n=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!i.reverse)return;const c=s.setContext(this.getContext(l)),h=ut(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const u=vt(c.backdropPadding);t.fillRect(-o/2-u.left,-r-h.size/2-u.top,o+u.width,h.size+u.height)}qe(t,a.label,0,-r,h,{color:c.color})}),t.restore()}drawTitle(){}}H(Fs,"id","radialLinear"),H(Fs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:On.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),H(Fs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),H(Fs,"descriptors",{angleLines:{_fallback:"grid"}});const Cn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pt=Object.keys(Cn);function qC(e,t){return e-t}function Ul(e,t){if(it(t))return null;const i=e._adapter,{parser:s,round:n,isoWeekday:r}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),ft(o)||(o=typeof s=="string"?i.parse(o,s):i.parse(o)),o===null?null:(n&&(o=n==="week"&&(es(r)||r===!0)?i.startOf(o,"isoWeek",r):i.startOf(o,n)),+o)}function Kl(e,t,i,s){const n=Pt.length;for(let r=Pt.indexOf(e);r<n-1;++r){const o=Cn[Pt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((i-t)/(a*o.size))<=s)return Pt[r]}return Pt[n-1]}function GC(e,t,i,s,n){for(let r=Pt.length-1;r>=Pt.indexOf(i);r--){const o=Pt[r];if(Cn[o].common&&e._adapter.diff(n,s,o)>=t-1)return o}return Pt[i?Pt.indexOf(i):0]}function XC(e){for(let t=Pt.indexOf(e)+1,i=Pt.length;t<i;++t)if(Cn[Pt[t]].common)return Pt[t]}function ql(e,t,i){if(!i)e[t]=!0;else if(i.length){const{lo:s,hi:n}=Jr(i,t),r=i[s]>=t?i[s]:i[n];e[r]=!0}}function ZC(e,t,i,s){const n=e._adapter,r=+n.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+n.add(a,1,s))l=i[a],l>=0&&(t[l].major=!0);return t}function Gl(e,t,i){const s=[],n={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],n[a]=o,s.push({value:a,major:!1});return r===0||!i?s:ZC(e,s,n,i)}class gn extends Ze{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const s=t.time||(t.time={}),n=this._adapter=new QO._date(t.adapters.date);n.init(i),Bi(s.displayFormats,n.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:Ul(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,s=t.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=ft(n)&&!isNaN(n)?n:+i.startOf(Date.now(),s),r=ft(r)&&!isNaN(r)?r:+i.endOf(Date.now(),s)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],s=t[t.length-1]),{min:i,max:s}}buildTicks(){const t=this.options,i=t.time,s=t.ticks,n=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=this.max,a=O2(n,r,o);return this._unit=i.unit||(s.autoSkip?Kl(i.minUnit,this.min,this.max,this._getLabelCapacity(r)):GC(this,a.length,i.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:XC(this._unit),this.initOffsets(n),t.reverse&&a.reverse(),Gl(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,s=0,n,r;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?i=1-n:i=(this.getDecimalForValue(t[1])-n)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;i=Ht(i,0,o),s=Ht(s,0,o),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const t=this._adapter,i=this.min,s=this.max,n=this.options,r=n.time,o=r.unit||Kl(r.minUnit,i,s,this._getLabelCapacity(i)),a=j(n.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=es(l)||l===!0,h={};let u=i,d,f;if(c&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,c?"day":o),t.diff(s,i,o)>1e5*a)throw new Error(i+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=n.ticks.source==="data"&&this.getDataTimestamps();for(d=u,f=0;d<s;d=+t.add(d,a,o),f++)ql(h,d,m);return(d===s||n.bounds==="ticks"||f===1)&&ql(h,d,m),Object.keys(h).sort((p,g)=>p-g).map(p=>+p)}getLabelForValue(t){const i=this._adapter,s=this.options.time;return s.tooltipFormat?i.format(t,s.tooltipFormat):i.format(t,s.displayFormats.datetime)}format(t,i){const n=this.options.time.displayFormats,r=this._unit,o=i||n[r];return this._adapter.format(t,o)}_tickFormatFunction(t,i,s,n){const r=this.options,o=r.ticks.callback;if(o)return tt(o,[t,i,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],u=c&&a[c],d=s[i],f=c&&u&&d&&d.major;return this._adapter.format(t,n||(f?u:h))}generateTickLabels(t){let i,s,n;for(i=0,s=t.length;i<s;++i)n=t[i],n.label=this._tickFormatFunction(n.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(t){const i=this._offsets,s=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,s=this.ctx.measureText(t).width,n=Pe(this.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const i=this.options.time,s=i.displayFormats,n=s[i.unit]||s.millisecond,r=this._tickFormatFunction(t,0,Gl(this,[t],this._majorUnit),n),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],i,s;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(i=0,s=n.length;i<s;++i)t=t.concat(n[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,s;if(t.length)return t;const n=this.getLabels();for(i=0,s=n.length;i<s;++i)t.push(Ul(this,n[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return C2(t.sort(qC))}}H(gn,"id","time"),H(gn,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ys(e,t,i){let s=0,n=e.length-1,r,o,a,l;i?(t>=e[s].pos&&t<=e[n].pos&&({lo:s,hi:n}=je(e,"pos",t)),{pos:r,time:a}=e[s],{pos:o,time:l}=e[n]):(t>=e[s].time&&t<=e[n].time&&({lo:s,hi:n}=je(e,"time",t)),{time:r,pos:a}=e[s],{time:o,pos:l}=e[n]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class Xl extends gn{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=Ys(i,this.min),this._tableRange=Ys(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:s}=this,n=[],r=[];let o,a,l,c,h;for(o=0,a=t.length;o<a;++o)c=t[o],c>=i&&c<=s&&n.push(c);if(n.length<2)return[{time:i,pos:0},{time:s,pos:1}];for(o=0,a=n.length;o<a;++o)h=n[o+1],l=n[o-1],c=n[o],Math.round((h+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),s=this.getLabelTimestamps();return i.length&&s.length?t=this.normalize(i.concat(s)):t=i.length?i:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Ys(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,s=this.getDecimalForPixel(t)/i.factor-i.end;return Ys(this._table,s*this._tableRange+this._minPos,!0)}}H(Xl,"id","timeseries"),H(Xl,"defaults",gn.defaults);const ru={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},QC={type:{type:String,required:!0},...ru},JC=wu[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function ei(e){return tc(e)?Zn(e):e}function tA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return tc(t)?new Proxy(e,{}):e}function eA(e,t){const i=e.options;i&&t&&Object.assign(i,t)}function ou(e,t){e.labels=t}function au(e,t,i){const s=[];e.datasets=t.map(n=>{const r=e.datasets.find(o=>o[i]===n[i]);return!r||!n.data||s.includes(r)?{...n}:(s.push(r),Object.assign(r,n),r)})}function iA(e,t){const i={labels:[],datasets:[]};return ou(i,e.labels),au(i,e.datasets,t),i}const sA=at({props:QC,setup(e,t){let{expose:i}=t;const s=X(null),n=Ql(null);i({chart:n});const r=()=>{if(!s.value)return;const{type:l,data:c,options:h,plugins:u,datasetIdKey:d}=e,f=iA(c,d),m=tA(f,c);n.value=new ne(s.value,{type:l,data:m,options:{...h},plugins:u})},o=()=>{const l=Zn(n.value);l&&(l.destroy(),n.value=null)},a=l=>{l.update(e.updateMode)};return Ae(r),xu(o),Jl([()=>e.options,()=>e.data],(l,c)=>{let[h,u]=l,[d,f]=c;const m=Zn(n.value);if(!m)return;let p=!1;if(h){const g=ei(h),v=ei(d);g&&g!==v&&(eA(m,g),p=!0)}if(u){const g=ei(u.labels),v=ei(f.labels),b=ei(u.datasets),D=ei(f.datasets);g!==v&&(ou(m.config.data,g),p=!0),b&&b!==D&&(au(m.config.data,b,e.datasetIdKey),p=!0)}p&&a(m)},{deep:!0}),()=>R("canvas",{ref:s})}});function nA(e,t){return ne.register(t),at({props:ru,setup(i,s){let{expose:n}=s;const r=Ql(null),o=a=>{r.value=a==null?void 0:a.chart};return n({chart:r}),()=>R(sA,JC({ref:o},{type:e,...i}))}})}const rA=nA("line",js),oA=_("div",{class:"text-h6",style:{display:"flex","align-items":"center","justify-content":"center",height:"100%"}}," Error loading data ",-1),aA=_("div",{class:"text-h6",style:{display:"flex","align-items":"center","justify-content":"center",height:"100%"}}," Loading data... ",-1),lu=at({__name:"LineChart",props:{loaded:{type:Boolean},error:{type:Boolean},data:null},setup(e){const t=e;return ne.register(_r,br,Us,Li,DC,CC,xC),(i,s)=>{const n=C("v-card-item"),r=C("v-card");return t.loaded&&!t.error?(T(),B($(rA),{key:0,data:t.data},null,8,["data"])):e.loaded&&e.error?(T(),B(r,{key:1,color:"error",class:"w-full h-full mx-auto","max-width":"344",style:{height:"160px"}},{default:M(()=>[y(n,{style:{height:"100%"}},{default:M(()=>[oA]),_:1})]),_:1})):(T(),B(r,{key:2,loading:!0,color:"grey lighten-4",class:"w-full h-full mx-auto","max-width":"344",style:{height:"160px"}},{default:M(()=>[y(n,{style:{height:"100%"}},{default:M(()=>[aA]),_:1})]),_:1}))}}}),lA=at({__name:"FWI",props:{coordinates:null,from:null,to:null},setup(e){const t=e,i=X(!1),s=X(null),n=X(!1);return Ae(async()=>{i.value=!1;try{const r=new Date(t.from);r.setDate(r.getDate()-2);const o=r.toISOString().split("T")[0],a=new Date(t.to);a.setDate(a.getDate()+4);const l=a.toISOString().split("T")[0],h=await(await fetch(`https://api.wild-fire.eu/rest/2/burntareas/charts/wms?model=ecmwf&day_gte=${o}&day_lte=${l}&point=(${t.coordinates[0]}%20${t.coordinates[1]})`)).json();s.value={labels:h.x_data.map(u=>{const d=new Date(u);return`${d.getDate()}/${d.getMonth()+1}`}),datasets:[{label:"FWI",backgroundColor:"#f87979",data:h.y_data.fwi}]},i.value=!0,n.value=!1}catch{i.value=!0,n.value=!0}}),(r,o)=>{const a=lu;return T(),B(a,{loaded:$(i),error:$(n),data:$(s)},null,8,["loaded","error","data"])}}}),cA=_("div",{class:"text-h6",style:{display:"flex","align-items":"center","justify-content":"center",height:"100%"}}," No data ",-1),hA=at({__name:"PerimeterEvolution",props:{data:null,loading:{type:Boolean},error:{type:Boolean}},setup(e){const t=e,i=()=>{var s,n;return{labels:(((s=t.data)==null?void 0:s.dss_data)||[]).filter((r,o)=>o>11).map(({date:r,duration_minutes:o})=>o.toString()),datasets:[{label:"Perimeter",backgroundColor:"#f87979",data:(((n=t.data)==null?void 0:n.dss_data)||[]).filter((r,o)=>o>11).map(r=>r.perimeter)}]}};return(s,n)=>{var l;const r=lu,o=C("v-card-item"),a=C("v-card");return((l=t.data)==null?void 0:l.dss_data)&&t.data.dss_data.length>1?(T(),B(r,{key:0,loaded:!t.loading,error:t.error,data:i()},null,8,["loaded","error","data"])):(T(),B(a,{key:1,color:"grey lighten-4",class:"w-full h-full mx-auto",style:{height:"160px"}},{default:M(()=>[y(o,{style:{height:"100%"}},{default:M(()=>[cA]),_:1})]),_:1}))}}}),gs=e=>(rs("data-v-b2cf79bf"),e=e(),os(),e),uA={key:0,style:{display:"flex","flex-direction":"column",height:"100%"}},dA={style:{"flex-grow":"1"}},fA={key:0,class:"controls"},pA={key:1,class:"forecast-table"},gA={class:"forecast-table__row"},mA=gs(()=>_("b",null,"Forecast time",-1)),vA={class:"forecast-table__row"},_A=gs(()=>_("b",null,"Perimeter length",-1)),bA={class:"forecast-table__row"},yA=gs(()=>_("b",null,"Population",-1)),xA={class:"forecast-table__row"},wA=gs(()=>_("b",null,"Built up area",-1)),DA=gs(()=>_("sup",null,"2",-1)),MA=at({__name:"ForecastChart",props:{data:null,loading:{type:Boolean},error:{type:Boolean}},setup(e){const t=e,i=X([0,0]),s=X([[[[0,0]]]]),n=X([]),r=X(0);Jl(()=>t.data,l=>{l&&l.dss_data.length>1&&(n.value=l==null?void 0:l.dss_data.slice(12),i.value=l.effis_data.centroid.coordinates,s.value=o())});const o=()=>n.value[r.value].shape.coordinates,a=l=>{if(r.value+=l,r.value<0){r.value=0;return}if(r.value>n.value.length-1){r.value=n.value.length-1;return}s.value=o()};return(l,c)=>{const h=bh,u=C("v-btn"),d=C("v-card-item"),f=C("v-card");return!e.loading&&!e.error&&$(n).length>1?(T(),N("div",uA,[_("div",dA,[y(h,{center:$(i),perimeter:$(s),loading:e.loading,error:e.error},null,8,["center","perimeter","loading","error"])]),!e.loading&&!e.error?(T(),N("div",fA,[y(u,{variant:"outlined",onClick:c[0]||(c[0]=m=>a(-1))},{default:M(()=>[z("\u2190")]),_:1}),_("p",null,E($(r)+1)+" / "+E($(n).length),1),y(u,{variant:"outlined",onClick:c[1]||(c[1]=m=>a(1))},{default:M(()=>[z("\u2192")]),_:1})])):nt("",!0),!e.loading&&!e.error?(T(),N("div",pA,[_("div",gA,[mA,_("p",null,E($(n)[$(r)].date.slice(0,10))+" "+E($(n)[$(r)].forecast.Hour),1)]),_("div",vA,[_A,_("p",null,E($(n)[$(r)].perimeter.toString())+" km",1)]),_("div",bA,[yA,_("p",null,E($(n)[$(r)].forecast.pop_total),1)]),_("div",xA,[wA,_("p",null,[z(E($(n)[$(r)].forecast.built_up_area)+" m",1),DA])])])):nt("",!0)])):!e.loading&&!e.error?(T(),B(f,{key:1,color:"grey lighten-4",style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}},{default:M(()=>[y(d,{class:"text-h6"},{default:M(()=>[z(" No data ")]),_:1})]),_:1})):nt("",!0)}}});const $A=Ge(MA,[["__scopeId","data-v-b2cf79bf"]]),kA={style:{display:"flex","flex-direction":"column"}},PA=_("div",{style:{display:"flex","justify-content":"space-between"}},[_("b",null,"Name"),_("b",null,"Value [%]")],-1),SA={style:{display:"flex","justify-content":"space-between"}},OA=_("p",null,"Broad leaf forest",-1),TA={style:{display:"flex","justify-content":"space-between"}},CA=_("p",null,"Conifer",-1),AA={style:{display:"flex","justify-content":"space-between"}},IA=_("p",null,"Mixed forests",-1),EA={style:{display:"flex","justify-content":"space-between"}},LA=_("p",null,"Transitional woodland-shrubland",-1),FA={style:{display:"flex","justify-content":"space-between"}},YA=_("p",null,"Artificial surfaces",-1),RA={style:{display:"flex","justify-content":"space-between"}},zA=_("p",null,"Other land cover",-1),NA={style:{display:"flex","justify-content":"space-between"}},HA=_("p",null,"Other natural areas",-1),BA={style:{display:"flex","justify-content":"space-between"}},jA=_("p",null,"Natura 2K",-1),WA={style:{display:"flex","justify-content":"space-between"}},VA=_("p",null,"Sclerophyll",-1),UA={style:{display:"flex","justify-content":"space-between"}},KA=_("p",null,"Agricolture areas",-1),qA=at({__name:"LandcoverDamages",props:{data:null},setup(e){const t=e;return(i,s)=>(T(),N("div",kA,[PA,_("div",SA,[OA,_("p",null,E(t.data.effis_data.broadleaved_forest_percent.toFixed(1)),1)]),_("div",TA,[CA,_("p",null,E(t.data.effis_data.coniferous_forest_percent.toFixed(1)),1)]),_("div",AA,[IA,_("p",null,E(t.data.effis_data.mixed_forest_percent.toFixed(1)),1)]),_("div",EA,[LA,_("p",null,E(t.data.effis_data.transitional_vegetation_percent.toFixed(1)),1)]),_("div",FA,[YA,_("p",null,E(t.data.effis_data.artificial_percent.toFixed(1)),1)]),_("div",RA,[zA,_("p",null,E(t.data.effis_data.other_percent.toFixed(1)),1)]),_("div",NA,[HA,_("p",null,E(t.data.effis_data.other_natural_percent.toFixed(1)),1)]),_("div",BA,[jA,_("p",null,E(t.data.effis_data.natura2k_percent.toFixed(1)),1)]),_("div",WA,[VA,_("p",null,E(t.data.effis_data.sclerophillous_vegetation_percent.toFixed(1)),1)]),_("div",UA,[KA,_("p",null,E(t.data.effis_data.agriculture_percent.toFixed(1)),1)])]))}}),GA=[{id:1,code:"rome",name:"Rome",coordinates:[12.51133,41.89193]},{id:2,code:"marseille",name:"Marseille",coordinates:[5.36978,43.296482]},{id:3,code:"madrid",name:"Madrid",coordinates:[-3.70256,40.4165]}];class Xn{static distance(t,i){let s=this.toRadian(t[0]),n=this.toRadian(t[1]),r=this.toRadian(i[0]),o=this.toRadian(i[1]),a=r-s,l=o-n,c=Math.pow(Math.sin(l/2),2)+Math.cos(n)*Math.cos(o)*Math.pow(Math.sin(a/2),2),h=2*Math.asin(Math.sqrt(c));return Math.round(h*6371)}static estimatedTime(t){return t/300}static toRadian(t){return t*Math.PI/180}}const co=class{constructor(){H(this,"_colors",["","#ffeb3b","#f44336"]);H(this,"_tooltips",{people:["Not affected","May be affected in the next 24 hours","Affected"],infrastructures:["Not affected","May be affected in the next 24 hours","Affected"],protected:["Not affected","May be affected in the next 24 hours","Affected"],size:["Less than 100 ha","Between 100 and 500 ha","More than 500 ha"],upland:["Flat","Hilly","Mountainous"]})}static getInstance(){return this._instance||(this._instance=new co),this._instance}get color(){return this._colors}get tooltips(){return this._tooltips}info(t,i){return{color:this._colors[i],text:this._tooltips[t][i]}}};let Ks=co;H(Ks,"_instance");const ht=Ks.getInstance(),Le=e=>(rs("data-v-207caa88"),e=e(),os(),e),XA={id:"compared-fire"},ZA={style:{display:"flex","align-items":"center","justify-content":"space-between"}},QA={style:{display:"flex","align-items":"center"}},JA={style:{"margin-left":"1rem"}},tI={style:{display:"flex","align-items":"baseline","justify-content":"space-between"}},eI={class:"little-box"},iI={class:"little-box"},sI={class:"mid-box"},nI={class:"ranking-line"},rI=Le(()=>_("p",null,"People",-1)),oI={class:"ranking-line"},aI=Le(()=>_("p",null,"Infrastructures",-1)),lI={class:"ranking-line"},cI=Le(()=>_("p",null,"Protected areas",-1)),hI={class:"ranking-line"},uI=Le(()=>_("p",null,"Size",-1)),dI={class:"ranking-line"},fI=Le(()=>_("p",null,"Terrain",-1)),pI={class:"little-box"},gI={class:"little-box"},mI={class:"little-box"},vI={class:"big-box"},_I={class:"little-box"},bI={class:"mid-box"},yI=Le(()=>_("div",{style:{display:"flex","flex-wrap":"nowrap"}},[_("b",{style:{width:"80%"}},"Base"),_("b",{style:{width:"80%"}},"Distance [km]"),_("b",{style:{width:"100%"}},"Est. Time [hh:mm]")],-1)),xI={style:{display:"flex"}},wI={style:{width:"80%"}},DI={style:{width:"80%"}},MI={style:{width:"100%"}},$I={class:"chart-box"},kI={class:"chart-box"},PI={class:"extra-big-box"},SI={class:"big-box"},OI={key:0,style:{display:"flex","flex-direction":"column"}},TI=Le(()=>_("div",{style:{display:"flex"}},[_("b",{style:{width:"100%"}},"Date/time"),_("b",{style:{width:"100%"}},"Pop."),_("b",{style:{width:"100%"}},[z("Built up. [m"),_("sup",null,"2"),z("]")])],-1)),CI={style:{display:"flex"}},AI={style:{width:"100%"}},II={style:{width:"100%"}},EI={style:{width:"100%"}},LI=Le(()=>_("div",{class:"text-h6"},"No data",-1)),FI={class:"big-box"},YI=at({__name:"ComparedFire",props:{data:null},setup(e){const t=e,i=["#4caf50","#ffeb3b","#f44336"],s=["Not critical","Critical in the next 24 hours","Critical"],n=as(),r=_e(),o=X(null),a=X(!0),l=X(!1);return Ae(async()=>{try{const c=await fetch(`https://api.wild-fire.eu/rest/firespread/forecast/${t.data.id.toString()}/`);o.value=await c.json(),a.value=!1,l.value=!1}catch{a.value=!1,l.value=!0}}),(c,h)=>{const u=C("v-icon"),d=C("v-btn"),f=C("v-card-title"),m=C("v-card-subtitle"),p=C("v-card-text"),g=bh,v=lA,b=hA,D=$A,x=C("v-card-item"),w=C("v-card"),P=qA;return T(),N("div",XA,[y(w,{class:"mx-auto rounded-t-lg",color:$(n).primary},{title:M(()=>[_("div",ZA,[_("div",QA,[y(u,{icon:"mdi-fire"}),_("p",JA,"Fire "+E(e.data.id),1)]),y(d,{icon:"",border:"none",variant:"flat",color:"transparent",onClick:h[0]||(h[0]=()=>$(r).toggleCompare(e.data))},{default:M(()=>[y(u,{icon:"mdi-close",size:"x-large"})]),_:1})])]),default:M(()=>[_("div",tI,[y(f,null,{default:M(()=>[z(E(t.data.effis_data.admlvl3||t.data.effis_data.country),1)]),_:1}),y(m,null,{default:M(()=>[z(E(t.data.effis_data.iso2),1)]),_:1})]),_("div",eI,[y(m,null,{default:M(()=>[z(" Location ")]),_:1}),y(p,null,{default:M(()=>[z(E([t.data.effis_data.country,t.data.effis_data.admlvl3||"",t.data.effis_data.admlvl4||"",t.data.effis_data.admlvl5||""].filter(k=>!!k).join(" / ")),1)]),_:1})]),_("div",iI,[y(m,null,{default:M(()=>[z(" Ranking ")]),_:1}),y(p,{style:De(`color: ${i[t.data.ranking]}`)},{default:M(()=>[z(E(s[t.data.ranking]),1)]),_:1},8,["style"])]),_("div",sI,[y(m,null,{default:M(()=>[z(" Ranking indicators ")]),_:1}),y(p,null,{default:M(()=>[_("div",nI,[rI,_("p",{style:De(`color: ${$(ht).info("people",t.data.indicators.people).color}`)},E($(ht).info("people",t.data.indicators.people).text),5)]),_("div",oI,[aI,_("p",{style:De(`color: ${$(ht).info("infrastructures",t.data.indicators.infrastructures).color}`)},E($(ht).info("infrastructures",t.data.indicators.infrastructures).text),5)]),_("div",lI,[cI,_("p",{style:De(`color: ${$(ht).info("protected",t.data.indicators.protected).color}`)},E($(ht).info("protected",t.data.indicators.protected).text),5)]),_("div",hI,[uI,_("p",{style:De(`color: ${$(ht).info("size",t.data.indicators.size).color}`)},E($(ht).info("size",t.data.indicators.size).text),5)]),_("div",dI,[fI,_("p",{style:De(`color: ${$(ht).info("upland",t.data.indicators.upland).color}`)},E($(ht).info("upland",t.data.indicators.upland).text),5)])]),_:1})]),_("div",pI,[y(m,null,{default:M(()=>[z(" Fire size ")]),_:1}),y(p,null,{default:M(()=>[z(E(t.data.effis_data.area)+" ha ",1)]),_:1})]),_("div",gI,[y(m,null,{default:M(()=>[z(" Initial date / Last update ")]),_:1}),y(p,null,{default:M(()=>[z(E(t.data.effis_data.initialdate.slice(0,10))+" / "+E(t.data.effis_data.finaldate.slice(0,10)),1)]),_:1})]),_("div",mI,[y(m,null,{default:M(()=>[z(" Coordinates ")]),_:1}),y(p,null,{default:M(()=>[z(" ["+E(t.data.effis_data.centroid.coordinates[0].toFixed(6))+", "+E(t.data.effis_data.centroid.coordinates[1].toFixed(6))+"] ",1)]),_:1})]),_("div",vI,[y(m,null,{default:M(()=>[z(" Fire perimeter ")]),_:1}),y(p,{style:{height:"100%",width:"100%"}},{default:M(()=>[y(g,{center:t.data.effis_data.centroid.coordinates,loading:!1,error:!1,perimeter:t.data.effis_data.shape.coordinates},null,8,["center","perimeter"])]),_:1})]),_("div",_I,[y(m,null,{default:M(()=>[z(" PDF Report ")]),_:1}),y(p,null,{default:M(()=>[y(d,{size:"small"},{default:M(()=>[z("Download")]),_:1})]),_:1})]),_("div",bI,[y(m,null,{default:M(()=>[z(" Distance from bases ")]),_:1}),y(p,null,{default:M(()=>[yI,(T(!0),N(Dt,null,Lt($(GA),k=>(T(),N("div",xI,[_("p",wI,E(k.name),1),_("p",DI,E($(Xn).distance(k.coordinates,t.data.effis_data.centroid.coordinates)),1),_("p",MI,E($(Xn).estimatedTime($(Xn).distance(k.coordinates,t.data.effis_data.centroid.coordinates)).toFixed(0)),1)]))),256))]),_:1})]),_("div",$I,[y(m,null,{default:M(()=>[z("Fire weather index")]),_:1}),y(p,null,{default:M(()=>[y(v,{coordinates:t.data.effis_data.centroid.coordinates,from:t.data.effis_data.initialdate.slice(0,10),to:t.data.effis_data.finaldate.slice(0,10)},null,8,["coordinates","from","to"])]),_:1})]),_("div",kI,[y(m,null,{default:M(()=>[z("Evolution of perimeter length")]),_:1}),y(p,null,{default:M(()=>[y(b,{loading:$(a),error:$(l),data:$(o)},null,8,["loading","error","data"])]),_:1})]),_("div",PI,[y(m,null,{default:M(()=>[z("Fire perimeter evolution forecast")]),_:1}),y(p,{style:{height:"95%"}},{default:M(()=>[y(D,{loading:$(a),error:$(l),data:$(o)},null,8,["loading","error","data"])]),_:1})]),_("div",SI,[y(m,null,{default:M(()=>[z("Forecast")]),_:1}),y(p,{class:"scrollable",style:{flex:"1"}},{default:M(()=>{var k,S;return[!$(a)&&((S=(k=$(o))==null?void 0:k.dss_data)==null?void 0:S.length)&&$(o).dss_data.length>1?(T(),N("div",OI,[TI,(T(!0),N(Dt,null,Lt($(o).dss_data.slice(12),A=>(T(),N("div",null,[_("div",CI,[_("p",AI,E(A.date.slice(5,10))+" "+E(A.forecast.Hour.toString()),1),_("p",II,E(A.forecast.pop_total.toString()),1),_("p",EI,E(A.forecast.built_up_area.toString()),1)])]))),256))])):(T(),B(w,{key:1,color:"grey lighten-4",style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}},{default:M(()=>[y(x,null,{default:M(()=>[LI]),_:1})]),_:1}))]}),_:1})]),_("div",FI,[y(m,null,{default:M(()=>[z("Landcover damages")]),_:1}),y(p,null,{default:M(()=>[y(P,{class:"scrollable",data:t.data},null,8,["data"])]),_:1})])]),_:1},8,["color"])])}}});const RI=Ge(YI,[["__scopeId","data-v-207caa88"]]),zI={id:"comparator"},NI={id:"scroller"},HI=at({__name:"Comparator",setup(e){const t=_e();return(i,s)=>{const n=RI;return T(),N("div",zI,[_("div",NI,[(T(!0),N(Dt,null,Lt($(t).compare,r=>(T(),B(n,{data:r},null,8,["data"]))),256))])])}}});const BI=Ge(HI,[["__scopeId","data-v-3a964d08"]]),jI={style:{display:"flex","align-items":"center","justify-content":"space-between"}},WI={class:"text-overline"},VI={class:"text-h6"},UI={style:{"text-align":"right"}},KI={class:"text-caption"},qI={class:"text-caption"},GI={style:{display:"flex"}},XI=at({__name:"FireCard",props:{data:null},setup(e){const t=e,i=_e(),s=X(""),n=["#4caf50","#ffeb3b","#f44336"];Ae(()=>{s.value=`margin-bottom: 0.5rem; border-color: ${n[t.data.ranking]}`});const r=async()=>{i.toggleCompare(t.data)};return(o,a)=>{const l=C("v-card-item"),c=C("v-btn"),h=C("v-icon"),u=C("v-tooltip"),d=C("v-card-actions"),f=C("v-card");return T(),B(f,{style:De($(s)),class:"mx-auto","max-width":"344",variant:"outlined",loading:$(i).isLoading},{default:M(()=>[y(l,null,{default:M(()=>[_("div",jI,[_("div",null,[_("div",WI,E(t.data.effis_data.iso2),1),_("div",VI,E(t.data.effis_data.admlvl3||t.data.effis_data.country),1)]),_("div",UI,[_("div",KI,E(t.data.date.split("T")[0]),1),_("div",qI," Fire size: "+E(t.data.effis_data.area)+" ha ",1)])])]),_:1}),y(d,{style:{width:"100%",display:"flex","justify-content":"space-between"}},{default:M(()=>[_("div",null,[y(c,{size:"small",variant:"outlined",color:$(i).isCompared(e.data.id)?"error":"",onClick:a[0]||(a[0]=m=>r())},{default:M(()=>[z(E($(i).isCompared(e.data.id)?"Remove \u2192":"\u2190 Details"),1)]),_:1},8,["color"])]),_("div",GI,[_("div",null,[y(h,{style:{"margin-right":"0.5rem"},color:$(ht).info("people",e.data.indicators.people).color,icon:"mdi-account-multiple"},null,8,["color"]),y(u,{activator:"parent",location:"bottom"},{default:M(()=>[z("People: "+E($(ht).info("people",e.data.indicators.people).text),1)]),_:1})]),_("div",null,[y(h,{style:{"margin-right":"0.5rem"},color:$(ht).info("infrastructures",e.data.indicators.infrastructures).color,icon:"mdi-domain"},null,8,["color"]),y(u,{activator:"parent",location:"bottom"},{default:M(()=>[z("Infrastructures: "+E($(ht).info("infrastructures",e.data.indicators.infrastructures).text),1)]),_:1})]),_("div",null,[y(h,{style:{"margin-right":"0.5rem"},color:$(ht).info("protected",e.data.indicators.protected).color,icon:"mdi-pine-tree"},null,8,["color"]),y(u,{activator:"parent",location:"bottom"},{default:M(()=>[z("Protected areas: "+E($(ht).info("protected",e.data.indicators.protected).text),1)]),_:1})]),_("div",null,[y(h,{style:{"margin-right":"0.5rem"},color:$(ht).info("size",e.data.indicators.size).color,icon:"mdi-fire"},null,8,["color"]),y(u,{activator:"parent",location:"bottom"},{default:M(()=>[z("Fire size: "+E($(ht).info("size",e.data.indicators.size).text),1)]),_:1})]),_("div",null,[y(h,{style:{"margin-right":"0.5rem"},color:$(ht).info("upland",e.data.indicators.upland).color,icon:"mdi-terrain"},null,8,["color"]),y(u,{activator:"parent",location:"bottom"},{default:M(()=>[z("Terrain: "+E($(ht).info("upland",e.data.indicators.upland).text),1)]),_:1})])])]),_:1})]),_:1},8,["style","loading"])}}}),ZI={key:0,style:{display:"flex","align-items":"center","justify-content":"center",padding:"2rem"}},QI=_("p",{style:{"margin-left":"1rem"}},"No fires found",-1),JI=at({__name:"EmptyFires",setup(e){const t=_e();return(i,s)=>{const n=C("v-icon");return $(t).isLoading?nt("",!0):(T(),N("div",ZI,[y(n,{icon:"mdi-alert"}),QI]))}}}),tE=e=>(rs("data-v-7410121e"),e=e(),os(),e),eE={key:0,id:"fires"},iE={style:{display:"flex","align-items":"center","justify-content":"space-between"}},sE={style:{display:"flex","align-items":"center"}},nE=tE(()=>_("p",{style:{"margin-left":"1rem"}},"List of fires",-1)),rE={style:{"margin-bottom":"1.6rem"}},oE=at({__name:"ListOfFires",setup(e){const t=_e(),i=as();return(s,n)=>{const r=C("v-icon"),o=C("v-btn"),a=XI,l=JI,c=C("v-card");return $(t).active?(T(),N("div",eE,[y(c,{class:"mx-auto rounded-t-lg",color:$(i).primary,loading:$(t).isLoading},{title:M(()=>[_("div",iE,[_("div",sE,[y(r,{color:"#ff4000",icon:"mdi-fire"}),nE]),y(o,{icon:"",border:"none",variant:"flat",color:"transparent",onClick:n[0]||(n[0]=()=>$(t).setActive(!1))},{default:M(()=>[y(r,{icon:"mdi-close",size:"x-large"})]),_:1})])]),default:M(()=>[_("div",rE,[(T(!0),N(Dt,null,Lt($(t).list,h=>(T(),B(a,{data:h},null,8,["data"]))),256))]),$(t).count===0?(T(),B(l,{key:0})):nt("",!0)]),_:1},8,["color","loading"])])):nt("",!0)}}});const aE=Ge(oE,[["__scopeId","data-v-7410121e"]]),lE={id:"overlay"},cE=at({__name:"Overlay",setup(e){const t=xr(),i=Kr(),s=X([10,47]),n=X("EPSG:4326"),r=X(6),o=X(0),a={types:[{url:"https://api.maptiler.com/maps/b4cf7807-a184-42bd-af0e-2fe3e9a845f8/{z}/{x}/{y}.jpg?key=pNUD8X90rA79U5qeh6na",title:"Satellite Hybrid",id:"satellite"},{url:"https://api.maptiler.com/maps/7c7075ad-4695-4ff1-8144-32e3babcbd1b/{z}/{x}/{y}.jpg?key=pNUD8X90rA79U5qeh6na",title:"Topographic + Water Bodies",id:"topographic"},{url:"https://api.maptiler.com/maps/2d7bca5f-4d83-4c77-af69-b35b7766c443/{z}/{x}/{y}.jpg?key=pNUD8X90rA79U5qeh6na",title:"Streets",id:"streets"}],tiles:[{title:"Fire Weather Index (FWI))",id:"fwi",type:"wms",url:"https://ies-ows.jrc.ec.europa.eu/effis",time:new Date().toISOString().slice(0,10),layers:"ecmwf007.fwi"},{title:"GHSL Built up",id:"ghsl",type:"wms",url:"https://ies-ows.jrc.ec.europa.eu/gwis",time:new Date().toISOString().slice(0,10),layers:"ghsl"},{title:"Corine Land Cover",id:"corine",type:"wms",url:"https://ies-ows.jrc.ec.europa.eu/effis",time:new Date().toISOString().slice(0,10),layers:"corine.l2"},{title:"Fuels",id:"fuels",type:"wms",url:"https://ies-ows.jrc.ec.europa.eu/effis",time:new Date().toISOString().slice(0,10),layers:"fuel_map"},{title:"Water",id:"water",type:"zyx",url:"https://storage.googleapis.com/global-surface-water/maptiles/transitions/{z}/{x}/{y}.png",time:new Date().toISOString().slice(0,10),layers:"fuel_map"}],activeFireSelector:!0};return Ae(async()=>{i.init(a.types)}),(l,c)=>{const h=BS,u=BI,d=aE,f=C("ol-view"),m=C("ol-source-osm"),p=C("ol-tile-layer");return T(),N("div",lE,[$(t).active?(T(),B(h,{key:0,data:a})):nt("",!0),y(u),y(d),y(f,{ref:"view",center:$(s),rotation:$(o),zoom:$(r),projection:$(n)},null,8,["center","rotation","zoom","projection"]),y(p,null,{default:M(()=>[y(m,{url:$(i).url},null,8,["url"])]),_:1})])}}});const hE=Ge(cE,[["__scopeId","data-v-cf02bd95"]]),uE={class:"main-page"},pE=at({__name:"index",setup(e){const t=_e();return Ae(async()=>{await t.init()}),(i,s)=>{const n=$u,r=hE,o=C("ol-map");return T(),N("div",uE,[y(n,{style:{"z-index":"1000"}}),y(o,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"100%",position:"relative"}},{default:M(()=>[y(r)]),_:1})])}}});export{pE as default};
